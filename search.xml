<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯</title>
    <url>/post/%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E5%8D%95%E8%AF%8D/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ éœ€è¦åè½¬å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯çš„å­—ç¬¦é¡ºåºï¼ŒåŒæ—¶ä»ä¿ç•™ç©ºæ ¼å’Œå•è¯çš„åˆå§‹é¡ºåºã€‚</p>
<p>ç¤ºä¾‹:<br>è¾“å…¥: <code>&quot;Let&#39;s take LeetCode contest&quot;</code><br>è¾“å‡º: <code>&quot;s&#39;teL ekat edoCteeL tsetnoc&quot;</code><br>æ³¨æ„ï¼šåœ¨å­—ç¬¦ä¸²ä¸­ï¼Œæ¯ä¸ªå•è¯ç”±å•ä¸ªç©ºæ ¼åˆ†éš”ï¼Œå¹¶ä¸”å­—ç¬¦ä¸²ä¸­ä¸ä¼šæœ‰ä»»ä½•é¢å¤–çš„ç©ºæ ¼ã€‚</p>
<span id="more"></span>

<h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><p>JavaScript æ²¡æœ‰æä¾›é¢ å€’å­—ç¬¦ä¸²çš„èƒ½åŠ›ï¼Œåªæœ‰ä¸€ä¸ªæ•°ç»„æ–¹æ³• <code>reverse()</code> å¯ä»¥é¢ å€’æ•°ç»„å…ƒç´ çš„ä½ç½®ã€‚æ¯”å¦‚ï¼Œç°æœ‰æ•°ç»„ <code>arr</code> ä¸º <code>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</code>ï¼Œåº”ç”¨ <code>reverse()</code> æ–¹æ³•åå¾—åˆ°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> result = arr.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// [&#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨ JavaScript æä¾›çš„å­—ç¬¦ä¸²æ–¹æ³• <code>split()</code> å¯ä»¥å°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆä»¥æŒ‡å®šåˆ†éš”ç¬¦åˆ†éš”çš„æ•°ç»„ã€‚ä¸‹ä¾‹ï¼Œå°†ä¸€å­—ç¬¦ä¸²åˆ†å‰²æˆä»¥å­—æ¯ä¸ºæ•°ç»„å…ƒç´ çš„æ•°ç»„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;Welcome&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> resultArr = str.split(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(resultArr); <span class="comment">// [&#x27;W&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;c&#x27;, &#x27;o&#x27;, &#x27;m&#x27;, &#x27;e&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>å°† <code>resultArr</code> ä¸­æ•°ç»„å…ƒç´ é¢ å€’ä½ç½®åï¼Œå†æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²ï¼Œå³å¯å®ç°å­—ç¬¦ä¸²çš„ä½ç½®é¢ å€’ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> reversedArr = resultArr.reverse(); <span class="comment">// å¾—åˆ°é¢ å€’åçš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> reversedStr = reversedArr.join(<span class="string">&#x27;&#x27;</span>); <span class="comment">// å¾—åˆ°é¢ å€’åçš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="built_in">console</span>.log(reversedStr); <span class="comment">// &#x27;emocleW&#x27;</span></span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ä¸Šé¢çš„æ€è·¯ï¼Œå…ˆå°†å­—ç¬¦ä¸² <code>&quot;Let&#39;s take LeetCode contest&quot;</code> åˆ†å‰²æˆä»¥å•è¯ä¸ºå•ä½çš„æ•°ç»„ï¼Œå†æŠŠæ•°ç»„ä¸­æ¯ä¸ªå•è¯åˆ†å‰²æˆä»¥å­—æ¯ä¸ºæ•°ç»„å…ƒç´ çš„æ•°ç»„å¹¶æ‰§è¡Œé¢ å€’æ“ä½œï¼Œå°†é¢ å€’åçš„æ•°ç»„æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²ï¼Œè¿™æ—¶å¾—åˆ°äº†é¢ å€’åçš„å•è¯ã€‚æœ€åï¼Œå°†å•è¯æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²ï¼Œä¾¿å¾—åˆ°äº†é¢ å€’åçš„å­—ç¬¦ä¸² <code>&quot;s&#39;teL ekat edoCteeL tsetnoc&quot;</code>ã€‚å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@file </span>reverseWords.js</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;Let&#x27;s take LeetCode contest&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> reversedArr = str.split(<span class="string">&#x27; &#x27;</span>).map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item.split(<span class="string">&#x27;&#x27;</span>).reverse().join(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> result = reversedArr.join(<span class="string">&#x27; &#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†éªŒè¯è¾“å‡ºæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œä½¿ç”¨æµ‹è¯•å·¥å…· Jest æ¥éªŒè¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@file </span>reverseWords.test.js</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> reverseWords <span class="keyword">from</span> <span class="string">&#x27;./reverseWords&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;Let&#x27;s take LeetCode contest&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> reversedStr = <span class="string">&quot;s&#x27;teL ekat edoCteeL tsetnoc&quot;</span>;</span><br><span class="line">test(<span class="string">`reverseWords: <span class="subst">$&#123;str&#125;</span>`</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  expect(str).toBe(reversedStr);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ jest [file] éªŒè¯è¦æµ‹è¯•çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> jest ./reverseWords.test.js</span></span><br><span class="line"> PASS  ./reverseWrods.test.ts</span><br><span class="line">  âœ“ reverseWords: Let&#x27;s take LeetCode contest (3ms)</span><br><span class="line"></span><br><span class="line">Test Suites: 1 passed, 1 total</span><br><span class="line">Tests:       1 passed, 1 total</span><br><span class="line">Snapshots:   0 total</span><br><span class="line">Time:        1.089s</span><br><span class="line">Ran all test suites matching /.\/reverseWrods.test.ts/i.</span><br></pre></td></tr></table></figure>

<h2 id="å‡ºå¤„"><a href="#å‡ºå¤„" class="headerlink" title="å‡ºå¤„"></a>å‡ºå¤„</h2><p>æ¥æºï¼š<a href="https://leetcode-cn.com/">åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a><br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/reverse-words-in-a-string-iii/">557. åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III</a></p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ vscode ä¸­ç¦»çº¿å®‰è£…æ‰©å±•çš„æ–¹æ³•</title>
    <url>/post/%E5%9C%A8-vscode-%E4%B8%AD%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E6%89%A9%E5%B1%95%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>æ˜æ˜å¯ä»¥åœ¨çº¿å®‰è£… vscode æ‰©å±•ï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¦»çº¿çš„æ–¹å¼å®‰è£…å‘¢ï¼Ÿåœ¨çº¿å®‰è£…å®ƒä¸é¦™å˜›ï½</p>
<p>åœ¨çº¿å®‰è£…è™½ç„¶é¦™ï¼Œä½†æ˜¯é‡åˆ°ä¸‹é¢è¿™ç§æƒ…å†µï¼Œå®ƒå°±é¦™ä¸èµ·æ¥å•¦ã€‚</p>
<span id="more"></span>

<p>ç°åœ¨è®¸å¤šä¼ä¸šæŠŠæœ¬åœ°çš„å¼€å‘ç¯å¢ƒæåˆ°äº†äº‘ç«¯ï¼Œæ—¢èƒ½ä¿è¯å¼€å‘ç¯å¢ƒçš„ä¸€è‡´æ€§è¿˜èƒ½ä¸ºå¼€å‘äººå‘˜æä¾›å¼ºå¤§çš„ç¡¬ä»¶æ€§èƒ½ã€‚åŒæ—¶ï¼Œä¸ºäº†é¡¹ç›®å®‰å…¨æ€§è€ƒè™‘ï¼Œäº‘ç«¯çš„å¼€å‘ç¯å¢ƒæ˜¯æ²¡æœ‰åŠæ³•ä¸Šç½‘çš„ï¼Œè¿™ç§æƒ…å†µä¸‹æ€ä¹ˆä½¿ç”¨ vsocde æä¾›çš„æ‰©å±•å‘¢ï¼Ÿä¸‹é¢æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•åœ¨ç¦»çº¿ç¯å¢ƒä¸‹å®‰è£… vscode æ’ä»¶ã€‚</p>
<h2 id="åˆ°-vscode-æ’ä»¶å¸‚åœºä¸‹è½½éœ€è¦çš„æ‰©å±•"><a href="#åˆ°-vscode-æ’ä»¶å¸‚åœºä¸‹è½½éœ€è¦çš„æ‰©å±•" class="headerlink" title="åˆ° vscode æ’ä»¶å¸‚åœºä¸‹è½½éœ€è¦çš„æ‰©å±•"></a>åˆ° vscode æ’ä»¶å¸‚åœºä¸‹è½½éœ€è¦çš„æ‰©å±•</h2><p>ä¸‹é¢æˆ‘ä»¬ä»¥å®‰è£…ç®€ä½“ä¸­æ–‡è¯­è¨€åŒ…ä¸ºä¾‹ã€‚è®¿é—® vscode æ’ä»¶å¸‚åœºï¼ˆ<a href="https://marketplace.visualstudio.com/">https://marketplace.visualstudio.com</a>ï¼‰ï¼Œæœç´¢ chinese æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„ç®€ä½“ä¸­æ–‡è¯­è¨€åŒ…ã€‚</p>
<p><img src="/images/2020/04/vscode_%E6%8F%92%E4%BB%B6%E5%B8%82%E5%9C%BA.png" alt="VSCode æ’ä»¶å¸‚åœº"></p>
<p>ä¸Šé¢çº¢æ¡†ä¸­çš„ç»“æœå°±æ˜¯æˆ‘ä»¬è¦çš„ç®€ä½“ä¸­æ–‡è¯­è¨€åŒ…æ‰©å±•æ–‡ä»¶ã€‚ç‚¹è¿›å»ï¼Œåœ¨é¡µé¢å³ä¾§æœ‰ä¸€ä¸ª <strong>Download Extension</strong> æŒ‰é’®ï¼Œç‚¹å‡»è¿™é‡Œä¸‹è½½ä¸­æ–‡è¯­è¨€åŒ…æ–‡ä»¶ã€‚</p>
<p><img src="/images/2020/04/%E4%B8%8B%E8%BD%BDvscode%E4%B8%AD%E6%96%87%E8%AF%AD%E8%A8%80%E5%8C%85.webp" alt="ç®€ä½“ä¸­æ–‡è¯­è¨€åŒ…"></p>
<p>ç¡®è®¤ä¸‹è½½çš„æ–‡ä»¶æ˜¯å¦æ˜¯ä»¥ .vsix ä¸ºæ‰©å±•çš„æ–‡ä»¶ã€‚</p>
<p><img src="/images/2020/04/vscode%E6%8F%92%E4%BB%B6%E6%89%A9%E5%B1%95%E6%96%87%E4%BB%B6%E4%B8%BA.vsix.png" alt="æ‰©å±•æ–‡ä»¶"></p>
<h2 id="ç¦»çº¿å®‰è£…æ‰©å±•"><a href="#ç¦»çº¿å®‰è£…æ‰©å±•" class="headerlink" title="ç¦»çº¿å®‰è£…æ‰©å±•"></a>ç¦»çº¿å®‰è£…æ‰©å±•</h2><p>å°†æ‰©å±•æ–‡ä»¶æ”¾åˆ° vscode å®‰è£…ç›®å½•ä¸‹çš„ bin ç›®å½•ã€‚windows ä¸‹çš„ bin ç›®å½•å¾ˆå¥½æ‰¾ï¼Œåœ¨ vscode å®‰è£…ç›®å½•ä¸‹ä¸€çœ¼å°±å¯ä»¥æ‰¾åˆ°ï¼š</p>
<p><img src="/images/2020/04/vscode%E5%9C%A8windows%E4%B8%8B%E7%9A%84bin%E7%9B%AE%E5%BD%95%E4%BD%8D%E7%BD%AE.png" alt="Windows ä¸‹ bin ç›®å½•ä½ç½®"></p>
<p>å¯¹äº mac ç”¨æˆ·æ¥è¯´ï¼Œè¦æ‰¾åˆ° bin ç›®å½•è¦ç¨å¾®éº»çƒ¦ä¸€ç‚¹ã€‚æ‰“å¼€ Finderï¼Œæ‰¾åˆ° vscode åº”ç”¨ç¨‹åºï¼ŒåŒæŒ‡è½»æŒ‰è§¦æ§æ¿ï¼Œé€‰æ‹©å¼¹å‡ºæ¡†çš„ <strong>æ˜¾ç¤ºåŒ…å†…å®¹</strong> é€‰é¡¹ã€‚</p>
<p><img src="/images/2020/04/mac%E4%B8%8B%E6%98%BE%E7%A4%BAvscode%E7%9A%84%E5%8C%85%E5%86%85%E5%AE%B9.png" alt="Mac ä¸‹æ˜¾ç¤ºåŒ…å†…å®¹"></p>
<p>ä¾æ¬¡æ‰“å¼€ Contents -&gt; Resources -&gt; app å³å¯æ‰¾åˆ° bin ç›®å½•ï¼š</p>
<p><img src="/images/2020/04/mac%E4%B8%8B%E7%9A%84vscode%E7%9A%84bin%E7%9B%AE%E5%BD%95.png" alt="Mac ä¸‹ bin ç›®å½•ä½ç½®"></p>
<p>æˆ‘ä»¬çœ‹åˆ° bin ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåä¸º code çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­æ‰§è¡Œè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚éšä¾¿æ‰¾ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œæ¯”å¦‚ windows çš„ cmd æˆ–è€… mac çš„ item éƒ½å¯ä»¥ï¼Œåœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­ cd åˆ° bin ç›®å½•ï¼š</p>
<p><img src="/images/2020/04/cd%E5%88%B0vscode%E4%B8%AD%E7%9A%84bin%E7%9B%AE%E5%BD%95%E4%B8%8B.png" alt="ç»ˆç«¯æ‰§è¡Œå‘½ä»¤"></p>
<p>åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">code --install-extension ./MS-CEINTL.vscode-language-pack-zh-hans-1.46.0.vsix</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±æˆåŠŸå®‰è£…ä¸Šç®€ä½“ä¸­æ–‡ç¦»çº¿æ‰©å±•åŒ…æ–‡ä»¶å•¦ï½ å®‰è£…å…¶ä»–æ‰©å±•ä¹Ÿæ˜¯åŒæ ·çš„æ­¥éª¤ã€‚é‡åˆ°ä»»ä½•é—®é¢˜æ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€è®¨è®ºå“¦ ^_^</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢</title>
    <url>/post/%E7%94%A8-Github-Actions-%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2-Hexo-%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨é…ç½® Hexo å’Œå†™åšå®¢çš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡å‘å¸ƒåšå®¢éƒ½è¦æäº¤å˜æ›´ã€hexo clean å’Œ hexo depolyï¼Œæ­¥éª¤å®åœ¨æ˜¯å¤ªç¹çã€‚æœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼å¯ä»¥å®ç°è‡ªåŠ¨åŒ–åœ°éƒ¨ç½²åšå®¢å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ã€‚å½“å‰å¸‚é¢ä¸Šæœ‰å…³è‡ªåŠ¨åŒ–éƒ¨ç½²çš„å·¥å…·ç¡®å®ä¸å°‘ï¼Œåƒå¸¸ç”¨çš„ jinkensã€travisã€circleci å’Œ GitHub Actions ç­‰ã€‚</p>
<p>è¿™é‡Œæˆ‘å°±ç”¨ GitHub Actions å§ï¼Œæ¯•ç«Ÿåšå®¢æ˜¯æ‰˜ç®¡åœ¨ GitHub ä¸Šçš„ï¼Œä¸€å¥—æµç¨‹èµ°ä¸‹æ¥ä¹Ÿæ˜¯æ–¹ä¾¿çš„å¾ˆã€‚</p>
<span id="more"></span>

<h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç¡®ä¿åœ¨æœ¬åœ°å·²ç»å®‰è£…äº† hexo-cliï¼Œå®‰è£…æ–¹å¼å‚è§ <a href="https://hexo.io/zh-cn/docs/">å®˜ç½‘</a>ã€‚</p>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦åœ¨ GitHub ä¸Šéƒ¨ç½² pagesï¼Œå‚è€ƒ <a href="https://pages.github.com/">è¿™é‡Œ</a>ã€‚</p>
<p>æ‰“å¼€ Hexo çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code>ï¼Œç¡®ä¿é…ç½®æ–‡ä»¶ä¸­æœ‰ä»¥ä¸‹é…ç½®ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:smpower/smpower.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè§£é‡Šä¸€ä¸‹ï¼Œä¸Šé¢é…ç½®çš„æ„æ€æ˜¯ä½¿ç”¨ <code>hexo-deployer-git</code> æ’ä»¶å°† Hexo ç”Ÿæˆçš„é™æ€ç½‘ç«™èµ„æºæäº¤åˆ° <code>repository</code> ä»“åº“çš„ <code>master</code> åˆ†æ”¯ä¸Šã€‚å½“æˆ‘ä»¬è®¿é—®åšå®¢çš„æ—¶å€™ï¼Œå®é™…ä¸Šå°±æ˜¯è®¿é—®çš„è¿™ä¸ªåˆ†æ”¯çš„é™æ€èµ„æºã€‚</p>
<div class="note info"><p>æ³¨æ„ï¼šè¯·å°† <code>repository</code> æ”¹ä¸ºä½ è‡ªå·±çš„ä»“åº“åœ°å€ï¼Œå¹¶ä¸”å°† <code>branch</code> ä¿®æ”¹ä¸ºä½ çš„ gh-pages åˆ†æ”¯ã€‚</p>
</div>

<h2 id="ç”Ÿæˆå¯†é’¥"><a href="#ç”Ÿæˆå¯†é’¥" class="headerlink" title="ç”Ÿæˆå¯†é’¥"></a>ç”Ÿæˆå¯†é’¥</h2><p>è¿™é‡Œæˆ‘ä»¬ç”Ÿæˆçš„å¯†é’¥æ˜¯ç”¨åœ¨ä»“åº“ä¸­çš„ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;Hexo Deploy Key&quot;</span> -f github-deploy-key-hi-ruofei-com -N <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li>github-deploy-key-hi-ruofei-com â€”â€” ç§é’¥</li>
<li>github-deploy-key-hi-ruofei-com.pub â€”â€” å…¬é’¥</li>
</ul>
<h2 id="Github-é…ç½®å¯†é’¥"><a href="#Github-é…ç½®å¯†é’¥" class="headerlink" title="Github é…ç½®å¯†é’¥"></a>Github é…ç½®å¯†é’¥</h2><p>æˆ‘ä»¬æŠŠ <code>ç§é’¥</code> æ”¾åœ¨æˆ‘ä»¬å­˜æ”¾ Hexo åŸå§‹æ–‡ä»¶ä»£ç çš„ä»“åº“é‡Œé¢ï¼Œç”¨æ¥è§¦å‘ Actions ä½¿ç”¨ã€‚</p>
<p>æŠŠ <code>å…¬é’¥</code> æ”¾åœ¨ GitHub pages å¯¹åº”çš„ä»“åº“é‡Œé¢ï¼Œç”¨äº Hexo éƒ¨ç½²æ—¶çš„å†™å…¥æ“ä½œã€‚</p>
<h3 id="é…ç½®ç§é’¥"><a href="#é…ç½®ç§é’¥" class="headerlink" title="é…ç½®ç§é’¥"></a>é…ç½®ç§é’¥</h3><p>é¦–å…ˆåœ¨ GitHub ä¸Šæ‰“å¼€ä¿å­˜ Hexo åŸå§‹ä»£ç çš„ä»“åº“ï¼Œè®¿é—® <code>Settings -&gt; Secrets</code>ï¼Œé¡µé¢å¦‚ä¸‹ï¼š</p>
<p><img src="/images/2020/11/secrets.png"></p>
<p>ç„¶åç‚¹å‡» <code>New repository secret</code>:</p>
<p><img src="/images/2020/11/secrets2.png"></p>
<p><code>Name</code> å¤„å¡«å†™ <code>HEXO_DEPLOY_KEY_HI_RUOFEI_COM</code>ï¼Œæ³¨æ„å¤§å°å†™ï¼Œè¿™ä¸ªåé¢çš„ GitHub Actions Workflow è¦ç”¨åˆ°ï¼Œä¸€å®šä¸èƒ½å†™é”™ã€‚</p>
<p>åœ¨ <code>Value</code> å¤„å¡«å†™ <code>github-deploy-key-hi-ruofei-com</code> ä¸­çš„å†…å®¹ï¼š</p>
<p><img src="/images/2020/11/new_secret.png"><br>æ·»åŠ äº†ç§é’¥ä»¥åçš„é¡µé¢å¦‚ä¸‹ï¼š</p>
<p><img src="/images/2020/11/secrets3.png"></p>
<h3 id="é…ç½®å…¬é’¥"><a href="#é…ç½®å…¬é’¥" class="headerlink" title="é…ç½®å…¬é’¥"></a>é…ç½®å…¬é’¥</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦è®¿é—®å­˜æ”¾ç½‘é¡µçš„ä»“åº“ï¼Œä¹Ÿå°±æ˜¯ Hexo éƒ¨ç½²ä»¥åçš„ä»“åº“ï¼Œæ¯”å¦‚ï¼šyourname.github.io è¿™ç§ï¼Œè®¿é—® Settings -&gt; Deploy keysï¼š</p>
<p><img src="/images/2020/11/deploy_keys.png"></p>
<p>ç‚¹å‡» <code>Add deploy key</code> æŒ‰é’®æ¥æ·»åŠ ä¸€ä¸ªæ–°çš„å…¬é’¥ï¼š</p>
<p><img src="/images/2020/11/add_new_deploy_key.png"></p>
<p>åœ¨ Title ä¸­è¾“å…¥ï¼šHEXO_DEPLOY_PUB_HI_RUOFEI_COM å­—æ ·ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¡«å†™å…¶å®ƒè‡ªå®šä¹‰çš„åå­—ã€‚</p>
<p>åœ¨ Key ä¸­ç²˜è´´ github-deploy-key-hi-ruofei-com.pub æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<div class="note info"><p>æ³¨æ„ï¼šä¸€å®šè¦å‹¾é€‰ Allow write access æ¥æ‰“å¼€å†™æƒé™ï¼Œå¦åˆ™æ— æ³•å†™å…¥ä¼šå¯¼è‡´éƒ¨ç½²å¤±è´¥ã€‚</p>
</div>

<p><img src="/images/2020/11/add_new_deploy_key2.png"></p>
<p>æœ€åæ·»åŠ å¥½äº†å…¬é’¥çš„ç•Œé¢å¦‚ä¸‹ï¼š</p>
<p><img src="/images/2020/11/deploy_keys2.png"></p>
<h2 id="åˆ›å»º-Workflow"><a href="#åˆ›å»º-Workflow" class="headerlink" title="åˆ›å»º Workflow"></a>åˆ›å»º Workflow</h2><p>é¦–å…ˆåœ¨ Hexo çš„ä»“åº“ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼š.github&#x2F;workflows&#x2F;deploy.ymlï¼Œæ–‡ä»¶åå¯ä»¥è‡ªå·±å–ï¼Œä½†æ˜¯ä¸€å®šè¦æ”¾åœ¨ .github&#x2F;workflows ç›®å½•ä¸­ï¼Œæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">Deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-18.04</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">github.event.repository.owner.id</span> <span class="string">==</span> <span class="string">github.event.sender.id</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">source</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">hexo</span> <span class="comment"># è¿™æ˜¯ä½ çš„ Hexo æºæ–‡ä»¶æ‰€åœ¨çš„åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&quot;14.x&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">ACTION_DEPLOY_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.HEXO_DEPLOY_KEY_HI_RUOFEI_COM</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          mkdir -p ~/.ssh/</span></span><br><span class="line"><span class="string">          echo &quot;$ACTION_DEPLOY_KEY&quot; &gt; ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">          chmod 700 ~/.ssh</span></span><br><span class="line"><span class="string">          chmod 600 ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">          git config --global user.email &quot;contact@mail.ruofei.site&quot;</span></span><br><span class="line"><span class="string">          git config --global user.name &quot;ruofei&quot;</span></span><br><span class="line"><span class="string">          npm install hexo-cli yarn -g</span></span><br><span class="line"><span class="string">          yarn</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          hexo clean</span></span><br><span class="line"><span class="string">          hexo deploy</span></span><br></pre></td></tr></table></figure>

<p>ç®€å•è§£é‡Šä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬æ¨é€å†…å®¹åˆ°è¿œç¨‹ hexo åˆ†æ”¯çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ª Workflowã€‚</p>
<p>ä½¿ç”¨ Ubuntu 18.04 ä½œä¸º hexo deploy çš„ç³»ç»Ÿã€‚</p>
<p>é¦–å…ˆ checkout æºä»£ç (åœ¨ hexo åˆ†æ”¯)ï¼Œç„¶åè®¾ç½®ä½¿ç”¨æœ€æ–°çš„ Node.js v14.x LTS ä½œä¸º node è§£é‡Šå™¨ã€‚</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯åˆ›å»º SSH ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼Œæ³¨æ„ secrets.HEXO_DEPLOY_KEY_HI_RUOFEI_COM å°±æ˜¯å¯¹åº”æˆ‘ä»¬ä¹‹å‰è®¾ç½®çš„ç§é’¥ï¼Œæ‰€ä»¥åå­—ä¸€å®šä¸è¦æé”™ã€‚</p>
<p>git config ç›¸å…³çš„åå­—å’Œé‚®ä»¶åœ°å€æ›¿æ¢æˆå¤§å®¶è‡ªå·±ä½¿ç”¨çš„å°±å¥½äº†ã€‚</p>
<p>æœ€åå°±æ˜¯å®‰è£… Hexo CLIï¼Œå„ä¸ªä¾èµ–æ¨¡å—å’Œéƒ¨ç½²äº†ã€‚</p>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>ä¸‹é¢å°±æ˜¯ GitHub Actions é¡µé¢æ˜¾ç¤ºçš„è¿è¡Œç»“æœï¼š</p>
<p><img src="/images/2020/11/workflows.png"></p>
<p>å‰é¢æœ‰ç»¿è‰²é’©é’©çš„ï¼Œå°±è¡¨ç¤ºéƒ¨ç½²æˆåŠŸï¼Œçº¢è‰²å‰å‰çš„è¡¨ç¤ºå¤±è´¥ã€‚å¦‚æœéƒ¨ç½²å¤±è´¥ï¼Œè¿˜ä¼šæ”¶åˆ° GitHub çš„é‚®ä»¶æé†’ã€‚</p>
<p>å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯åˆ©ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo åˆ° GitHub Pages çš„æ–¹æ³•ï¼Œæœ‰ç–‘é—®çš„è¯·åœ¨ä¸‹æ–¹ç•™è¨€å“¦ ğŸ˜Š</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å»ºç«™</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Webpack åŸºæœ¬é…ç½®</title>
    <url>/post/Webpack-%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h2 id="åˆå§‹åŒ–é¡¹ç›®ç›®å½•"><a href="#åˆå§‹åŒ–é¡¹ç›®ç›®å½•" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®ç›®å½•"></a>åˆå§‹åŒ–é¡¹ç›®ç›®å½•</h2><p>é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œåˆå§‹åŒ– npmï¼Œç„¶ååœ¨æœ¬åœ°å®‰è£… webpackï¼Œæ¥ç€å®‰è£… <code>webpack-cli</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir webpack-demo</span><br><span class="line"><span class="built_in">cd</span> webpack-demo</span><br><span class="line">npm init -y</span><br><span class="line">npm install webpack webpack-cli html-webpack-plugin --save-dev <span class="comment"># æˆ– yarn add --dev webpack webpack-cli html-webpack-plugin</span></span><br></pre></td></tr></table></figure>

<div class="note info"><p><code>webpack-cli</code> å·¥å…·ç”¨äºåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ webpackã€‚<a href="/development/webpack/plugins/HtmlWebpackPlugin"><code>html-webpack-plugin</code></a> æ˜¯ webpack çš„ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆ HTML5 æ–‡ä»¶çš„æ’ä»¶ã€‚</p>
</div>

<span id="more"></span>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä»¥ä¸‹ç›®å½•ç»“æ„ã€æ–‡ä»¶å’Œå†…å®¹ï¼š</p>
<div class="tabs" id="åˆå§‹åŒ–é¡¹ç›®ç›®å½•"><ul class="nav-tabs"><li class="tab active"><a href="#åˆå§‹åŒ–é¡¹ç›®ç›®å½•-1">project</a></li><li class="tab"><a href="#åˆå§‹åŒ–é¡¹ç›®ç›®å½•-2">package.json</a></li><li class="tab"><a href="#åˆå§‹åŒ–é¡¹ç›®ç›®å½•-3">public/index.html</a></li><li class="tab"><a href="#åˆå§‹åŒ–é¡¹ç›®ç›®å½•-4">src/index.js</a></li></ul><div class="tab-content"><div class="tab-pane active" id="åˆå§‹åŒ–é¡¹ç›®ç›®å½•-1"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">webpack-demo</span><br><span class="line">|- package.json</span><br><span class="line">|- config/</span><br><span class="line">  |- webpack.config.js</span><br><span class="line">|- public/</span><br><span class="line">  |- index.html</span><br><span class="line">|- src/</span><br><span class="line">  |- index.js</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ç»“æ„ã€‚</p></div><div class="tab-pane" id="åˆå§‹åŒ–é¡¹ç›®ç›®å½•-2"><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;webpack-demo&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.1.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;Webpack demo&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;webpack --config config/webpack.config.js&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span>: [],</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;html-webpack-plugin&quot;</span>: <span class="string">&quot;^4.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span>: <span class="string">&quot;^5.10.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack-cli&quot;</span>: <span class="string">&quot;^4.2.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ <code>npm run build</code> æˆ– <code>yarn build</code> å‘½ä»¤æ—¶ï¼Œwebpack ä¼šä½¿ç”¨ config ç›®å½•ä¸‹çš„ <code>webpack.config.js</code> é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®é¡¹æ¥ç¼–è¯‘é¡¹ç›®ã€‚</p></div><div class="tab-pane" id="åˆå§‹åŒ–é¡¹ç›®ç›®å½•-3"><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    Hello world.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¯¥æ–‡ä»¶ä¸ºæ¨¡æ¿æ–‡ä»¶ï¼Œå½“ webpack ç¼–è¯‘åä¼šæŠŠè¯¥æ–‡ä»¶å¤åˆ¶åˆ° webpack é…ç½®çš„è¾“å‡ºç›®å½•ä¸­ã€‚</p></div><div class="tab-pane" id="åˆå§‹åŒ–é¡¹ç›®ç›®å½•-4"><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Hello world.&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™å°±æ˜¯æˆ‘ä»¬é¡¹ç›®çš„å…¥å£æ–‡ä»¶äº†ã€‚</p></div></div></div>

<h2 id="Webpack-åŸºæœ¬é…ç½®"><a href="#Webpack-åŸºæœ¬é…ç½®" class="headerlink" title="Webpack åŸºæœ¬é…ç½®"></a>Webpack åŸºæœ¬é…ç½®</h2><p>åœ¨ config ç›®å½•ä¸‹çš„ webpack.config.js æ–‡ä»¶ä¸­å¡«å†™ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: path.resolve(__dirname, <span class="string">&quot;../src/index.js&quot;</span>),</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&quot;../dist&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      <span class="attr">template</span>: path.resolve(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>entry</code>ï¼šwebpack çš„<a href="https://webpack.docschina.org/concepts/entry-points/">å…¥å£èµ·ç‚¹</a>ï¼Œè¿™é‡Œæˆ‘ä»¬å°† src ç›®å½•ä¸‹çš„ index.js æ–‡ä»¶ä½œä¸ºå…¥å£èµ·ç‚¹ã€‚</li>
<li><code>output</code>ï¼š webpack ç¼–è¯‘åçš„<a href="https://webpack.docschina.org/concepts/output/">è¾“å‡ºç›®å½•</a>ï¼Œæœ€åç¼–è¯‘åçš„æ–‡ä»¶å°†ä¼šè¾“å‡ºåˆ°é¡¹ç›®æ ¹ç›®å½•çš„ dist æ–‡ä»¶å¤¹ä¸‹ã€‚</li>
<li><code>plugins</code>ï¼šé…ç½®<a href="https://webpack.docschina.org/concepts/#plugins">æ’ä»¶</a>ï¼Œå¯ä»¥é…ç½®ä»»æ„å¤šä¸ªæ’ä»¶ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œé…ç½®äº† <a href="/development/webpack/plugins/HtmlWebpackPlugin/">HtmlWebpackPlugin</a> æ’ä»¶ã€‚è¯¥æ’ä»¶ä¼šé€šè¿‡é…ç½®é¡¹ä¸­çš„ <code>template</code> å±æ€§å°† public&#x2F;index.html æ–‡ä»¶å¤åˆ¶åˆ° dist ç›®å½•ä¸‹ï¼Œå¹¶å°† webpack ç¼–è¯‘ç”Ÿæˆçš„ bundle æ’å…¥åˆ°æ–‡ä»¶ä¸­ã€‚</li>
</ul>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>æ‰§è¡Œ <code>npm run build</code> æˆ– <code>yarn build</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm run build</span><br><span class="line">[webpack-cli] Compilation finished</span><br><span class="line">asset index.html 225 bytes [emitted]</span><br><span class="line">asset main.js 28 bytes [compared <span class="keyword">for</span> emit] [minimized] (name: main)</span><br><span class="line">./src/index.js 29 bytes [built] [code generated]</span><br><span class="line">webpack 5.10.1 compiled successfully <span class="keyword">in</span> 259 ms</span><br><span class="line">âœ¨  Done <span class="keyword">in</span> 1.38s.</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘ç»“æŸåï¼Œé¡¹ç›®æ ¹ç›®å½•é¡¹ä¼šè¢«åˆ›å»ºå‡ºä¸€ä¸ª dist ç›®å½•ï¼Œç›®å½•ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">dist/</span><br><span class="line">|- index.html</span><br><span class="line">|- main.js</span><br></pre></td></tr></table></figure>

<p>åœ¨ index.html çš„ <code>body</code> æ ‡ç­¾ä¸­ï¼Œæˆ‘ä»¬ä¼šå‘ç° main.js æ–‡ä»¶å·²ç»è¢«æ­£ç¡®å¼•å…¥è¿›æ¥äº†ã€‚ç°åœ¨æˆ‘ä»¬ç”¨æµè§ˆå™¨æ‰“å¼€ index.html æ–‡ä»¶ï¼Œä¼šåœ¨é¡µé¢ä¸­æ˜¾ç¤º <code>Hello world.</code> ä¸”æ§åˆ¶å°ä¸­ä¼šæ‰“å° <code>Hello world.</code> æ¶ˆæ¯ã€‚</p>
<p>è‡³æ­¤ï¼Œä¸€ä¸ªæœ€åŸºæœ¬çš„ webpack é…ç½®å·²ç»å®Œæˆï¼Œæœ‰ä»»ä½•æƒ³æ³•æˆ–ç–‘é—®æ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€è®¨è®ºã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <tags>
        <tag>Webpack</tag>
      </tags>
  </entry>
  <entry>
    <title>typescript ä¸­çš„è”åˆç±»å‹å’Œç±»å‹ä¿æŠ¤</title>
    <url>/post/typescript-%E4%B8%AD%E7%9A%84%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%B1%BB%E5%9E%8B%E4%BF%9D%E6%8A%A4/</url>
    <content><![CDATA[<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜ typescript ä¸­çš„è”åˆç±»å‹ã€‚</p>
<p>å…ˆæ¥ä¸¤åªå°åŠ¨ç‰©ï¼šBird å’Œ Dogã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå°é¸Ÿä¼šå«ã€ä¼šé£ï¼Œå°ç‹—ä¼šå«ä½†æ˜¯ä¸ä¼šé£ï¼Œæ ¹æ®å®ƒä»¬çš„è¿™ä¸¤ç§å±æ€§æˆ‘ä»¬å°±èƒ½å®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> Bird &#123;</span><br><span class="line">  <span class="attr">fly</span>: <span class="built_in">boolean</span>;</span><br><span class="line">  sing: <span class="function">() =&gt;</span> &#123;&#125;; <span class="comment">// å°é¸Ÿå”±æ­Œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Dog &#123;</span><br><span class="line">  <span class="attr">fly</span>: <span class="built_in">boolean</span>;</span><br><span class="line">  bark: <span class="function">() =&gt;</span> &#123;&#125;; <span class="comment">// å°ç‹—æ±ªæ±ªå«</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>å®šä¹‰å¥½äº†æ¥å£ï¼Œé‚£æˆ‘ä»¬å°±æ¥è®­ç»ƒä¸€ä¸‹è¿™ä¸¤åªå°åŠ¨ç‰©å§ã€‚ä¸‹é¢æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•° <code>trainAnimal</code>ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå½¢å‚ <code>animal</code>ï¼Œå¦‚æœè¿™ä¸ªå‚æ•°å¯ä»¥æŒ‡ <code>Bird</code> ä¹Ÿå¯ä»¥æŒ‡ <code>Dog</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">animal: Bird | Dog</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// do something...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åƒä¸Šé¢å‡½æ•°ä¸­ä½¿ç”¨ <code>|</code> å°†æ¥å£ååˆ†å‰²å¼€çš„å†™æ³•å°±æ˜¯ typescript ä¸­è”åˆç±»å‹çš„å†™æ³•ï¼Œè”åˆç±»å‹å…è®¸æˆ‘ä»¬å°†å¤šä¸ªç±»å‹ç»„åˆèµ·æ¥ã€‚åœ¨è¿™ä¸ªåˆ—å­ä¸­ <code>animal</code> å¯ä»¥æ˜¯ <code>Bird</code> å’Œ <code>Dog</code> ä¸¤ç§ç±»å‹ä¸­çš„ä»»æ„ä¸€ç§ã€‚å°±åƒç°å®ä¸–ç•Œä¸­æˆ‘ä»¬æ‰€è¯´çš„åŠ¨ç‰©ï¼Œå°é¸Ÿå’Œå°ç‹—éƒ½å±äºåŠ¨ç‰©çš„ä¸€ç§ã€‚è¿™æ ·ç†è§£è”åˆç±»å‹æ˜¯ä¸æ˜¯å°±æ¸…æ¥šå¤šäº†å‘¢ï¼Ÿ</p>
<p>ç±»å‹ <code>Bird</code> å’Œ <code>Dog</code> ä¸­éƒ½æœ‰ <code>fly</code> å±æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½å¾ˆæ–¹ä¾¿çš„è®¿é—®åˆ°å®ƒä»¬å…±æœ‰çš„è¿™ä¸ªå±æ€§ <code>fly</code>ï¼Œä½†æ˜¯å…¶ä¸­çš„ <code>sing</code> æ–¹æ³•æˆ– <code>bark</code> æ–¹æ³•å°±ä¸èƒ½ç›´æ¥è®¿é—®äº†ã€‚å› ä¸º <code>animal</code> å¯èƒ½æ˜¯ <code>Bird</code> ä¹Ÿå¯èƒ½æ˜¯ <code>Dog</code>ï¼Œå¦‚æœ <code>animal</code> æ˜¯ <code>Bird</code> çš„è¯è‚¯å®šæ²¡æœ‰ <code>bark</code> æ–¹æ³•ï¼Œå¦‚æœ <code>animal</code> æ˜¯ <code>Dog</code> çš„è¯ï¼Œé‚£è‚¯å®šå°±æ²¡æœ‰ <code>sing</code> æ–¹æ³•äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•æ–­å®š <code>animal</code> å±äºå“ªç§ç±»å‹å‘¢ï¼Ÿ</p>
<p>ä¸‹é¢æœ‰è¯·<strong>ç±»å‹æ–­è¨€</strong>ä¸Šåœºã€‚è¿™å®¶ä¼™æœ‰ä¸ªç‰¹ç‚¹ï¼šæˆ‘è¯´æ˜¯å•¥å°±æ˜¯å•¥ï¼ä¸æ˜¯ä¹Ÿå¾—æ˜¯ï¼</p>
<p>ç±»å‹æ–­è¨€è¯´ï¼šå¦‚æœä½ ä¼šé£ï¼Œä½ å°±æ˜¯å°é¸Ÿï¼›å¦‚æœä¸ä¼šé£ï¼Œé‚£ä½ å°±æ˜¯å°ç‹—ï¼</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">animal: Bird | Dog</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (animal.fly) &#123;</span><br><span class="line">    (animal <span class="keyword">as</span> Bird).sing();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    (animal <span class="keyword">as</span> Dog).bark();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„åˆ° <code>as</code> è¯­æ³•äº†å—ï¼Ÿé€šå¸¸æˆ‘ä»¬åœ¨ <code>as</code> åæ¥ä¸€ä¸ªç±»å‹åï¼Œå°±è¡¨ç¤º <code>as</code> å‰çš„å˜é‡å±äº <code>as</code> åçš„ç±»å‹ï¼Œç„¶åå†ä»¥å°æ‹¬å·åŒ…å›´èµ·æ¥ã€‚è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœ <code>animal</code> ä¸­ <code>fly</code> å±æ€§ä¸ºçœŸçš„è¯ï¼Œ<code>animal</code> æŒ‡çš„å°±æ˜¯ <code>Bird</code> ç±»å‹ï¼Œç„¶åå°±èƒ½è®¿é—®åˆ° <code>Bird</code> ä¸­çš„ <code>sing</code> æ–¹æ³•äº†ï¼›åä¹‹ï¼Œ<code>animal</code> å°±æ˜¯ <code>Dog</code> ç±»å‹ï¼Œè¿™æ ·å°±èƒ½è®¿é—®åˆ° <code>Dog</code> ç±»å‹ä¸­çš„ <code>bark</code> æ–¹æ³•äº†ã€‚</p>
<p>ä¸Šé¢æåˆ°çš„<strong>ç±»å‹æ–­è¨€</strong>æ˜¯ç±»å‹ä¿æŠ¤çš„ä¸€ç§æ–¹æ³•ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰è®¸å¤šå…¶ä»–æ–¹å¼ä¹Ÿå¯ä»¥å®ç°ç±»å‹ä¿æŠ¤çš„èƒ½åŠ›ã€‚æ¯”å¦‚ä½¿ç”¨ <code>in</code> è¯­æ³•ã€‚</p>
<p><code>in</code> è¯­æ³•è¦æ¯”ä¸Šé¢çš„ç±»å‹æ–­è¨€æ–¹å¼ç®€å•å¤šäº†ï¼Œä¸ç”¨æˆ‘ä»¬é¢å¤–åˆ¤æ–­æ–¹æ³•ä¼ å…¥çš„å‚æ•°ä¸­æ˜¯å¦å­˜åœ¨ <code>fly</code> å±æ€§ã€‚</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trainAnimal</span>(<span class="params">animal: Bird | Dog</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">&quot;sing&quot;</span> <span class="keyword">in</span> animal) animal.sing();</span><br><span class="line">  <span class="keyword">else</span> animal.bark();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç çš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>in</code> è¯­æ³•ç›´æ¥åˆ¤æ–­ <code>animal</code> å±æ€§ä¸­æ˜¯å¦å­˜åœ¨ <code>sing</code> å±æ€§ï¼Œå¦‚æœå­˜åœ¨å°±ç›´æ¥è°ƒç”¨ <code>sing</code> æ–¹æ³•ã€‚å› ä¸º <code>animal</code> å±æ€§é™¤äº†æ˜¯ <code>Bird</code> ç±»å‹å¤–ï¼Œåªå¯èƒ½æ˜¯ <code>Dog</code> ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ <code>if</code> è¯­å¥çš„ <code>else</code> åˆ†æ”¯ä¸­ç›´æ¥è°ƒç”¨ <code>bark</code> æ–¹æ³•ã€‚</p>
<p>é€šè¿‡è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°±çŸ¥é“ä»€ä¹ˆæ˜¯è”åˆç±»å‹å’Œç±»å‹ä¿æŠ¤äº†å§ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <tags>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript åŸºç¡€è¯­æ³•</title>
    <url>/post/JavaScript-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<p>ECMAScript çš„è¯­æ³•å¤§é‡å€Ÿé‰´äº† C åŠå…¶ä»–ç±» C è¯­è¨€ï¼ˆå¦‚ Java å’Œ Perlï¼‰çš„è¯­æ³•ï¼Œè€Œ ECMAScript è¯­æ³•ç›¸å¯¹å…¶ä»–è¯­è¨€çš„è¯­æ³•è¦æ›´åŠ å®½æ¾ã€‚</p>
<span id="more"></span>

<h2 id="åŒºåˆ†å¤§å°å†™"><a href="#åŒºåˆ†å¤§å°å†™" class="headerlink" title="åŒºåˆ†å¤§å°å†™"></a>åŒºåˆ†å¤§å°å†™</h2><p>ECMAScript ä¸­çš„ä¸€åˆ‡ï¼ˆå˜é‡ã€å‡½æ•°åå’Œæ“ä½œç¬¦ï¼‰éƒ½åŒºåˆ†å¤§å°å†™ã€‚æ¯”å¦‚ï¼Œå˜é‡å <code>test</code> å’Œå˜é‡å <code>Test</code> åˆ†åˆ«è¡¨ç¤ºå®Œå…¨ä¸åŒçš„ä¸¤ä¸ªå˜é‡ã€‚å†æ¯”å¦‚ï¼Œ<code>typeof</code> ä¸èƒ½ä½œä¸ºå˜é‡åï¼ˆå› ä¸ºå®ƒæ˜¯ ECMAScript ä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œå…³é”®å­—ä¸èƒ½ç”¨ä½œå‡½æ•°åï¼‰ï¼Œä½†æ˜¯ <code>typeOf</code> åˆ™å®Œå…¨å¯ä»¥æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å‡½æ•°åã€‚</p>
<h2 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h2><p><strong>æ ‡è¯†ç¬¦</strong>æ˜¯æŒ‡å˜é‡ã€å‡½æ•°ã€å±æ€§çš„åå­—ï¼Œæˆ–è€…å‡½æ•°çš„å‚æ•°ã€‚ä¹¦å†™æ ‡è¯†ç¬¦æœ‰ä»¥ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯ä¸€ä¸ªå­—æ¯ã€ä¸‹åˆ’çº¿ï¼ˆ<code>_</code>ï¼‰æˆ–ä¸€ä¸ªç¾å…ƒç¬¦å·ï¼ˆ<code>$</code>ï¼‰ï¼›</li>
<li>é™¤ç¬¬ä¸€ä¸ªå­—ç¬¦å¤–çš„å…¶ä»–å­—ç¬¦å¯ä»¥æ˜¯å­—æ¯ã€ä¸‹åˆ’çº¿ã€ç¾å…ƒç¬¦å·æˆ–æ•°å­—ã€‚</li>
</ul>
<p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œä¹¦å†™æ ‡è¯†ç¬¦åº”é‡‡ç”¨é©¼å³°å¤§å°å†™æ ¼å¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">myHouse;</span><br><span class="line">doSomething;</span><br><span class="line">firstNumber;</span><br></pre></td></tr></table></figure>

<div class="note info"><p>ä¸èƒ½æŠŠå…³é”®å­—ã€ä¿ç•™å­—ã€<code>true</code>ã€<code>false</code> å’Œ <code>null</code> ç”¨ä½œæ ‡è¯†ç¬¦ã€‚</p>
</div>

<h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>ECMAScript ä¸­æœ‰ä¸¤é£æ ¼çš„æ³¨é‡Šï¼Œåˆ†åˆ«æ˜¯å•è¡Œæ³¨é‡Šå’Œå—çº§æ³¨é‡Šã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å•è¡Œæ³¨é‡Š</span></span><br></pre></td></tr></table></figure>

<p>å—çº§æ³¨é‡Šä»¥ä¸€ä¸ªæ–œæ å’Œä¸€ä¸ªæ˜Ÿå·ï¼ˆ<code>/*</code>ï¼‰å¼€å¤´ï¼Œä»¥ä¸€ä¸ªæ˜Ÿå·å’Œä¸€ä¸ªæ–œæ ï¼ˆ<code>*/</code>ï¼‰ç»“å°¾ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment"> * ï¼ˆå—çº§ï¼‰æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒè¡Œå’Œç¬¬ä¸‰è¡Œå¼€å§‹çš„æ˜Ÿå·ä¸æ˜¯å¿…é¡»çš„ï¼Œè¿™æ ·å†™çº¯ç²¹æ˜¯ä¸ºäº†æé«˜æ³¨é‡Šçš„å¯è¯»æ€§ã€‚</p>
<h2 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h2><p>è¦åœ¨è„šæœ¬ä¸­å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå¯ä»¥åœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>é™¤æ­¤ä»¥å¤–ï¼Œè¿˜å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼ŒæŒ‡ç¤ºè¯¥å‡½æ•°åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  &quot;use strict&quot;</span>;</span><br><span class="line">  <span class="comment">// do something...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¯­å¥"><a href="#è¯­å¥" class="headerlink" title="è¯­å¥"></a>è¯­å¥</h2><p>ECMAScript ä¸­çš„è¯­å¥ä»¥ä¸€ä¸ªè‹±æ–‡åˆ†å·ï¼ˆ<code>;</code>ï¼‰ç»“å°¾ï¼›è‹¥çœç•¥åˆ†å·ï¼Œåˆ™ç”±è§£æå™¨ç¡®å®šè¯­å¥çš„ç»“å°¾ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = a + b; <span class="comment">// æ²¡æœ‰åˆ†å·ä¹Ÿä¸è¦ç´§ï¼Œä½†æ˜¯ä¸æ¨èè¿™æ ·çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> diff = a - b; <span class="comment">// æ¨èæ¯æ¡è¯­å¥åéƒ½è¦å†™åˆ†å·</span></span><br></pre></td></tr></table></figure>

<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript è¯­æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript å®ç° Base-64 ç¼–ç è§£ç </title>
    <url>/post/JavaScript-%E5%AE%9E%E7%8E%B0-Base-64-%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81/</url>
    <content><![CDATA[<p>ç›®å‰ç»å¤§å¤šæ•°æµè§ˆå™¨å·²åŸç”Ÿæ”¯æŒ Base-64 çš„ç¼–ç è§£ç ï¼ˆæœ€ä½æ”¯æŒåˆ° IE10ï¼‰ï¼Œè¯¦ç»†çš„æµè§ˆå™¨å…¼å®¹æ€§åˆ—è¡¨è¯·å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WindowBase64/btoa#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7">è¿™é‡Œ</a>ã€‚</p>
<h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>æœ€å¸¸è§çš„æ˜¯å¯¹ Image å¯¹è±¡è¿›è¡Œ Base-64 çš„ç¼–ç è§£ç ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨äºä¼ è¾“æ•°æ®æ—¶çš„ Base-64 ç¼–ç è§£ç ï¼Œæ¯”å¦‚æµè§ˆå™¨åœ°å€æ ä¸­çš„å‚æ•°å¯èƒ½åœ¨ä¼ è¾“æ•°æ®è¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜ã€‚</p>
<h2 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h2><ul>
<li><code>window.btoa()</code></li>
<li><code>window.atob()</code></li>
</ul>
<span id="more"></span>

<p><code>window.btoa()</code> ä» <code>String</code> å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ª Base-64 ç¼–ç çš„ ASCII å­—ç¬¦ä¸²ï¼Œå…¶ä¸­å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½è¢«è§†ä¸ºä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®å­—èŠ‚ã€‚<code>atob()</code> æ–¹æ³•å¯ä»¥å°†é€šè¿‡ <code>window.btoa()</code> ç¼–ç çš„å­—ç¬¦ä¸²æ•°æ®è§£ç ã€‚</p>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight javascript"><figcaption><span>window.btoa()</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> encodedData = <span class="built_in">window</span>.btoa(stringToEncode); <span class="comment">// å¯¹æ•°æ®è¿›è¡Œç¼–ç </span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><figcaption><span>window.atob()</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> decodedData = <span class="built_in">window</span>.atob(encodedData); <span class="comment">// å¯¹æ•°æ®è¿›è¡Œè§£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><ul>
<li><p><code>window.btoa(stringToEncode)</code></p>
<p><code>stringToEncode</code> - ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶å­—ç¬¦åˆ†åˆ«è¡¨ç¤ºè¦ç¼–ç ä¸º ASCII çš„äºŒè¿›åˆ¶æ•°æ®çš„å•ä¸ªå­—èŠ‚ã€‚</p>
</li>
<li><p><code>window.atob(encodedData)</code></p>
<p><code>encodedData</code> - ä¸€ä¸ª Base-64 è¡¨ç¤ºçš„å­—ç¬¦ä¸²ã€‚</p>
</li>
</ul>
<h3 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><ul>
<li><p><code>window.btoa(stringToEncode)</code></p>
<p>ä¸€ä¸ªåŒ…å« <code>stringToEncode</code> çš„ Base-64 è¡¨ç¤ºçš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p><code>window.atob(encodedData)</code></p>
<p>å¯¹ Base-64 å­—ç¬¦ä¸²è§£ç åçš„ <code>String</code> å¯¹è±¡ã€‚</p>
</li>
</ul>
<h2 id="Unicode-å­—ç¬¦ä¸²"><a href="#Unicode-å­—ç¬¦ä¸²" class="headerlink" title="Unicode å­—ç¬¦ä¸²"></a>Unicode å­—ç¬¦ä¸²</h2><p>åœ¨å¤šæ•°æµè§ˆå™¨ä¸­ï¼Œä½¿ç”¨ <code>btoa()</code> å¯¹ Unicode å­—ç¬¦ä¸²è¿›è¡Œç¼–ç éƒ½ä¼šè§¦å‘ <code>InvalidCharacterError</code> å¼‚å¸¸ã€‚å¯ä»¥è€ƒè™‘ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œä»£ç æ¥è‡ª<a href="http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html">Johan SundstrÃ¶m</a>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ucs-2 string to base64 encoded ascii</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">utoa</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">window</span>.btoa(<span class="built_in">unescape</span>(<span class="built_in">encodeURIComponent</span>(str)));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// base64 encoded ascii to ucs-2 string</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">atou</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">decodeURIComponent</span>(<span class="built_in">escape</span>(<span class="built_in">window</span>.atob(str)));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Usage:</span></span><br><span class="line">utoa(<span class="string">&quot;âœ“ Ã  la mode&quot;</span>); <span class="comment">// 4pyTIMOgIGxhIG1vZGU=</span></span><br><span class="line">atou(<span class="string">&quot;4pyTIMOgIGxhIG1vZGU=&quot;</span>); <span class="comment">// &quot;âœ“ Ã  la mode&quot;</span></span><br><span class="line"></span><br><span class="line">utoa(<span class="string">&quot;I \u2661 Unicode!&quot;</span>); <span class="comment">// SSDimaEgVW5pY29kZSE=</span></span><br><span class="line">atou(<span class="string">&quot;SSDimaEgVW5pY29kZSE=&quot;</span>); <span class="comment">// &quot;I â™¡ Unicode!&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://blog.csdn.net/sunwork888/article/details/89436947?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-6&spm=1001.2101.3001.4242">æµè§ˆå™¨åŸç”Ÿæ”¯æŒ JS Base64 ç¼–ç è§£ç </a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WindowBase64/btoa">WindowOrWorkerGlobalScope.btoa()</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WindowBase64/atob">WindowOrWorkerGlobalScope.atob()</a></li>
</ul>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>btoa</tag>
        <tag>atob</tag>
      </tags>
  </entry>
  <entry>
    <title>Webpack æ’ä»¶ä¹‹ HtmlWebpackPlugin</title>
    <url>/post/Webpack-%E6%8F%92%E4%BB%B6%E4%B9%8B-HtmlWebpackPlugin/</url>
    <content><![CDATA[<p>è¯¥æ’ä»¶å°†ä¸ºä½ ç”Ÿæˆä¸€ä¸ª HTML5 æ–‡ä»¶ï¼Œç”¨ä»¥æœåŠ¡ webpack ç¼–è¯‘è¾“å‡ºçš„ bundleã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save-dev html-webpack-plugin <span class="comment"># or yarn add --dev html-webpack-plugin</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="åŸºç¡€ç”¨æ³•"><a href="#åŸºç¡€ç”¨æ³•" class="headerlink" title="åŸºç¡€ç”¨æ³•"></a>åŸºç¡€ç”¨æ³•</h2><p>è¯¥æ’ä»¶ä¼šä¸ºä½ ç”Ÿæˆä¸€ä¸ª HTML5 æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶çš„ <code>body</code> æ ‡ç­¾ä¸­åŒ…å« webpack ç¼–è¯‘è¾“å‡ºçš„æ‰€æœ‰ bundle æ–‡ä»¶ã€‚ä½ åªéœ€è¦åœ¨ webpack é…ç½®æ–‡ä»¶ä¸­å¯ç”¨è¯¥æ’ä»¶å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;index_bundle.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="keyword">new</span> HtmlWebpackPlugin()],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>webpack ç¼–è¯‘åä¼šåœ¨ dist ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª index.html æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­å°†åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>webpack App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;index_bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>è¦æŸ¥çœ‹è¯¥æ’ä»¶æ‰€æœ‰é…ç½®é¡¹ï¼Œå‚è€ƒ<a href="https://github.com/jantimon/html-webpack-plugin#plugins">æ’ä»¶æ–‡æ¡£</a>ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>Webpack</category>
      </categories>
      <tags>
        <tag>æ’ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£… Node.js</title>
    <url>/post/%E5%AE%89%E8%A3%85-Node-js/</url>
    <content><![CDATA[<h2 id="é€šè¿‡è½¯ä»¶åŒ…å®‰è£…-Node-js"><a href="#é€šè¿‡è½¯ä»¶åŒ…å®‰è£…-Node-js" class="headerlink" title="é€šè¿‡è½¯ä»¶åŒ…å®‰è£… Node.js"></a>é€šè¿‡è½¯ä»¶åŒ…å®‰è£… Node.js</h2><p>è¿™æ˜¯æœ€ç®€å•çš„å®‰è£…æ–¹å¼ï¼Œé€šè¿‡ä¸‹è½½å®˜ç½‘ç¼–è¯‘å¥½çš„è½¯ä»¶åŒ…ï¼Œå¯ç›´æ¥åœ¨æœ¬åœ°è®¡ç®—æœºä¸­å®‰è£… Node.jsã€‚è¦ä¸‹è½½å„å¹³å°æ”¯æŒçš„è½¯ä»¶åŒ…ï¼Œè¯·è®¿é—®<a href="https://nodejs.org/en/download/">è¿™é‡Œ</a>ã€‚</p>
<span id="more"></span>

<h2 id="é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…-Node-js"><a href="#é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…-Node-js" class="headerlink" title="é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£… Node.js"></a>é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£… Node.js</h2><p>å¦ä¸€ç§ä¾¿æ·çš„æ–¹å¼æ˜¯é€šè¿‡è½¯ä»¶åŒ…ç®¡ç†å™¨å®‰è£… Node.jsã€‚æ¯ç§æ“ä½œç³»ç»Ÿéƒ½æœ‰å…¶è‡ªèº«çš„åŒ…ç®¡ç†å™¨ï¼Œé€‚ç”¨ä¸ Linux å’Œ windows çš„åŒ…ç®¡ç†å™¨åˆ—å‡ºåœ¨ <a href="https://nodejs.org/en/download/package-manager/">https://nodejs.org/en/download/package-manager/</a>ã€‚</p>
<p>åœ¨ MacOS ä¸Šï¼Œå¯é€šè¿‡ Homebrew å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure>

<div class="note info"><p>å®‰è£… Homebrew æ€»æ˜¯å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/bin/zsh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸­å›½å¤§é™†ä½¿ç”¨è¿™ä¸ªä»“åº“å®‰è£… Homebrew ä¼šéå¸¸å¿«ï¼Œè¯¥ä»“åº“ä¼šæ¯å¤©ä» GitHub åŒæ­¥ä¸€æ¬¡ï¼Œå¯æ”¾å¿ƒä½¿ç”¨ã€‚</p>
</div>

<h2 id="é€šè¿‡-nvm-å®‰è£…-Node-js"><a href="#é€šè¿‡-nvm-å®‰è£…-Node-js" class="headerlink" title="é€šè¿‡ nvm å®‰è£… Node.js"></a>é€šè¿‡ nvm å®‰è£… Node.js</h2><p>nvm æ˜¯ä¸€ç§æµè¡Œçš„è¿è¡Œ Node.js çš„æ–¹å¼ï¼Œä½¿ç”¨ nvm å¯è½»æ¾åœ°åˆ‡æ¢ Node.js ç‰ˆæœ¬ã€‚nvm çš„å®‰è£…ä½¿ç”¨è¯·å‚è€ƒ<a href="https://github.com/nvm-sh/nvm#installing-and-updating">è¯´æ˜æ–‡æ¡£</a>ã€‚</p>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>æ— è®ºå“ªç§æ–¹å¼ï¼Œå½“å®‰è£… Node.js ä¹‹åï¼Œå°±å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è®¿é—® <code>node</code> å¯æ‰§è¡Œç¨‹åºå’Œ <code>npm</code> åŒ…ç®¡ç†å™¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ node -v</span><br><span class="line">v14.15.3</span><br><span class="line"></span><br><span class="line">$ npm -v</span><br><span class="line">6.14.9</span><br></pre></td></tr></table></figure>

<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>Node.js</category>
      </categories>
  </entry>
  <entry>
    <title>ç†è§£ JavaScript ä¸­çš„å¯¹è±¡</title>
    <url>/post/%E7%90%86%E8%A7%A3-JavaScript-%E4%B8%AD%E7%9A%84%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<p>é€šå¸¸ï¼Œé€šè¿‡åˆ›å»º <code>Object</code> çš„ä¸€ä¸ªå®ä¾‹æ¥åˆ›å»ºè‡ªå®šä¹‰å¯¹è±¡ï¼Œç„¶åå†ç»™å®ƒæ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">person.name = <span class="string">&quot;Olive&quot;</span>;</span><br><span class="line">person.age = <span class="number">18</span>;</span><br><span class="line">person.gender = <span class="string">&quot;female&quot;</span>;</span><br><span class="line">person.job = <span class="string">&quot;Frontend Engineer&quot;</span>;</span><br><span class="line">person.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ª <code>person</code> å¯¹è±¡ï¼Œå…¶ä¸­æœ‰å››ä¸ªå±æ€§ï¼ˆ<code>name</code>ã€<code>age</code>ã€<code>gender</code> å’Œ <code>job</code>ï¼‰å’Œä¸€ä¸ªæ–¹æ³•ï¼ˆ<code>sayName()</code>ï¼‰ã€‚<code>sayName()</code> æ–¹æ³•ä¼šåœ¨æ§åˆ¶å°æ‰“å° <code>this.name</code> çš„å€¼ï¼Œè¿™ä¸ªå±æ€§ä¼šè§£æä¸º <code>person.name</code>ã€‚</p>
<p>é™¤ä¸Šé¢é€šè¿‡å®ä¾‹åŒ– <code>Object</code> çš„æ–¹å¼åˆ›å»ºå¯¹è±¡å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡å¯¹è±¡å­—é¢é‡çš„æ–¹å¼åˆ›å»º <code>person</code> å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span>,</span><br><span class="line">  <span class="attr">job</span>: <span class="string">&quot;Frontend Engineer&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">sayName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªä¾‹å­è·Ÿå‰é¢ä¾‹å­ä¸­çš„ <code>person</code> å¯¹è±¡æ˜¯ç­‰ä»·çš„ï¼Œä»–ä»¬çš„å±æ€§å’Œæ–¹æ³•éƒ½ä¸€æ ·ã€‚</p>
<span id="more"></span>

<h2 id="å±æ€§çš„ç±»å‹"><a href="#å±æ€§çš„ç±»å‹" class="headerlink" title="å±æ€§çš„ç±»å‹"></a>å±æ€§çš„ç±»å‹</h2><p>å±æ€§åˆ†ä¸¤ç§ï¼š<strong>æ•°æ®å±æ€§</strong>å’Œ<strong>è®¿é—®å™¨å±æ€§</strong>ã€‚</p>
<h3 id="æ•°æ®å±æ€§"><a href="#æ•°æ®å±æ€§" class="headerlink" title="æ•°æ®å±æ€§"></a>æ•°æ®å±æ€§</h3><p>æ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªä¿å­˜æ•°æ®å€¼çš„ä½ç½®ã€‚å€¼ä¼šä»è¿™ä¸ªä½ç½®è¯»å–ï¼Œä¹Ÿä¼šå†™å…¥åˆ°è¿™ä¸ªä½ç½®ã€‚æ•°æ®å±æ€§åŒ…å« 4 ä¸ªç‰¹æ€§æè¿°å®ƒä»¬çš„è¡Œä¸ºã€‚</p>
<ul>
<li><p><code>[[Configurable]]</code>ï¼šè¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>delete</code> åˆ é™¤å±æ€§ï¼Œæ˜¯å¦å¯ä»¥ä¿®æ”¹å®ƒçš„ç‰¹æ€§ï¼Œä»¥åŠæ˜¯å¦å¯ä»¥æŠŠå®ƒæ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç›´æ¥å®šä¹‰åœ¨å¯¹è±¡ä¸Šçš„å±æ€§çš„è¿™ä¸ªç‰¹æ€§éƒ½æ˜¯ <code>true</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span>,</span><br><span class="line">  <span class="attr">job</span>: <span class="string">&quot;Frontend Engineer&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">sayName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">delete</span> person.name;</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// &#x27;Olive&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹äº† <code>[[Configurable]]</code> å±æ€§å€¼ä¸º <code>false</code> åï¼Œå°±æ„å‘³ç€ä¸èƒ½é€šè¿‡ <code>delete</code> åˆ é™¤å¯¹è±¡ä¸Šçš„å±æ€§ã€‚è€Œ <code>[[Configurable]]</code> å±æ€§å€¼ä¸º <code>true</code> æ—¶ï¼Œè‹¥åˆ é™¤äº† <code>person</code> å¯¹è±¡ä¸Šçš„ <code>name</code> å±æ€§åï¼Œ<code>person.name</code> çš„å€¼åº”ä¸º <code>undefined</code>ã€‚</p>
<p>æ­¤å¤–ï¼Œå¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§è¢«å®šä¹‰ä¸ºä¸å¯é…ç½®åï¼Œå°±ä¸èƒ½å†å˜å›å¯é…ç½®çš„äº†ã€‚å†æ¬¡è°ƒç”¨ <code>Object.defineProperty()</code> å¹¶ä¿®æ”¹ä»»ä½•é <code>writable</code> å±æ€§ä¼šå¯¼è‡´é”™è¯¯ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span>,</span><br><span class="line">  <span class="attr">job</span>: <span class="string">&quot;Frontend Engineer&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">sayName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿™é‡Œä¼šæŠ¥é”™ï¼š</span></span><br><span class="line"><span class="comment"> * Uncaught TypeError: Cannot redefine property: name</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œè™½ç„¶å¯ä»¥å¯¹å¯¹è±¡ä¸Šçš„åŒä¸€ä¸ªå±æ€§å¤šæ¬¡è°ƒç”¨ <code>Object.defineProperty()</code>ï¼Œä½†å½“æŠŠ <code>configurable</code> è®¾ç½®ä¸º <code>false</code> åå°±ä¼šå—åˆ°é™åˆ¶ã€‚</p>
</li>
<li><p><code>[[Enumerable]]</code>ï¼šè¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>for-in</code> å¾ªç¯è¿”å›ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç›´æ¥å®šä¹‰åœ¨å¯¹è±¡ä¸Šçš„å±æ€§çš„è¿™ä¸ªç‰¹æ€§éƒ½æ˜¯ <code>true</code>ã€‚ä»¥ <code>person</code> å¯¹è±¡ä¸ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> person) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ®µä»£ç é€šè¿‡ <code>for-in</code> è¯­å¥å¯¹ <code>person</code> å¯¹è±¡æ‰§è¡Œçš„éå†æ“ä½œï¼Œä¼šåœ¨æ§åˆ¶å°ä¾æ¬¡æ‰“å°å‡ºå¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &quot;name&quot;</span></span><br><span class="line"><span class="comment"> * &quot;age&quot;</span></span><br><span class="line"><span class="comment"> * &quot;gender&quot;</span></span><br><span class="line"><span class="comment"> * &quot;job&quot;</span></span><br><span class="line"><span class="comment"> * &quot;sayName&quot;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p>å½“æŠŠ <code>person</code> å¯¹è±¡ä¸Šçš„ <code>name</code> å±æ€§çš„ <code>enumerable</code> å±æ€§è®¾ç½®ä¸º <code>false</code> åï¼Œå†ä½¿ç”¨ <code>for-in</code> è¯­å¥æ‰§è¡Œéå†æ“ä½œæ—¶ï¼Œæ§åˆ¶å°å°†ä¸ä¼šæ‰“å°å‡º <code>name</code> å±æ€§ã€‚</p>
</li>
<li><p><code>[[Writable]]</code>ï¼šè¡¨ç¤ºå±æ€§çš„å€¼æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç›´æ¥å®šä¹‰åœ¨å¯¹è±¡ä¸Šçš„å±æ€§çš„è¿™ä¸ªç‰¹æ€§éƒ½æ˜¯ <code>true</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">person.name = <span class="string">&quot;Jack&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// &quot;Jack&quot;</span></span><br></pre></td></tr></table></figure>

<p>å½“å¯¹ <code>person.name</code> é‡æ–°èµ‹å€¼ä¸º <code>Jack</code> åï¼Œåœ¨æ§åˆ¶å°æ‰“å°å‡ºçš„å€¼ä¸º <code>Jack</code>ã€‚è‹¥å°† <code>person.name</code> å±æ€§ä¸Šçš„ <code>writable</code> è®¾ç½®ä¸º <code>false</code>ï¼Œåˆ™ä¸èƒ½å¯¹ <code>person.name</code> å±æ€§æ‰§è¡Œé‡æ–°èµ‹å€¼çš„æ“ä½œã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span>,</span><br><span class="line">  <span class="attr">job</span>: <span class="string">&quot;Frontend Engineer&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">sayName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br><span class="line">person.name = <span class="string">&quot;Jack&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// &quot;Olive&quot;</span></span><br></pre></td></tr></table></figure>

<p>å› æŠŠ <code>name</code> å±æ€§çš„ <code>writable</code> å€¼è®¾ç½®ä¸º <code>false</code>ï¼Œå½“å†æ¬¡å°è¯•ä¿®æ”¹ <code>person.name</code> çš„å€¼æ—¶ï¼Œæˆ‘ä»¬å‘ç°å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œæ§åˆ¶å°ä¸­æ‰“å°å‡ºçš„ <code>person.name</code> çš„å€¼ä¾ç„¶æ˜¯é€šè¿‡å¯¹è±¡å­—é¢é‡å®šä¹‰æ—¶çš„å€¼â€”â€”<code>Olive</code>ã€‚</p>
</li>
<li><p><code>[[Value]]</code>ï¼šåŒ…å«å±æ€§å®é™…çš„å€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç›´æ¥å®šä¹‰åœ¨å¯¹è±¡ä¸Šçš„å±æ€§çš„è¿™ä¸ªç‰¹æ€§éƒ½æ˜¯ <code>true</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span>,</span><br><span class="line">  <span class="attr">job</span>: <span class="string">&quot;Frontend Engineer&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">sayName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="string">&quot;Jack&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// &quot;Jack&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° <code>person.name</code> å±æ€§å€¼å·²è¢«ä¿®æ”¹ä¸º <code>Jack</code>ã€‚</p>
</li>
</ul>
<h3 id="è®¿é—®å™¨å±æ€§"><a href="#è®¿é—®å™¨å±æ€§" class="headerlink" title="è®¿é—®å™¨å±æ€§"></a>è®¿é—®å™¨å±æ€§</h3><p>è®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼ã€‚å®ƒåŒ…å«ä¸€ä¸ªè·å–ï¼ˆgetterï¼‰å‡½æ•°å’Œä¸€ä¸ªè®¾ç½®ï¼ˆsetterï¼‰å‡½æ•°ï¼Œä¸è¿‡è¿™ä¸¤ä¸ªå‡½æ•°ä¸æ˜¯å¿…éœ€çš„ã€‚åœ¨è¯»å–è®¿é—®å™¨å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨è·å–å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªæœ‰æ•ˆå€¼ã€‚åœ¨å†™å…¥è®¿é—®å™¨å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨è®¾ç½®å‡½æ•°å¹¶ä¼ å…¥æ–°çš„å€¼ï¼Œè¯¥å‡½æ•°å¿…é¡»å†³å®šå¯¹æ•°æ®åšå‡ºä»€ä¹ˆä¿®æ”¹ã€‚è®¿é—®å™¨å±æ€§æœ‰ 4 ä¸ªç‰¹æ€§æè¿°ä»–ä»¬çš„è¡Œä¸ºã€‚</p>
<ul>
<li><code>[[Configurable]]</code>ï¼šè¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>delete</code> åˆ é™¤å¹¶é‡æ–°å®šä¹‰ï¼Œæ˜¯å¦å¯ä»¥ä¿®æ”¹å®ƒçš„ç‰¹æ€§ï¼Œä»¥åŠæ˜¯å¦å¯ä»¥æŠŠå®ƒæ”¹ä¸ºæ•°æ®å±æ€§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç›´æ¥å®šä¹‰åœ¨å¯¹è±¡ä¸Šçš„å±æ€§çš„è¿™ä¸ªç‰¹æ€§éƒ½æ˜¯ <code>true</code>ã€‚</li>
<li><code>[[Enumerable]]</code>ï¼šè¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>for-in</code> å¾ªç¯è¿”å›ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç›´æ¥å®šä¹‰åœ¨å¯¹è±¡ä¸Šçš„å±æ€§çš„è¿™ä¸ªç‰¹æ€§éƒ½æ˜¯ <code>true</code>ã€‚</li>
<li><code>[[Get]]</code>ï¼šè·å–å‡½æ•°ï¼Œåœ¨è¯»å–å±æ€§æ—¶è°ƒç”¨ã€‚é»˜è®¤å€¼ä¸º <code>undefined</code>ã€‚</li>
<li><code>[[Set]]</code>ï¼šè®¾ç½®å‡½æ•°ï¼Œåœ¨è®¾ç½®å±æ€§æ—¶è°ƒç”¨ã€‚é»˜è®¤å€¼ä¸º <code>undefined</code>ã€‚</li>
</ul>
<p>è®¿é—®å™¨å±æ€§ä¸å¯ç›´æ¥å®šä¹‰ï¼Œéœ€é€šè¿‡ <code>Object.defineProperty()</code> å®ç°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä¼ªç§æœ‰æˆå‘˜ `year_` å’Œå…¬å…±æˆå‘˜ `edition`</span></span><br><span class="line"><span class="keyword">const</span> book = &#123;</span><br><span class="line">  <span class="attr">year_</span>: <span class="number">2017</span>,</span><br><span class="line">  <span class="attr">edition</span>: <span class="number">1</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(book, <span class="string">&quot;year&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.year_;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (newValue &gt; <span class="number">2017</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.year_ = newValue;</span><br><span class="line">      <span class="built_in">this</span>.edition += newValue - <span class="number">2017</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">book.year = <span class="number">2018</span>;</span><br><span class="line"><span class="built_in">console</span>.log(book.edition); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>book</code> å¯¹è±¡æœ‰ 2 ä¸ªå±æ€§ï¼š<code>year_</code> å’Œ <code>edition</code>ã€‚<code>year_</code> ä¸­çš„ä¸‹åˆ’çº¿é€šå¸¸è¡¨ç¤ºä¸å¸Œæœ›è¯¥å±æ€§åœ¨å¯¹è±¡å¤–éƒ¨è¢«è®¿é—®ã€‚</p>
<p>å¦ä¸€ä¸ªå‚æ•° <code>year</code> è¢«å®šä¹‰ä¸ºä¸€ä¸ªè®¿é—®å™¨å±æ€§ï¼Œå…¶ä¸­è·å–å‡½æ•°ï¼ˆ<code>get()</code>ï¼‰ç®€å•åœ°è¿”å› <code>year_</code> åœ°å€¼ï¼Œè€Œè®¾ç½®å‡½æ•°ï¼ˆ<code>set()</code>ï¼‰ä¼šæ ¹æ®ä¼ å…¥çš„å‚æ•° <code>newValue</code> åšä¸€äº›ç®€å•çš„åˆ¤æ–­æ¥è®¡ç®—æ­£ç¡®çš„ <code>edition</code> å€¼ï¼ŒåŒæ—¶æŠŠä¼ å…¥çš„å‚æ•°èµ‹å€¼ç»™ç§æœ‰å±æ€§ <code>year_</code>ã€‚</p>
<p>å› æ­¤ï¼ŒæŠŠ <code>year</code> å±æ€§ä¿®æ”¹ä¸º 2018 åä¼šå¯¼è‡´å±æ€§ <code>year_</code> çš„å€¼å˜ä¸º 2018ï¼ŒåŒæ—¶ <code>edition</code> çš„å€¼å˜ä¸º 2ã€‚è¿™å°±æ˜¯è®¿é—®å™¨å±æ€§çš„å…¸å‹ä½¿ç”¨åœºæ™¯ï¼Œå³è®¾ç½®ä¸€ä¸ªå€¼ä¼šå¯¼è‡´å¦å¤–ä¸€äº›å€¼å‘ç”Ÿå˜åŒ–ã€‚</p>
<p>è¿™é‡Œè¦æ³¨æ„ï¼Œåœ¨ä¸æ”¯æŒ <code>Object.defineProperty()</code> çš„æµè§ˆå™¨ä¸­æ— æ³•ä¿®æ”¹ <code>[[Configurable]]</code> æˆ– <code>[[Enumerable]]</code>ã€‚</p>
<h2 id="å®šä¹‰å¤šä¸ªå±æ€§"><a href="#å®šä¹‰å¤šä¸ªå±æ€§" class="headerlink" title="å®šä¹‰å¤šä¸ªå±æ€§"></a>å®šä¹‰å¤šä¸ªå±æ€§</h2><p>ECMAScript æä¾›äº† <code>Object.defineProperties()</code> æ–¹æ³•å…è®¸åœ¨ä¸€ä¸ªå¯¹è±¡ä¸ŠåŒæ—¶å®šä¹‰å¤šä¸ªå±æ€§ã€‚è¯¥æ–¹æ³•å¯ä»¥é€šè¿‡å¤šä¸ªæè¿°ç¬¦ä¸€æ¬¡æ€§å®šä¹‰å¤šä¸ªå±æ€§ã€‚</p>
<p>å®ƒæ¥æ”¶ 2 ä¸ªå‚æ•°ï¼šè¦æ·»åŠ æˆ–ä¿®æ”¹å±æ€§çš„å¯¹è±¡å’Œå¦ä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡ï¼Œå…¶å±æ€§ä¸è¦æ·»åŠ æˆ–ä¿®æ”¹çš„å±æ€§ä¸€ä¸€å¯¹åº”ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> book = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">  <span class="attr">year_</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">2017</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">edition</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">year</span>: &#123;</span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.year_;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (newValue &gt; <span class="number">2017</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.year_ = newValue;</span><br><span class="line">        <span class="built_in">this</span>.edition += newValue - <span class="number">2017</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç åœ¨ <code>book</code> å¯¹è±¡ä¸Šå®šä¹‰äº† 2 ä¸ªæ•°æ®å±æ€§ï¼š<code>year_</code> å’Œ <code>edition</code>ï¼Œå’Œ 1 ä¸ªè®¿é—®å™¨å±æ€§ <code>year</code>ã€‚è¯¥å¯¹è±¡ä¸ä¹‹å‰çš„ <code>book</code> å¯¹è±¡æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>å”¯ä¸€å–è¡¨å°±æ˜¯æ‰€æœ‰å±æ€§æ˜¯åŒæ—¶å®šä¹‰çš„ï¼Œå¹¶ä¸”æ•°æ®å±æ€§çš„ <code>configurable</code>ã€<code>enumerable</code> å’Œ <code>writable</code> ç‰¹æ€§å€¼éƒ½ä¸º <code>false</code>ã€‚å› æ­¤ï¼Œå½“ç»™è®¿é—®å™¨å±æ€§ <code>year</code> é‡æ–°èµ‹å€¼å¹¶ä¸ä¼šç”Ÿæ•ˆã€‚æƒ³è¦å¯¹è®¿é—®å™¨å±æ€§ <code>year</code> é‡æ–°èµ‹å€¼åä»èƒ½æ›´æ–°ç§æœ‰æˆå‘˜ <code>year_</code> å’Œ <code>edition</code> å±æ€§ï¼Œåº”å°†å¯¹å…¶å±æ€§å¯¹åº”çš„ <code>writable</code> ç‰¹æ€§è®¾ç½®ä¸º <code>true</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> book = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">  <span class="attr">year_</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">2017</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">edition</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">year</span>: &#123;</span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.year_;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (newValue &gt; <span class="number">2017</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.year_ = newValue;</span><br><span class="line">        <span class="built_in">this</span>.edition += newValue - <span class="number">2017</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">book.year = <span class="number">2020</span>;</span><br><span class="line"><span class="built_in">console</span>.log(book.edition); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<h2 id="è¯»å–å±æ€§çš„ç‰¹æ€§"><a href="#è¯»å–å±æ€§çš„ç‰¹æ€§" class="headerlink" title="è¯»å–å±æ€§çš„ç‰¹æ€§"></a>è¯»å–å±æ€§çš„ç‰¹æ€§</h2><p>ä½¿ç”¨ <code>Object.getOwnPropertyDescriptor()</code> æ–¹æ³•å¯ä»¥è·å–æŒ‡å®šå¯¹è±¡å±æ€§çš„å±æ€§æè¿°ç¬¦ã€‚è¯¥æ–¹æ³•æ¥æ”¶ 2 ä¸ªå‚æ•°ï¼šå±æ€§æ‰€åœ¨çš„å¯¹è±¡å’Œè¦å–å¾—å…¶æè¿°ç¬¦çš„å±æ€§åã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹äºæ•°æ®å±æ€§åŒ…å« <code>configurable</code>ã€<code>enumerable</code>ã€<code>writable</code> å’Œ <code>value</code> å±æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> book = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">  <span class="attr">year_</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">2017</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">edition</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">year</span>: &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.year_;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">newValue</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (newValue &gt; <span class="number">2017</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.year_ = newValue;</span><br><span class="line">        <span class="built_in">this</span>.edition += newValue - <span class="number">2017</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> descriptorOfPrivateYear = <span class="built_in">Object</span>.getOwnPropertyDescriptor(book, <span class="string">&quot;year_&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(descriptor.value); <span class="comment">// 2017</span></span><br><span class="line"><span class="built_in">console</span>.log(descriptor.configurable); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> descriptor.get); <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> descriptorOfPublicYear = <span class="built_in">Object</span>.getOwnPropertyDescriptor(book, <span class="string">&quot;year&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(descriptor.value); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(descriptor.enumerable); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> descriptor.get); <span class="comment">// &quot;function&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼šå¯¹äºæ•°æ®å±æ€§ <code>year_</code>ï¼Œ<code>value</code> ç­‰äºåŸæ¥çš„å€¼ï¼Œ<code>configurable</code>ã€<code>enumerable</code> å’Œ <code>writable</code> æ˜¯ <code>false</code>ï¼Œ<code>get</code> å’Œ <code>set</code> æ–¹æ³•æ˜¯ <code>undefined</code>ã€‚å¯¹äºè®¿é—®å™¨å±æ€§ <code>year</code>ï¼Œ<code>value</code> æ˜¯ <code>undefined</code>ï¼Œ<code>configurable</code> å’Œ <code>enumerable</code> æ˜¯ <code>false</code>ï¼Œ<code>get</code> æ˜¯ä¸€ä¸ªæŒ‡å‘è·å–å‡½æ•°çš„æŒ‡é’ˆï¼Œ<code>set</code> æ˜¯ä¸€ä¸ªæŒ‡å‘è®¾ç½®å‡½æ•°çš„æŒ‡é’ˆã€‚</p>
<p>é™æ€æ–¹æ³• <code>Object.getOwnPropertyDescriptors()</code> ï¼Œä¼šåœ¨å¯¹è±¡çš„æ¯ä¸ªè‡ªæœ‰å±æ€§ä¸Šè°ƒç”¨ <code>Object.getOwnPropertyDescriptor()</code> å¹¶åœ¨ä¸€ä¸ªæ–°å¯¹è±¡ä¸­è¿”å›å®ƒä»¬ã€‚åœ¨ä¸Šé¢ä¾‹å­ä¸­ä½¿ç”¨è¿™ä¸ªé™æ€æ–¹æ³•ï¼Œä¼šè¿”å›å¦‚ä¸‹å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> book = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">  <span class="attr">year_</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">2017</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">edition</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">year</span>: &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.year_;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">newValue</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (newValue &gt; <span class="number">2017</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.year_ = newValue;</span><br><span class="line">        <span class="built_in">this</span>.edition += newValue - <span class="number">2017</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptors(book));</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   year_: &#123;</span></span><br><span class="line"><span class="comment">//     value: 2017,</span></span><br><span class="line"><span class="comment">//     writable: false,</span></span><br><span class="line"><span class="comment">//     enumerable: false,</span></span><br><span class="line"><span class="comment">//     configurable: false</span></span><br><span class="line"><span class="comment">//   &#125;,</span></span><br><span class="line"><span class="comment">//   edition: &#123; value: 1, writable: false, enumerable: false, configurable: false &#125;,</span></span><br><span class="line"><span class="comment">//   year: &#123;</span></span><br><span class="line"><span class="comment">//     get: [Function: get],</span></span><br><span class="line"><span class="comment">//     set: [Function: set],</span></span><br><span class="line"><span class="comment">//     enumerable: false,</span></span><br><span class="line"><span class="comment">//     configurable: false</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="åˆå¹¶å¯¹è±¡"><a href="#åˆå¹¶å¯¹è±¡" class="headerlink" title="åˆå¹¶å¯¹è±¡"></a>åˆå¹¶å¯¹è±¡</h2><p>ä½¿ç”¨ <code>Object.assign()</code> æ–¹æ³•å¯ä»¥åˆå¹¶å¯¹è±¡ã€‚è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªç›®æ ‡å¯¹è±¡å’Œä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç„¶åå°†æ¯ä¸ªæºå¯¹è±¡ä¸­å¯æšä¸¾å’Œè‡ªæœ‰å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚å¯¹æ¯ä¸ªç¬¦åˆæ¡ä»¶çš„å±æ€§ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šä½¿ç”¨æºå¯¹è±¡ä¸Šçš„ <code>[[Get]]</code> è·å–å…¶å±æ€§çš„å€¼ï¼Œä½¿ç”¨ç›®æ ‡å¯¹è±¡çš„ <code>[[Set]]</code> è®¾ç½®å±æ€§çš„å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç®€å•å¤åˆ¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> dest = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> src = &#123; <span class="attr">id</span>: <span class="string">&quot;src&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> result = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">result = <span class="built_in">Object</span>.assign(dest, src);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.assign() ä¿®æ”¹ç›®æ ‡å¯¹è±¡</span></span><br><span class="line"><span class="comment">// ä¹Ÿä¼šè¿”å›ä¿®æ”¹åçš„å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(dest === result); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(dest !== src); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// &#123; id: &#x27;src&#x27; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(dest); <span class="comment">// &#123; id: &#x27;src&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤šä¸ªæºå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">dest = &#123;&#125;;</span><br><span class="line">result = <span class="built_in">Object</span>.assign(dest, &#123; <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// &#123; name: &#x27;Olive&#x27;, age: 18 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å‡½æ•°ä¸è®¾ç½®å‡½æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">dest = &#123;</span><br><span class="line">  <span class="keyword">set</span> <span class="title">name</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Invoked dest setter with param <span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">src = &#123;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">name</span>() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;Invoked src getter&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Olive&quot;</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(dest, src);</span><br><span class="line"><span class="comment">// è°ƒç”¨ src çš„è·å–æ–¹æ³•</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ dest çš„è®¾ç½®æ–¹æ³•å¹¶ä¼ å…¥å‚æ•° `Olive`</span></span><br><span class="line"><span class="comment">// å› ä¸ºè¿™é‡Œçš„è®¾ç½®å‡½æ•°æ²¡æœ‰æ‰§è¡Œèµ‹å€¼æ“ä½œ</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥å®é™…ä¸Šå¹¶æ²¡æœ‰æŠŠå€¼è½¬ç§»è¿‡æ¥</span></span><br><span class="line"><span class="built_in">console</span>.log(dest);</span><br><span class="line"><span class="comment">// &#x27;Invoked src getter</span></span><br><span class="line"><span class="comment">// &#x27;Invoked dest setter with param foo&#x27;</span></span><br><span class="line"><span class="comment">// &#123; name: [Setter] &#125;</span></span><br></pre></td></tr></table></figure>

<p><code>Object.assign()</code> æ–¹æ³•å®é™…ä¸Šå¯¹æ¯ä¸ªæºå¯¹è±¡æ‰§è¡Œçš„æ˜¯æµ…å¤åˆ¶æ“ä½œã€‚å¦‚æœå¤šä¸ªæºå¯¹è±¡ç”¨äºç›¸åŒçš„å±æ€§ï¼Œåˆ™ä½¿ç”¨æœ€åä¸€ä¸ªèµ‹å€¼çš„å€¼ã€‚</p>
<p>å¦å¤–ï¼Œä»æºå¯¹è±¡<a href="./#%E8%AE%BF%E9%97%AE%E5%99%A8%E5%B1%9E%E6%80%A7">è®¿é—®å™¨å±æ€§</a>å–å¾—çš„å€¼ï¼Œæ¯”å¦‚è·å–å‡½æ•°ï¼Œä¼šä½œä¸ºä¸€ä¸ªé™æ€å€¼èµ‹ç»™ç›®æ ‡å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½åœ¨ä¸¤ä¸ªå¯¹è±¡é—´è½¬ç§»è·å–å‡½æ•°å’Œè®¾ç½®å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> dest, src, result;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¦†ç›–å±æ€§</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">dest = &#123; <span class="attr">id</span>: <span class="string">&quot;dest&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">result = <span class="built_in">Object</span>.assign(</span><br><span class="line">  dest,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;src1&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&quot;src2&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.assign ä¼šè¦†ç›–é‡å¤çš„å±æ€§</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// &#123; id: &#x27;src2&#x27;, name: &#x27;Olive&#x27;, age: 18 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥é€šè¿‡ç›®æ ‡å¯¹è±¡ä¸Šçš„è®¾ç½®å‡½æ•°è§‚å¯Ÿåˆ°è¦†ç›–è¿‡ç¨‹ï¼š</span></span><br><span class="line">dest = &#123;</span><br><span class="line">  <span class="keyword">set</span> <span class="title">id</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.assign(dest, &#123; <span class="attr">id</span>: <span class="string">&quot;first&quot;</span> &#125;, &#123; <span class="attr">id</span>: <span class="string">&quot;second&quot;</span> &#125;, &#123; <span class="attr">id</span>: <span class="string">&quot;third&quot;</span> &#125;);</span><br><span class="line"><span class="comment">// &#x27;first&#x27;</span></span><br><span class="line"><span class="comment">// &#x27;second&#x27;</span></span><br><span class="line"><span class="comment">// &#x27;third&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹è±¡å¼•ç”¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">dest = &#123;&#125;;</span><br><span class="line">src = &#123;</span><br><span class="line">  <span class="attr">name</span>: &#123;&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.assign(dest, src);</span><br><span class="line"><span class="comment">// æ½œå¤åˆ¶æ„å‘³ç€åªä¼šå¤åˆ¶å¯¹è±¡çš„å¼•ç”¨</span></span><br><span class="line"><span class="built_in">console</span>.log(dest); <span class="comment">// &#123; name: &#123;&#125; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(dest.name === src.name); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="å¯¹è±¡æ ‡è¯†å’Œç›¸ç­‰åˆ¤æ–­"><a href="#å¯¹è±¡æ ‡è¯†å’Œç›¸ç­‰åˆ¤æ–­" class="headerlink" title="å¯¹è±¡æ ‡è¯†å’Œç›¸ç­‰åˆ¤æ–­"></a>å¯¹è±¡æ ‡è¯†å’Œç›¸ç­‰åˆ¤æ–­</h2><p>æœ‰äº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œç›¸ç­‰æ“ä½œç¬¦ <code>===</code> å¹¶ä¸èƒ½ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™äº›æ˜¯ `===` ç¬¦åˆé¢„æœŸçš„æƒ…å†µ</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> === <span class="number">1</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; === &#123;&#125;); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;2&quot;</span> === <span class="number">2</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹é¢çš„æƒ…å†µåœ¨ä¸åŒçš„ js å¼•æ“ä¸­è¡¨ç°ä¸åŒ</span></span><br><span class="line"><span class="built_in">console</span>.log(+<span class="number">0</span> === -<span class="number">0</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(+<span class="number">0</span> === <span class="number">0</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(-<span class="number">0</span> === <span class="number">0</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦ç¡®å®š NaN çš„ç›¸ç­‰æ€§ï¼Œå¿…é¡»è¦ä½¿ç”¨ `isNaN()`</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">NaN</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºæ”¹å–„ä¸Šè¿°æƒ…å†µï¼ŒES6 è§„èŒƒæ–°å¢äº† <code>Object.is()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ 2 ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">true</span>, <span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(&#123;&#125;, &#123;&#125;)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="string">&quot;2&quot;</span>, <span class="number">2</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®çš„ 0ã€+0ã€-0 ç›¸ç­‰/ä¸ç›¸ç­‰åˆ¤å®š</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(+<span class="number">0</span>, -<span class="number">0</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(+<span class="number">0</span>, <span class="number">0</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(-<span class="number">0</span>, <span class="number">0</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®çš„ `NaN` ç›¸ç­‰æ€§åˆ¤å®š</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="literal">NaN</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>è¦æ£€æŸ¥è¶…è¿‡ 2 ä¸ªå€¼ï¼Œé€’å½’åœ°åˆ©ç”¨ç›¸ç­‰æ€§åˆ¤æ–­å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">recursivelyCheckEqual</span>(<span class="params">x, ...rest</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="built_in">Object</span>.is(x, rest[<span class="number">0</span>]) &amp;&amp; (rest.length &lt; <span class="number">2</span> || recursivelyCheckEqual(...rest))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> first = <span class="string">&quot;Olive&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> second = <span class="string">&quot;Olive&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> third = <span class="string">&quot;Olive&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> fourth = <span class="string">&quot;Olive&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = recursivelyCheckEqual(first, second, third, fourth);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript ä¸­çš„å¯¹è±¡ã€ç±»å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>React Hook ä¹‹å°è£… useArray è‡ªå®šä¹‰ hook</title>
    <url>/post/React-Hook-%E4%B9%8B%E5%B0%81%E8%A3%85-useArray-%E8%87%AA%E5%AE%9A%E4%B9%89-hook/</url>
    <content><![CDATA[<p>åœ¨å¯¹æ•°ç»„æ“ä½œæ—¶ï¼Œæˆ‘ä»¬ç»å¸¸è¦æ‰§è¡Œæ–°å¢æˆ–åˆ é™¤æ•°ç»„å…ƒç´ çš„æ“ä½œï¼Œå°†ä¸€äº›å¸¸ç”¨çš„æ•°ç»„æ“ä½œå°è£…æˆ React è‡ªå®šä¹‰ hook ä½¿ç”¨ä¼šéå¸¸æ–¹ä¾¿ã€‚ä¸‹é¢å°†å°è£…ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>useArray</code> React hookï¼Œå®ç°æ•°ç»„çš„å–å€¼ã€è®¾ç½®å€¼ã€æ·»åŠ ã€åˆ é™¤å’Œæ¸…ç†æ•°ç»„çš„åŠŸèƒ½ã€‚</p>
<span id="more"></span>

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * use-array.tsx</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°è£… useArray è‡ªå®šä¹‰ React hook</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Array&#125;</span> </span>initialArray è¦å¤„ç†çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;Array&#125;</span> </span>Object.value å¤„ç†è¿‡åçš„æ•°ç»„å…ƒç´ </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;Function&#125;</span> </span>Object.setValue æ›´æ–°æ•°ç»„çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ˜¯ `useState()` æ–¹æ³•è¿”å›çš„ç”¨äºæ›´æ–° state çš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;Function&#125;</span> </span>Object.add å‘æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;Function&#125;</span> </span>Object.clear è¯¥æ–¹æ³•ä¼šå°†ä¼ å…¥çš„æ•°ç»„æ¸…ç©º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;Function&#125;</span> </span>Object.removeIndex è¯¥æ–¹æ³•ä¼šå°†æŒ‡å®šçš„æ•°ç»„å…ƒç´ ä»æ•°ç»„ä¸­ç§»é™¤</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useArray = <span class="function">(<span class="params">initialArray</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(initialArray);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    value,</span><br><span class="line">    setValue,</span><br><span class="line">    <span class="attr">add</span>: <span class="function">(<span class="params">item</span>) =&gt;</span> setValue([...value, item]),</span><br><span class="line">    <span class="attr">clear</span>: <span class="function">() =&gt;</span> setValue([]),</span><br><span class="line">    <span class="attr">removeIndex</span>: <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> copy = [...value];</span><br><span class="line">      copy.splice(index, <span class="number">1</span>);</span><br><span class="line">      setValue(copy);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢å°è£…çš„è‡ªå®šä¹‰ hook <code>useArray</code> å°†è¿”å›ä¸€ç³»åˆ—å¯¹å¤„ç†æ•°ç»„æœ‰ç”¨çš„æ–¹æ³•å’Œå€¼ï¼š</p>
<ul>
<li><code>value</code>ï¼šå¤„ç†è¿‡åçš„æ•°ç»„å…ƒç´ ã€‚</li>
<li><code>setValue</code>ï¼šè¯¥æ–¹æ³•æ˜¯ <code>useState()</code> æ–¹æ³•è¿”å›çš„ç”¨äºæ›´æ–°æ•°ç»„çš„æ–¹æ³•ã€‚</li>
<li><code>add</code>ï¼šè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªä»»æ„å€¼ï¼Œå…è®¸ç”¨æˆ·å‘æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ ã€‚</li>
<li><code>clear</code>ï¼šè¯¥æ–¹æ³•ä¼šæŠŠä¼ å…¥çš„æ•°ç»„ä¸­çš„å…ƒç´ æ¸…ç©ºã€‚</li>
<li><code>removeIndex</code>ï¼šè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªæ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ï¼Œä¼šå°†æ•°ç»„ä¸­å¯¹åº”è¯¥ä¸‹æ ‡çš„å…ƒç´ ä»æ•°ç»„ä¸­ç§»é™¤ã€‚</li>
</ul>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> useArray <span class="keyword">from</span> <span class="string">&quot;use-array&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UserList = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// &#123; value, setValue, add, clear, removeIndex &#125; = useArray(initialArray);</span></span><br><span class="line">  <span class="keyword">const</span> &#123; value, add &#125; = useArray([</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;Jack&quot;</span> &#125;,</span><br><span class="line">  ]);</span><br><span class="line">  add(&#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;Amy&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>&#123;value ? <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;value.id&#125;</span>&gt;</span>&#123;value.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span> : null&#125;<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> UserList;</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œæ ¹æ®ä¸šåŠ¡åœºæ™¯å¯éšæ—¶å‘ <code>useArray</code> è‡ªå®šä¹‰ hook ä¸­æ·»åŠ é¢å¤–é€»è¾‘ã€‚ä¸€å¤„æ·»åŠ ï¼Œåˆ°å¤„ä½¿ç”¨ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React Hooks</tag>
        <tag>React é’©å­å‡½æ•°</tag>
        <tag>React è‡ªå®šä¹‰ Hook</tag>
      </tags>
  </entry>
  <entry>
    <title>React Hook ä¹‹å°è£… useMount è‡ªå®šä¹‰ hook</title>
    <url>/post/React-Hook-%E4%B9%8B%E5%B0%81%E8%A3%85-useMount-%E8%87%AA%E5%AE%9A%E4%B9%89-hook/</url>
    <content><![CDATA[<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ React ç¼–å†™çš„å‡½æ•°å¼ç»„ä»¶ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * user-list.jsx</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UserList = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [users, setUsers] = useState([]);</span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    fetch(<span class="string">&#x27;/users&#x27;</span>).then(<span class="keyword">async</span> response =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (response.ok) &#123;</span><br><span class="line">        setUsers(<span class="keyword">await</span> response.json());</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// do something...</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;users ? users.map((user) =&gt; (</span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;user.id&#125;</span>&gt;</span>&#123;user.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">       )) : null&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> UserList;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>å½“ç»„ä»¶ <code>UserList</code> åˆæ¬¡åŠ è½½æ—¶ï¼Œè°ƒç”¨äº†ä¸€æ¬¡è·å–ç”¨æˆ·æ•°æ®çš„æ¥å£ï¼Œè¯¥æ¥å£çš„è¿”å›å€¼ç”¨æ¥æ¸²æŸ“é¡µé¢ä¸Šçš„ç”¨æˆ·åˆ—è¡¨ã€‚<code>useEffect</code> å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°å°±è¡¨ç¤ºè¿™ä¸ª hook åœ¨ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ååªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰ hook å°†è¿™ç§åªæ‰§è¡Œä¸€æ¬¡çš„ effect æŠ½è±¡æˆè‡ªå®šä¹‰ hookã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * use-mount.jsx</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123; useEffect &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useMount = <span class="function">(<span class="params">callback</span>) =&gt;</span> &#123;</span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (callback &amp;&amp; <span class="keyword">typeof</span> callback === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      callback();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, []);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useMount;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨ <code>useMount</code> è‡ªå®šä¹‰ hook æ—¶ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œ<code>useMount</code> ä¼šå»æ‰§è¡Œè¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”åªä¼šåœ¨ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ååªæ‰§è¡Œä¸€æ¬¡ã€‚ä½¿ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * user-list.jsx</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> useMount <span class="keyword">from</span> <span class="string">&#x27;use-mount&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UserList = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [users, setUsers] = useState([]);</span><br><span class="line">  useMount(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    fetch(<span class="string">&#x27;/users&#x27;</span>).then(<span class="keyword">async</span> response =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (response.ok) &#123;</span><br><span class="line">        setUsers(<span class="keyword">await</span> response.json());</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// do something...</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;users ? users.map((user) =&gt; (</span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;user.id&#125;</span>&gt;</span>&#123;user.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">       )) : null&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> UserList;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å‘ç°ï¼Œå’Œç›´æ¥ä½¿ç”¨ <code>useEffect</code> å¾ˆç›¸ä¼¼ï¼ŒåŒºåˆ«æ˜¯ä½¿ç”¨ <code>useMount</code> è‡ªå®šä¹‰ hook æ—¶çœç•¥äº† <code>useEffect</code> hook çš„ç¬¬äºŒä¸ªå‚æ•°ç©ºæ•°ç»„ã€‚ä¹‹åå°±å¯ä»¥æŠŠåªåœ¨ç»„ä»¶åŠ è½½åæ‰§è¡Œä¸€æ¬¡çš„å‰¯ä½œç”¨æ“ä½œéƒ½å†™åœ¨ <code>useMount</code> è‡ªå®šä¹‰ hook ä¸­äº†ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React Hooks</tag>
        <tag>React é’©å­å‡½æ•°</tag>
        <tag>React è‡ªå®šä¹‰ Hook</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯:ä½¿ç”¨ Mock Service Worker æ¨¡æ‹Ÿæ•°æ®</title>
    <url>/post/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E4%B8%AD%E4%BD%BF%E7%94%A8-Mock-Service-Worker-%E6%A8%A1%E6%8B%9F%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install msw --save-dev</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ yarn add msw --dev</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="å®šä¹‰-mocksï¼ˆæ¨¡æ‹Ÿ-REST-APIï¼‰"><a href="#å®šä¹‰-mocksï¼ˆæ¨¡æ‹Ÿ-REST-APIï¼‰" class="headerlink" title="å®šä¹‰ mocksï¼ˆæ¨¡æ‹Ÿ REST APIï¼‰"></a>å®šä¹‰ mocksï¼ˆæ¨¡æ‹Ÿ REST APIï¼‰</h2><p>ä½¿ç”¨ request handler æ¥å®šä¹‰è¦æ¨¡æ‹Ÿçš„è¯·æ±‚ã€‚</p>
<ol>
<li><p>åˆ›å»º <code>src/mocks</code> ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mkdir src/mocks</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»º <code>src/mocks/handler.js</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ touch src/mocks/handlers.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä» <code>msw</code> å¯¼å…¥ <code>rest</code> :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/mocks/handlers.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; rest &#125; <span class="keyword">from</span> <span class="string">&quot;msw&quot;</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>ä»¥ä¸‹é¢ä¸¤ä¸ª API ä¸ºä¾‹ï¼š</p>
<ul>
<li><code>POST /login</code>ï¼Œå…è®¸ç”¨æˆ·ç™»å½•ã€‚</li>
<li><code>GET /user</code>ï¼Œè¿”å›ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/mocks/handlers.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; rest &#125; <span class="keyword">from</span> <span class="string">&quot;msw&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> handlers = [</span><br><span class="line">  <span class="comment">// Handles a POST /login request</span></span><br><span class="line">  rest.post(<span class="string">&quot;/login&quot;</span>, <span class="literal">null</span>),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Handles a GET /user request</span></span><br><span class="line">  rest.get(<span class="string">&quot;/user&quot;</span>, <span class="literal">null</span>),</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>è¦æ¨¡æ‹Ÿè¿”å›å€¼ï¼Œéœ€è¦åœ¨å¯¹åº”çš„ <code>post</code> æˆ– <code>get</code> æ–¹æ³•ä¸­ä¼ å…¥ response resolverã€‚response resolver å‡½æ•°æ¥å— 3 ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>req</code>ï¼šåŒ¹é…çš„è¯·æ±‚ä¿¡æ¯ã€‚</li>
<li><code>res</code>ï¼šç”¨äºæ¨¡æ‹Ÿè¿”å›å€¼çš„æ–¹æ³•é›†ã€‚</li>
<li><code>ctx</code>ï¼šè®¾ç½® <code>status code</code>ã€<code>headers</code>ã€<code>body</code>ç­‰ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/mocks/handlers.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; rest &#125; <span class="keyword">from</span> <span class="string">&quot;msw&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> handlers = [</span><br><span class="line">  rest.post(<span class="string">&quot;/login&quot;</span>, <span class="function">(<span class="params">req, res, ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Persist user&#x27;s authentication in the session</span></span><br><span class="line">    sessionStorage.setItem(<span class="string">&quot;is-authenticated&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res(</span><br><span class="line">      <span class="comment">// Respond with a 200 status code</span></span><br><span class="line">      ctx.status(<span class="number">200</span>)</span><br><span class="line">    );</span><br><span class="line">  &#125;),</span><br><span class="line"></span><br><span class="line">  rest.get(<span class="string">&quot;/user&quot;</span>, <span class="function">(<span class="params">req, res, ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Check if the user is authenticated in this session</span></span><br><span class="line">    <span class="keyword">const</span> isAuthenticated = sessionStorage.getItem(<span class="string">&quot;is-authenticated&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!isAuthenticated) &#123;</span><br><span class="line">      <span class="comment">// If not authenticated, respond with a 403 error</span></span><br><span class="line">      <span class="keyword">return</span> res(</span><br><span class="line">        ctx.status(<span class="number">403</span>),</span><br><span class="line">        ctx.json(&#123;</span><br><span class="line">          <span class="attr">errorMessage</span>: <span class="string">&quot;Not authorized&quot;</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If authenticated, return a mocked user details</span></span><br><span class="line">    <span class="keyword">return</span> res(</span><br><span class="line">      ctx.status(<span class="number">200</span>),</span><br><span class="line">      ctx.json(&#123;</span><br><span class="line">        <span class="attr">username</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">  &#125;),</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h2 id="é›†æˆ"><a href="#é›†æˆ" class="headerlink" title="é›†æˆ"></a>é›†æˆ</h2><p>ä¸Šé¢çš„ <code>src/mocks/handlers.js</code> æ–‡ä»¶åœ¨ Browser å’Œ Node ç¯å¢ƒæ˜¯é€šç”¨çš„ã€‚å› ä¸º Service Worder ä¸æ”¯æŒåœ¨ Node ä¸­è¿è¡Œï¼Œæ‰€ä»¥é›†æˆè¿‡ç¨‹å› ç¯å¢ƒè€Œå¼‚ã€‚</p>
<h3 id="é›†æˆåˆ°-Browser-ç¯å¢ƒ"><a href="#é›†æˆåˆ°-Browser-ç¯å¢ƒ" class="headerlink" title="é›†æˆåˆ° Browser ç¯å¢ƒ"></a>é›†æˆåˆ° Browser ç¯å¢ƒ</h3><p>ä½¿ç”¨ Mock Service Worker CLI å·¥å…·åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npx msw init &lt;PUBLIC_DIR&gt; --save</span><br></pre></td></tr></table></figure>

<p>å°† <code>&lt;PUBLIC_DIR&gt;</code> æ›¿æ¢æˆä½ é¡¹ç›®ä¸­çš„ public ç›®å½•ã€‚æ¯”å¦‚ï¼Œä½¿ç”¨çš„æ˜¯ Create React App åˆ›å»ºçš„é¡¹ç›®åº”æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npx msw init public/ --save</span><br></pre></td></tr></table></figure>

<p><a href="https://mswjs.io/docs/getting-started/integrate/browser#where-is-my-public-directory">å¦‚ä½•ç¡®å®š <code>public</code> ç›®å½•ï¼Ÿ</a></p>
<h4 id="é…ç½®-worker"><a href="#é…ç½®-worker" class="headerlink" title="é…ç½® worker"></a>é…ç½® worker</h4><ul>
<li><p>åœ¨ <code>src/mocks</code> ç›®å½•ä¸‹åˆ›å»º <code>browser.js</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ touch src/mocks/browser.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä» <code>msw</code> å¯¼å…¥ <code>setupWorker</code> æ–¹æ³•ï¼ŒæŠŠä¸Šé¢åˆ›å»ºçš„ <code>src/mocks/handler.js</code> æ–‡ä»¶ä¸­çš„ <code>handler</code> ä¹Ÿä¸€å¹¶å¯¼å…¥è¿›æ¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/mocks/browser.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; setupWorker &#125; <span class="keyword">from</span> <span class="string">&quot;msw&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; handlers &#125; <span class="keyword">from</span> <span class="string">&quot;./handlers&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This configures a Service Worker with the given request handlers.</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> worker = setupWorker(...handlers);</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="å¯åŠ¨-worker"><a href="#å¯åŠ¨-worker" class="headerlink" title="å¯åŠ¨ worker"></a>å¯åŠ¨ worker</h4><p>Mock Service Worker ä¸åº”è¢«ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œåº”åœ¨æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/index.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">&quot;development&quot;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; worker &#125; = <span class="built_in">require</span>(<span class="string">&quot;./mocks/browser&quot;</span>);</span><br><span class="line">  worker.start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<h4 id="éªŒè¯å’Œæ£€æŸ¥"><a href="#éªŒè¯å’Œæ£€æŸ¥" class="headerlink" title="éªŒè¯å’Œæ£€æŸ¥"></a>éªŒè¯å’Œæ£€æŸ¥</h4><p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­åº”èƒ½çœ‹åˆ°æ‰“å°å‡ºçš„æˆåŠŸçš„æ¶ˆæ¯ï¼š</p>
<p><img src="/images/2021/02/XGFC5j.png" alt="éªŒè¯å’Œæ£€æŸ¥ msw"></p>
<h3 id="é›†æˆåˆ°-Node-ç¯å¢ƒ"><a href="#é›†æˆåˆ°-Node-ç¯å¢ƒ" class="headerlink" title="é›†æˆåˆ° Node ç¯å¢ƒ"></a>é›†æˆåˆ° Node ç¯å¢ƒ</h3><p>å‚é˜… <a href="https://mswjs.io/docs/getting-started/integrate/node">è¿™é‡Œ</a> çš„æ–‡æ¡£è¯´æ˜ï¼ŒæŒ‰ç…§æ­¥éª¤å¯å°† msw é›†æˆåˆ° Node ç¯å¢ƒã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>Mock Service Worker æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ mock server åº“ï¼Œå¯æŸ¥çœ‹ <a href="https://mswjs.io/">å®˜ç½‘</a> æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>Mock Server</category>
      </categories>
      <tags>
        <tag>server</tag>
        <tag>Mock Service Worker</tag>
        <tag>msw</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript ä¹‹ Array ä¸­çš„è¿­ä»£å™¨æ–¹æ³•</title>
    <url>/post/JavaScript-%E4%B9%8B-Array-%E4%B8%AD%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p><code>Array</code> çš„åŸå‹ä¸Šæš´éœ²äº† 3 ä¸ªç”¨äºæ£€ç´¢æ•°ç»„å†…å®¹çš„è¿­ä»£å™¨æ–¹æ³•ï¼š<code>keys()</code>ã€<code>values()</code> å’Œ <code>entries()</code>ã€‚</p>
<ul>
<li><code>keys()</code>ï¼šè¿”å›æ•°ç»„ç´¢å¼•çš„è¿­ä»£å™¨ã€‚</li>
<li><code>values()</code>ï¼šè¿”å›æ•°ç»„å…ƒç´ çš„è¿­ä»£å™¨ã€‚</li>
<li><code>entries()</code>ï¼šè¿”å›ç´¢å¼•&#x2F;å€¼å¯¹çš„è¿­ä»£å™¨ã€‚</li>
</ul>
<span id="more"></span>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> strings = [<span class="string">&quot;hi-ruofei.com&quot;</span>, <span class="string">&quot;https://hi-ruofei.com&quot;</span>, <span class="string">&quot;Hello world&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸ºè¿™äº›æ–¹æ³•è¿”å›çš„éƒ½æ˜¯è¿­ä»£å™¨ï¼Œæ‰€ä»¥å¯ä»¥å°†ä»–ä»¬çš„å†…å®¹</span></span><br><span class="line"><span class="comment">// é€šè¿‡ Array.from() ç›´æ¥è½¬æ¢ä¸ºæ•°ç»„å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> keys = <span class="built_in">Array</span>.from(strings.keys());</span><br><span class="line"><span class="keyword">const</span> values = <span class="built_in">Array</span>.from(strings.values());</span><br><span class="line"><span class="keyword">const</span> entries = <span class="built_in">Array</span>.from(strings.entries());</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(keys); <span class="comment">// [0, 1, 2]</span></span><br><span class="line"><span class="built_in">console</span>.log(values); <span class="comment">// [&#x27;hi-ruofei.com&#x27;, &#x27;https://hi-ruofei.com&#x27;, &#x27;Hello world.&#x27;];</span></span><br><span class="line"><span class="built_in">console</span>.log(entries); <span class="comment">// [[0, &#x27;hi-ruofei.com&#x27;], [1, &#x27;https://hi-ruofei.com&#x27;], [2, &#x27;Hello world&#x27;]]</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ ES6 çš„è§£æ„å¯ä»¥éå¸¸å®¹æ˜“åœ°åœ¨å¾ªç¯ä¸­æ‹†åˆ†é”®&#x2F;å€¼å¯¹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> strings = [<span class="string">&quot;hi-ruofei.com&quot;</span>, <span class="string">&quot;https://hi-ruofei.com&quot;</span>, <span class="string">&quot;Hello world&quot;</span>];</span><br><span class="line"><span class="keyword">const</span> entries = <span class="built_in">Array</span>.from(strings.entries());</span><br><span class="line"><span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [idx, element] <span class="keyword">of</span> entries) &#123;</span><br><span class="line">  result[element] = &#123; idx &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * result:</span></span><br><span class="line"><span class="comment"> * &#123;</span></span><br><span class="line"><span class="comment"> *   &#x27;hi-ruofei.com&#x27;: &#123; idx: 0 &#125;,</span></span><br><span class="line"><span class="comment"> *   &#x27;https://hi-ruofei.com&#x27;: &#123; idx: 0 &#125;,</span></span><br><span class="line"><span class="comment"> *   &#x27;Hello world&#x27;: &#123; idx: 0 &#125;,</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>

<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript è¯­æ³•</tag>
        <tag>JavaScript é›†åˆå¼•ç”¨ç±»å‹</tag>
        <tag>JavaScript Array</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript ä¹‹æ£€æµ‹æ•°ç»„</title>
    <url>/post/JavaScript-%E4%B9%8B%E6%A3%80%E6%B5%8B%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<p>è¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„ï¼ŒECMAScript æä¾›äº† 2 ç§æ£€æµ‹æ–¹å¼ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><code>instanceof</code> æ“ä½œç¬¦</li>
<li><code>Array.isArray()</code> æ–¹æ³•</li>
</ul>
<span id="more"></span>

<p>åœ¨åªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>instanceof</code> æ“ä½œç¬¦å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</span><br><span class="line">  <span class="comment">// æ“ä½œæ•°ç»„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>instanceof</code> çš„é—®é¢˜æ˜¯å‡è®¾åªæœ‰ä¸€ä¸ªå…¨å±€ä¸Šä¸‹æ–‡ã€‚å¦‚æœç½‘é¡µä¸­æœ‰å¤šä¸ªæ¡†æ¶ï¼Œåˆ™å¯èƒ½å­˜åœ¨ä¸¤ä¸ªä»¥ä¸Šå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå› æ­¤å¯èƒ½ä¼šæœ‰å¤šä¸ªä¸åŒçš„ <code>Array</code> æ„é€ å‡½æ•°ã€‚å½“ä»ä¸€ä¸ªæ¡†æ¶ä¸­å°†æ•°ç»„ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªæ¡†æ¶æ—¶ï¼Œåˆ™è¿™ä¸ªæ•°ç»„çš„æ„é€ å‡½æ•°å°†æœ‰åˆ«äºç¬¬äºŒä¸ªæ¡†æ¶ä¸­çš„æ•°ç»„ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒECMAScript æä¾›äº† <code>Array.isArray()</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯ç¡®å®šä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„ï¼Œè€Œä¸ç”¨ç®¡å®ƒæ˜¯åœ¨å“ªä¸ªå…¨å±€ä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(value)) &#123;</span><br><span class="line">  <span class="comment">// æ“ä½œæ•°ç»„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript è¯­æ³•</tag>
        <tag>JavaScript é›†åˆå¼•ç”¨ç±»å‹</tag>
        <tag>JavaScript Array</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ Mac ä¸Šä½¿ç”¨ gitolite æ­å»º Git æœåŠ¡å™¨</title>
    <url>/post/%E5%9C%A8-Mac-%E4%B8%8A%E4%BD%BF%E7%94%A8-gitolite-%E6%90%AD%E5%BB%BA-Git-%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><ul>
<li>ä½¿ç”¨ gitolite æ­å»ºæœ¬åœ° git æœåŠ¡</li>
<li>é€šè¿‡ iCloud åŒæ­¥ä»“åº“</li>
</ul>
<h2 id="å‡†å¤‡-ssh-key"><a href="#å‡†å¤‡-ssh-key" class="headerlink" title="å‡†å¤‡ ssh key"></a>å‡†å¤‡ ssh key</h2><p>ä½¿ç”¨ <code>ssh-keygen</code> å‘½ä»¤ç”Ÿæˆ ssh keyï¼š</p>
<span id="more"></span>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -b 4096</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/Users/&lt;username&gt;/.ssh/id_rsa):</span><br><span class="line">Created directory <span class="string">&#x27;/Users/ruofei/.ssh&#x27;</span>.</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /Users/&lt;username&gt;/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /Users/&lt;username&gt;/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:Q80nJRy3c+QEW8Sr1...j63sm3mXw &lt;username&gt;@mbp.local</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+---[RSA 4096]----+</span></span><br><span class="line"><span class="string">|     ..o .o.+=B+.|</span></span><br><span class="line"><span class="string">|     .. oo.+ B+ o|</span></span><br><span class="line"><span class="string">|.    ..  ..      |</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤ä¼šåœ¨ <code>/Users/&lt;username&gt;/.ssh/</code> ç›®å½•ä¸‹éšæœºç”Ÿæˆ ssh keyï¼Œå»ºè®®è¾“å…¥ä¸€ä¸ªå¯†ç ã€‚</p>
<h2 id="å…è®¸è¿œç¨‹ç™»å½•-MacBook"><a href="#å…è®¸è¿œç¨‹ç™»å½•-MacBook" class="headerlink" title="å…è®¸è¿œç¨‹ç™»å½• MacBook"></a>å…è®¸è¿œç¨‹ç™»å½• MacBook</h2><p>æ‰“å¼€ <code>ç³»ç»Ÿåå¥½è®¾ç½®</code> -&gt; <code>å…±äº«</code>ï¼Œå‹¾é€‰ <code>è¿œç¨‹ç™»å½•</code>ï¼š</p>
<p><img src="/images/2021/03/knM4zu.png" alt="è¿œç¨‹ç™»å½•"></p>
<h2 id="ä½¿ç”¨-iCloud-åŒæ­¥è£¸ä»“åº“"><a href="#ä½¿ç”¨-iCloud-åŒæ­¥è£¸ä»“åº“" class="headerlink" title="ä½¿ç”¨ iCloud åŒæ­¥è£¸ä»“åº“"></a>ä½¿ç”¨ iCloud åŒæ­¥è£¸ä»“åº“</h2><p>å›  gitolite æœåŠ¡å™¨éƒ¨ç½²åœ¨æœ¬åœ°ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬é‡è£…ç³»ç»Ÿæ—¶ï¼Œä¸€èˆ¬ä¼šå°† gitolite æœåŠ¡çš„è£¸ä»“åº“éƒ½åšä¸€æ¬¡å¤‡ä»½ã€‚æ–¹ä¾¿èµ·è§ï¼Œè¿™é‡Œä½¿ç”¨ iCloud åŒæ­¥æˆ‘ä»¬çš„è£¸ä»“åº“ã€‚</p>
<p>åœ¨ iCloud ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code>repositories</code> çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œcd åˆ° iCloud æ ¹ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ /Users/&lt;username&gt;/Library/Mobile\ Documents/com~apple~CloudDocs/</span><br></pre></td></tr></table></figure>

<p>åˆ›å»º <code>repositories</code> ç›®å½•çš„è½¯è¿æ¥åˆ°å½“å‰ç™»å½•ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹çš„ <code>repositories</code> ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo ln -s /Users/&lt;username&gt;/Library/Mobile\ Documents/com\~apple\~CloudDocs/repositories/ /Users/git/repositories</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æµ‹è¯•ä¸€ä¸‹ iCloud çš„åŒæ­¥åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚cd åˆ° <code>/Users/git/repositories</code> ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>test</code> çš„æµ‹è¯•æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /Users/&lt;username&gt;/repositories &amp;&amp; touch <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæ‰“å¼€ iCloud ä¸­çš„ <code>repositories</code> æ–‡ä»¶å¤¹ï¼Œå¦‚æœèƒ½çœ‹åˆ°æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„è¿™ä¸ª <code>test</code> æ–‡ä»¶ï¼Œå°±è¯´æ˜ iCloud çš„åŒæ­¥åŠŸèƒ½æ˜¯æ­£å¸¸çš„ã€‚</p>
<div class="tabs" id="æµ‹è¯•-icloud-åŒæ­¥åŠŸèƒ½æ˜¯å¦æ­£å¸¸"><ul class="nav-tabs"><li class="tab active"><a href="#æµ‹è¯•-icloud-åŒæ­¥åŠŸèƒ½æ˜¯å¦æ­£å¸¸-1">/Users/git/repositories/ ç›®å½•ä¸‹çš„å†…å®¹</a></li><li class="tab"><a href="#æµ‹è¯•-icloud-åŒæ­¥åŠŸèƒ½æ˜¯å¦æ­£å¸¸-2">iCloud ä¸­ repositories ç›®å½•ä¸‹çš„å†…å®¹</a></li></ul><div class="tab-content"><div class="tab-pane active" id="æµ‹è¯•-icloud-åŒæ­¥åŠŸèƒ½æ˜¯å¦æ­£å¸¸-1"><p><img src="/images/2021/03/fozuqm.png"></p></div><div class="tab-pane" id="æµ‹è¯•-icloud-åŒæ­¥åŠŸèƒ½æ˜¯å¦æ­£å¸¸-2"><p><img src="/images/2021/03/8gIbvw.jpg"></p></div></div></div>

<h2 id="å®‰è£…ã€é…ç½®-gitolite"><a href="#å®‰è£…ã€é…ç½®-gitolite" class="headerlink" title="å®‰è£…ã€é…ç½® gitolite"></a>å®‰è£…ã€é…ç½® gitolite</h2><p>é¦–å…ˆï¼Œå…‹éš† gitolite çš„æºç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/sitaramc/gitolite</span><br><span class="line"><span class="comment"># å¦‚æœå…‹éš† github ä¸Šçš„ä»“åº“å¤±è´¥ï¼Œå¯ä»¥é€šè¿‡å›½å†…é•œåƒä»“åº“å…‹éš†ï¼Œé€Ÿåº¦å¿«å¾ˆå¤š</span></span><br><span class="line"><span class="comment"># git clone https://gitee.com/mirrors/gitolite.git</span></span><br></pre></td></tr></table></figure>

<p>å…‹éš†æºç åå»ºç«‹ gitolite è½¯è¿æ¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mkdir -p ~/bin</span><br><span class="line">$ gitolite/install -ln /Users/&lt;username&gt;/bin <span class="comment"># éœ€ä½¿ç”¨ç»å¯¹è·¯å¾„</span></span><br></pre></td></tr></table></figure>

<p>å†å°† <code>gitolite</code> è¿½åŠ åˆ° <code>.bash_profile</code> ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/Users/&lt;username&gt;/bin:<span class="variable">$PATH</span> <span class="comment"># å¦‚æœç”¨ zsh é‚£å°±å°†è¿™å¥è¯æ·»åŠ åˆ° .bashrc æ–‡ä»¶ï¼Œæ³¨æ„å°† &lt;username&gt; æ›¿æ¢æˆä½ çš„ç”¨æˆ·å</span></span><br></pre></td></tr></table></figure>

<p>æœ€åè®¾ç½®ç®¡ç†å‘˜ç”¨æˆ·å…±é’¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ gitolite setup -pk YourName.pub <span class="comment"># è¿™é‡Œçš„ YourName.pub å°±æ˜¯ä¹‹å‰ç”Ÿæˆçš„å…±é’¥ï¼ˆssh keyï¼‰ï¼Œé€šå¸¸å«åš id_rsa.pub</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å‘½ä»¤æ‰§è¡ŒæˆåŠŸä¹‹åï¼Œä¼šåœ¨ iCloud çš„ <code>repositories</code> ç›®å½•ä¸‹åˆ›å»ºä¸¤ä¸ªä»“åº“ï¼š</p>
<ul>
<li><code>gitolite-admin.git</code>ï¼šè¿™æ˜¯ç®¡ç†å‘˜ä»“åº“ï¼Œæ·»åŠ äººå‘˜ã€æƒé™ç­‰æ“ä½œéœ€è¦å°†è¿™ä¸ªä»“åº“å…‹éš†ä¸‹æ¥åœ¨å…¶å†²çš„ config ä¸­é…ç½®ã€‚</li>
<li><code>testing.git</code>ï¼šè¿™ä¸ªæ˜¯ä¸€ä¸ªæµ‹è¯•ä»“åº“ã€‚</li>
</ul>
<p><img src="/images/2021/03/2xkXB3.png" alt="åˆå§‹åŒ–çš„ä¸¤ä¸ªä»“åº“"></p>
<p>ä¹‹åæˆ‘ä»¬æäº¤çš„ä»£ç éƒ½ä¼šåŒæ­¥åˆ° iCloudã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬æ˜¯åœ¨æœ¬åœ°æ­å»ºçš„ gitoliteï¼Œæ‰€ä»¥è¿˜è¦åœ¨å½“å‰ç®¡ç†å‘˜ç”¨æˆ·çš„ <code>.ssh</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ configï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ vim ~/.ssh/config</span><br></pre></td></tr></table></figure>

<p>config æ–‡ä»¶ä¸­å¡«å†™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host <span class="built_in">local</span> <span class="comment"># local å°±è¡¨ç¤ºæœ¬æœºï¼ˆ127.0.0.1ï¼‰</span></span><br><span class="line">    HostName 127.0.0.1</span><br><span class="line">    IdentityFile ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>å°† <code>gitolite-admin.git</code> ä»“åº“å…‹éš†ä¸‹æ¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> &lt;username&gt;@<span class="built_in">local</span>:gitolite-admin.git <span class="comment"># &lt;username&gt; æ˜¯ä½ çš„ç”¨æˆ·å</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/2021/03/fHnR56.png" alt="å…‹éš† gitolite-adming.git ä»“åº“"></p>
<p>ç”¨ç¼–è¾‘å™¨æ‰“å¼€ <code>gitolite-admin</code> ä»“åº“ï¼Œä¿®æ”¹å…¶ä¸­çš„ <code>gitolite.conf</code> æ–‡ä»¶ï¼š</p>
<p><img src="/images/2021/03/ZEeaGy.png" alt="ä¿®æ”¹ gitolite.conf æ–‡ä»¶"></p>
<p>å›¾ä¸­æ–°åŠ çš„åä¸º <code>hi-ruofei.com</code> ä»“åº“åå°±æ˜¯æœ¬ç«™çš„æºç ä»“åº“ã€‚</p>
<p>ä¿®æ”¹ä¹‹åï¼Œæäº¤åˆ° gitoliteï¼Œgitolite ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º <code>hi-ruofei.com</code> çš„è£¸ä»“åº“ï¼Œè¯¥ä»“åº“ä¼šåŒæ­¥åˆ° iCloud ä¸Šã€‚</p>
<p><img src="/images/2021/03/x51QfE.png" alt="è‡ªåŠ¨åˆ›å»º hi-ruofei.com è£¸ä»“åº“"></p>
<p><img src="/images/2021/03/vY8mFa.png" alt="ä¿å­˜åœ¨ iCloud ä¸Šçš„è£¸ä»“åº“"></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://gitolite.com/">Gitolite</a></li>
<li><a href="https://blog.csdn.net/a464057216/article/details/52644021">45.åœ¨ Mac ä¸Šä½¿ç”¨ gitolite æ­å»º Git æœåŠ¡å™¨</a><div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></li>
</ul>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>gitolite</tag>
      </tags>
  </entry>
  <entry>
    <title>Cloudflare è½¬å‘ GitHub Gist</title>
    <url>/post/Cloudflare-%E8%BD%AC%E5%8F%91-GitHub-Gist/</url>
    <content><![CDATA[<p>æœ¬æ–‡è®°å½•äº†å¦‚ä½•åœ¨ MediaWiki ä¸­æ’å…¥ GitHub Gist ä»£ç ç‰‡æ®µã€‚</p>
<span id="more"></span>

<h2 id="ç¼–å†™-MediaWiki-æ‰©å±•-gists-php"><a href="#ç¼–å†™-MediaWiki-æ‰©å±•-gists-php" class="headerlink" title="ç¼–å†™ MediaWiki æ‰©å±• gists.php"></a>ç¼–å†™ MediaWiki æ‰©å±• gists.php</h2><p>é¦–å…ˆç¼–å†™ä¸€ä¸ª MediaWiki æ‰©å±•ï¼Œæ–‡ä»¶å‘½åä¸º <code>gists.php</code>ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Extension for MediaWiki to include GitHub Gists in pages.</span></span><br><span class="line"><span class="comment"> * Copyright (C) 2021 è‹¥é &lt;rf.wangchn<span class="doctag">@foxmail</span>.com&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@file</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ingroup</span> Extensions</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> è‹¥é &lt;rf.wangchn<span class="doctag">@foxmail</span>.com&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$wgExtensionCredits</span>[<span class="string">&#x27;gists&#x27;</span>][] = <span class="keyword">array</span>(</span><br><span class="line">  <span class="string">&#x27;path&#x27;</span> =&gt; <span class="keyword">__FILE__</span>,</span><br><span class="line">  <span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Gists&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;author&#x27;</span> =&gt; <span class="string">&#x27;è‹¥é&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;url&#x27;</span> =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;description&#x27;</span> =&gt; <span class="string">&#x27;åœ¨ä½ çš„ MediaWiki ä¸­æ’å…¥ GitHub Gist ä»£ç ç‰‡æ®µã€‚&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;version&#x27;</span> =&gt; <span class="number">1.0</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="variable">$wgHooks</span>[<span class="string">&#x27;ParserFirstCallInit&#x27;</span>][] = <span class="string">&#x27;mvGists&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Add the &lt;gist&gt; tag to the parser.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> Parser $parser Parser object</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool true</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mvGists</span>(<span class="params"> Parser <span class="variable">$parser</span> </span>) </span>&#123;</span><br><span class="line">  <span class="variable">$parser</span>-&gt;setHook( <span class="string">&#x27;gist&#x27;</span>, <span class="string">&#x27;mvGistRender&#x27;</span> );</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Parses $input (gist number) and embeds gist code.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $input Contents of tag</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> array $args Attributes to the tag</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> Parser $parser Parser object</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> PPFrame $frame Current parser grame</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mvGistRender</span>(<span class="params"> <span class="variable">$input</span>, <span class="keyword">array</span> <span class="variable">$args</span>, Parser <span class="variable">$parser</span>, PPFrame <span class="variable">$frame</span> </span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>( !<span class="keyword">empty</span>( <span class="variable">$args</span>[<span class="string">&#x27;files&#x27;</span>] ) ) &#123;</span><br><span class="line">    <span class="variable">$files</span> = explode( <span class="string">&#x27; &#x27;</span>, <span class="variable">$args</span>[<span class="string">&#x27;files&#x27;</span>] );</span><br><span class="line">  &#125; <span class="keyword">elseif</span>( !<span class="keyword">empty</span>( <span class="variable">$args</span>[<span class="string">&#x27;file&#x27;</span>] ) ) &#123;</span><br><span class="line">    <span class="variable">$files</span> = <span class="keyword">array</span>( <span class="variable">$args</span>[<span class="string">&#x27;file&#x27;</span>] );</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable">$files</span> = <span class="keyword">array</span>( <span class="string">&#x27;&#x27;</span> );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>( !ctype_xdigit( <span class="variable">$input</span> ) ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;!!! Invalid gist number&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable">$gistId</span> = trim( <span class="variable">$input</span> );</span><br><span class="line">    <span class="variable">$output</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">foreach</span>( <span class="variable">$files</span> <span class="keyword">as</span> <span class="variable">$file</span> ) &#123;</span><br><span class="line">      <span class="comment">// ä»£ç†äº† GitHub Gist</span></span><br><span class="line">      <span class="comment">// see: https://dash.cloudflare.com/a85714920ae16e02e952fe71641d9a70/workers/view/gist</span></span><br><span class="line">      <span class="variable">$output</span> .= Html::linkedScript( <span class="string">&quot;https://gist.icoder.workers.dev/<span class="subst">&#123;$input&#125;</span>.js?file=<span class="subst">&#123;$file&#125;</span>&quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$output</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºå®Œæˆåï¼Œå°†è¯¥æ‰©å±•æ–‡ä»¶æ”¾åˆ° MediaWiki ç«™ç‚¹æ ¹ç›®å½•çš„ <code>extensions/gists/</code> ç›®å½•ä¸‹ã€‚</p>
<p>åœ¨ä¸­å›½å¤§é™†æ— æ³•è®¿é—® <a href="https://gist.github.com/">https://gist.github.com/ï¼ˆç‚¹æˆ‘è¯•ä¸€ä¸‹ä½ èƒ½è®¿é—®å—ï¼Ÿï¼‰</a>ï¼Œå€ŸåŠ© <a href="https://dash.cloudflare.com/">Cloudflare</a> å¯ä»¥å°†å…¶è½¬å‘åˆ°å…¶ä»–åŸŸåä¸‹ï¼Œè¿™æ ·å°±å¯ä»¥è®¿é—® <a href="https://gist.github.com/">https://gist.github.com/</a> äº†ã€‚</p>
<h2 id="åˆ›å»º-Worker"><a href="#åˆ›å»º-Worker" class="headerlink" title="åˆ›å»º Worker"></a>åˆ›å»º Worker</h2><p>åœ¨ Cloudflare ä¸­åˆ›å»ºä¸€ä¸ª workerï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">addEventListener(<span class="string">&quot;fetch&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> url = event.request.url.split(<span class="string">&quot;https://gist.icoder.workers.dev/&quot;</span>)[<span class="number">1</span>];</span><br><span class="line">  <span class="keyword">return</span> event.respondWith(fetch(<span class="string">`https://gist.github.com/<span class="subst">$&#123;url&#125;</span>`</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä»£ç ä¸­ç¬¬ 2 è¡Œæ˜¯ Cloudflare æä¾›çš„ worker.dev è·¯ç”±ï¼Œéƒ¨ç½²åé€šè¿‡è¯¥åœ°å€å³å¯è®¿é—® Github Gist ä¸­çš„ä»£ç ç‰‡æ®µã€‚ä¸è¦å¼€å¯ä½ æœ¬åœ°çš„ vpnï¼Œè®¿é—®ä¸€ä¸‹è¿™ä¸ªåœ°å€è¯•ä¸€ä¸‹ï¼š<a href="https://gist.icoder.workers.dev/smpower/4814c681a44629f43b2f8455c436f669">https://gist.icoder.workers.dev/smpower/4814c681a44629f43b2f8455c436f669</a>ã€‚é€šè¿‡è¿™ä¸ªåœ°å€æ‰“å¼€çš„é¡µé¢å°±åŒ…å«äº†ä¸Šé¢çš„ä¸¤ä¸ªä»£ç ç‰‡æ®µã€‚</p>
<h2 id="å¯ç”¨-gists-æ‰©å±•"><a href="#å¯ç”¨-gists-æ‰©å±•" class="headerlink" title="å¯ç”¨ gists æ‰©å±•"></a>å¯ç”¨ gists æ‰©å±•</h2><p>åœ¨ MediaWiki çš„é…ç½®æ–‡ä»¶ <code>LocalSettings.php</code> ä¸­å¯ç”¨è¯¥æ‰©å±•ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// çœç•¥äº†å…¶ä»–é…ç½®é¡¹...</span></span><br><span class="line"><span class="keyword">require_once</span> <span class="string">&quot;<span class="subst">$IP</span>/extensions/gists/gists.php&quot;</span>;</span><br></pre></td></tr></table></figure>

<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>MediaWiki</category>
      </categories>
      <tags>
        <tag>Extensions</tag>
        <tag>æ‰©å±•</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°ä¸€æ¬¡åšå®¢ä¼˜åŒ–</title>
    <url>/post/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%8D%9A%E5%AE%A2%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<p>ä¹‹å‰ï¼Œä½¿ç”¨ Netlify åšå…¨çƒåŠ é€Ÿï¼Œä»¥æé«˜è®¿é—®é€Ÿåº¦ã€‚åæ¥æ•ˆæœä¸æ˜¯å¾ˆæ˜æ˜¾ï¼Œåˆ‡æ¢åˆ°äº† Vercelï¼ŒåŠ é€Ÿæ•ˆæœå¾ˆå¥½ï¼Œç»“æœå‰å‡ å¤©ç½‘ç«™çªç„¶å°±ä¸èƒ½åœ¨å›½å†…è®¿é—®äº†ï½æ’æŸ¥äº†ä¸€ä¸‹å‘ç°éœ€è¦ç§‘å­¦ä¸Šç½‘æ‰èƒ½æ­£å¸¸è®¿é—®ï¼ŒæŠ½æ—¶é—´åˆæŠŠç½‘ç«™æ‰˜ç®¡åˆ° GitHub Pages ä¸Šäº†ã€‚</p>
<span id="more"></span>

<p>è™½ç„¶èƒ½è®¿é—® GitHub Pages é¡µé¢ï¼Œä½†æ˜¯åœ¨å›½å†…è®¿é—®çš„é€Ÿåº¦æ…¢åˆ°è®©ä½ æ€€ç–‘äººç”Ÿã€‚éƒ½å·²ç»è¦ç‹ å¿ƒä¹° CDN äº†ï¼Œçªç„¶æƒ³åˆ°äº† jsDelivrâ€”â€”è¿™è´§æ˜¯ä¸ºå¼€å‘è€…æä¾›çš„å¼€æºå…è´¹çš„ CDNï¼Œè®¸å¤š npm åŒ…éƒ½æ˜¯é€šè¿‡ jsDelivr æ¥åŠ é€Ÿçš„ï¼Œè¿˜æœ‰ GitHub ä»“åº“ä¹Ÿèƒ½åŠ é€Ÿè®¿é—®ã€‚</p>
<p>ç”¨æˆ·åœ¨è®¿é—®æ‰˜ç®¡åˆ° GitHub Pages ä¸Šçš„é¡µé¢æ—¶ï¼Œéœ€è¦åŠ è½½è®¸å¤šé™æ€èµ„æºï¼Œåƒä¸€äº› jsã€css å’Œå›¾åƒéƒ½æ˜¯ä» GitHub ä»“åº“ä¸­åŠ è½½çš„ï¼Œå¦‚æœæŠŠè¿™éƒ¨åˆ†èµ„æºä½¿ç”¨ jsDelivr åŠ é€Ÿçš„è¯ï¼Œç½‘ç«™çš„è®¿é—®é€Ÿåº¦å°±å¿«çš„å¤šäº†ï¼Œè¿™æ ·ç”¨æˆ·åªéœ€è¦ä» GitHub Pages åŠ è½½ html æ–‡ä»¶ï¼Œå…¶ä»–èµ„æºç»Ÿç»Ÿèµ° jsDelivrï¼Œå°±èƒ½è§£å†³è®¿é—®æ…¢çš„é—®é¢˜ã€‚</p>
<p>æœ¬ç«™ä½¿ç”¨ Hexo + NexT ä¸»é¢˜æ­å»ºï¼Œè¦åœ¨ NexT ä¸»é¢˜ä¸‹é…ç½® jsDelivr ä¹Ÿéå¸¸ç®€å•â€”â€”æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶å°±èƒ½å®ç°ã€‚ä¸è¿‡åœ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ä¹‹å‰ï¼Œè¿˜æ˜¯å…ˆçœ‹çœ‹ NexT æ˜¯æ€ä¹ˆå¼•å…¥é™æ€èµ„æºçš„å§ã€‚</p>
<p>æ‰“å¼€é¡¹ç›®çš„ <code>node_modules</code> æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ° Next ä¸»é¢˜ <code>hexo-theme-next</code> æ–‡ä»¶å¤¹ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯ç”¨åˆ°çš„ä¸»é¢˜ï¼Œåœ¨ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ° <code>layout</code> -&gt; <code>_partials</code> -&gt; <code>head</code> æ–‡ä»¶å¤¹ä¸‹çš„ <code>head.njk</code> æ–‡ä»¶ï¼Œæ‰“å¼€ã€‚</p>
<p>è¿™ä¸ªæ–‡ä»¶å°±æ˜¯ HTML æ–‡ä»¶ä¸­çš„ head éƒ¨åˆ†ï¼Œæ‰€æœ‰çš„ js å’Œ css èµ„æºéƒ½æ˜¯åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¼•å…¥çš„ã€‚çœ‹çœ‹å…¶ä¸­æœ‰æ²¡æœ‰å…³äºä¸»é¢˜çš„æ ·å¼ï¼Œåƒè¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;&#123;&#123; url_for(theme.css) &#125;&#125;/main.css&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ª main.css æ ·å¼æ–‡ä»¶çš„è·¯å¾„æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„ï¼Œæ‰¾ä¸€ä¸‹é…ç½®æ–‡ä»¶ä¸­çš„ css å±æ€§ï¼Œä½ ä¼šçœ‹åˆ°è¿™æ ·ä¸€æ®µä»£ç ï¼ˆé€šå¸¸åœ¨é…ç½®æ–‡ä»¶çš„æœ€åä½ç½®ï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Assets</span></span><br><span class="line"><span class="comment"># Accelerate delivery of static files using a CDN</span></span><br><span class="line"><span class="attr">css:</span> <span class="string">css</span></span><br><span class="line"><span class="attr">js:</span> <span class="string">js</span></span><br><span class="line"><span class="attr">images:</span> <span class="string">images</span></span><br></pre></td></tr></table></figure>

<p>ç»“åˆä¸Šé¢å¼•å…¥ css çš„è·¯å¾„ï¼Œå°±æ˜ç™½äº†ï¼šmain.css æ–‡ä»¶æ˜¯åœ¨æ ¹ç›®å½•ä¸‹çš„ css æ–‡ä»¶å¤¹ä¸‹å¼•å…¥çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠé…ç½®æ–‡ä»¶ä¸­çš„ cssã€js å’Œ images å±æ€§å€¼è®¾ç½®ä¸º jsDelivr æä¾›çš„åœ°å€å°±å¯ä»¥äº†ã€‚</p>
<p>ä»¥ä¸‹é¢æˆ‘çš„é…ç½®ä¸ºä¾‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Assets</span></span><br><span class="line"><span class="comment"># Accelerate delivery of static files using a CDN</span></span><br><span class="line"><span class="attr">css:</span> <span class="string">https://cdn.jsdelivr.net/gh/smpower/smpower.github.io/css</span> <span class="comment"># css</span></span><br><span class="line"><span class="attr">js:</span> <span class="string">https://cdn.jsdelivr.net/gh/smpower/smpower.github.io/js</span> <span class="comment"># js</span></span><br><span class="line"><span class="attr">images:</span> <span class="string">https://cdn.jsdelivr.net/gh/smpower/smpower.github.io/images</span> <span class="comment"># images</span></span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€æœ¬ç«™çš„æ§åˆ¶å°ï¼Œåˆ·æ–°ä¸€ä¸‹é¡µé¢ä½ ä¼šå‘ç°æ‰€æœ‰çš„é™æ€èµ„æºéƒ½æ˜¯ä»ä¸Šé¢çš„ cdn ä¸­åŠ è½½çš„ï¼Œå¹¶ä¸”è®¿é—®é€Ÿåº¦ç›¸å½“ç»™åŠ›ï¼Œæ•´ä¸ªé¡µé¢çš„åŠ è½½ç”¨æ—¶åœ¨ 3s ä»¥å†…ï¼Œè¿™é€Ÿåº¦ç®€ç›´å®Œçˆ† GitHub Pagesã€‚</p>
<p>è¿˜åœ¨ç­‰ä»€ä¹ˆï¼Œåœ¨ä½ çš„ç½‘ç«™ä¸Šä¹Ÿæä¸€å“ˆå§ï¼Happy Codingï¼</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å»ºç«™</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>ï¼ˆJSï¼‰Chrome ä¸‹è½½ PDF æ–‡ä»¶ï¼šï¼ˆJSï¼‰è§£å†³ Chrome æµè§ˆå™¨ä¸‹è½½ PDF è€Œä¸æ˜¯é¢„è§ˆ PDF</title>
    <url>/post/Chrome-%E4%B8%8B%E8%BD%BD-PDF-%E6%96%87%E4%BB%B6%EF%BC%9A%E8%A7%A3%E5%86%B3-Chrome-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8B%E8%BD%BD-PDF-%E8%80%8C%E4%B8%8D%E6%98%AF%E9%A2%84%E8%A7%88-PDF/</url>
    <content><![CDATA[<p>åœ¨å‰ç«¯å¼€å‘ä¸­é‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ Chrome ä¸­é€šè¿‡ä¸€ä¸ªé“¾æ¥ä¸‹è½½ PDF æ–‡ä»¶æ—¶å´è¢« Chrome æµè§ˆå™¨æ‰“å¼€é¢„è§ˆäº†ï¼Œè¿™ä¸æ˜¯æˆ‘æƒ³è¦çš„æ•ˆæœï¼Œç‚¹å‡» PDF é“¾æ¥çš„æ—¶å€™æˆ‘å¸Œæœ›ä¸‹è½½è¿™ä¸ªæ–‡ä»¶è€Œä¸æ˜¯å»é¢„è§ˆã€‚è¿™é‡Œæä¾›ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå°† PDF æ–‡ä»¶é€šè¿‡ <code>XMLHttpRequest</code> è¯·æ±‚çš„æ–¹å¼ï¼Œå°†æ–‡ä»¶è½¬æ¢ä¸ºæ–‡ä»¶æµï¼Œç„¶åå®ç°ä¸‹è½½ PDF çš„åŠŸèƒ½ã€‚</p>
<span id="more"></span>

<p>å…·ä½“ JS ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>æ–‡ä»¶é“¾æ¥è½¬æ–‡ä»¶æµä¸‹è½½ï¼ˆä¸»è¦é’ˆå¯¹ pdf - è§£å†³è°·æ­Œæµè§ˆå™¨ a æ ‡ç­¾ä¸‹ç›´æ¥æ‰“å¼€ pdf çš„é—®é¢˜ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>url æ–‡ä»¶é“¾æ¥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>fileName æ–‡ä»¶å</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>type æ–‡ä»¶ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fileLink2StreamDownload = <span class="function">(<span class="params">&#123; url, fileName, type &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> reg =</span><br><span class="line">    <span class="regexp">/^([hH][tT]&#123;2&#125;[pP]:\/\/|[hH][tT]&#123;2&#125;[pP][sS]:\/\/)(([A-Za-z0-9-~]+).)+([A-Za-z0-9-~\/])+$/</span>;</span><br><span class="line">  <span class="keyword">if</span> (!reg.test(url))</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;ä¼ å…¥å‚æ•°ä¸åˆæ³•ï¼Œ`url` ä¸æ˜¯æ ‡å‡†çš„æ–‡ä»¶é“¾æ¥&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">  <span class="comment">// è§„å®šè¯·æ±‚çš„ç±»å‹ã€URL ä»¥åŠæ˜¯å¦å¼‚æ­¥å¤„ç†è¯·æ±‚ã€‚</span></span><br><span class="line">  <span class="comment">//   ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯</span></span><br><span class="line">  <span class="comment">//     - methodï¼šè¯·æ±‚çš„ç±»å‹ï¼ˆGET æˆ– POST ï¼‰</span></span><br><span class="line">  <span class="comment">//     - urlï¼šæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ä½ç½®</span></span><br><span class="line">  <span class="comment">//     - asyncï¼štrueï¼ˆå¼‚æ­¥ï¼‰æˆ– falseï¼ˆåŒæ­¥ï¼‰</span></span><br><span class="line">  xhr.open(<span class="string">&quot;get&quot;</span>, url, <span class="literal">true</span>);</span><br><span class="line">  xhr.setRequestHeader(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">`application/<span class="subst">$&#123;type&#125;</span>`</span>);</span><br><span class="line">  xhr.responseType = <span class="string">&quot;blob&quot;</span>;</span><br><span class="line">  xhr.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.status === <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([<span class="built_in">this</span>.response], &#123; <span class="attr">type</span>: <span class="string">`application/<span class="subst">$&#123;type&#125;</span>`</span> &#125;);</span><br><span class="line">      <span class="keyword">const</span> objectUrl = URL.createObjectURL(blob);</span><br><span class="line">      <span class="keyword">const</span> ele = <span class="built_in">document</span>.createElement(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">      ele.href = objectUrl;</span><br><span class="line">      ele.download = fileName;</span><br><span class="line">      ele.click();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  xhr.send();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>fileLink2StreamDownload</code> æ–¹æ³•å†…éƒ¨é€šè¿‡ <code>XMLHttpRequest</code> å‘èµ·ä¸€ä¸ª GET è¯·æ±‚ï¼Œè®¾ç½®è¯·æ±‚çš„å“åº”ç±»å‹ä¸º <code>blob</code>ï¼Œç„¶ååœ¨é¡µé¢ä¸Šåˆ›å»ºä¸€ä¸ªéšè—çš„ <code>a</code> æ ‡ç­¾ï¼Œç„¶åç‚¹å‡»ä¸€ä¸‹è¿™ä¸ª <code>a</code> æ ‡ç­¾ï¼Œå®ç° PDF çš„ä¸‹è½½åŠŸèƒ½ã€‚è¿™é‡Œçš„å…³é”®æ˜¯å°†æ–‡ä»¶é“¾æ¥è½¬æ¢ä¸º <code>blob</code> æ–‡ä»¶æµæ¥å®ç°ä¸‹è½½ PDFã€‚å¦‚æœ PDF çš„é“¾æ¥æœ‰æƒé™éªŒè¯çš„è¯ï¼Œå¯ä»¥ç”¨ä½ é¡¹ç›®ä¸­å°è£…å¥½çš„ <code>request</code> æ–¹æ³•ä»£æ›¿ä¸Šé¢çš„ <code>XMLHttpRequest</code> æ–¹æ³•ã€‚</p>
<p>ä¸Šé¢çš„æ–¹æ³•æ˜¯ç»è¿‡é¡¹ç›®éªŒè¯è¿‡çš„ï¼Œä½ å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ copy è¿‡å»ï¼Œæ ¹æ®ä½ çš„é¡¹ç›®ç•¥ä½œä¿®æ”¹å°±èƒ½ç”¨äº†ï¼ç”šè‡³éƒ½ä¸ç”¨æ”¹å°±å¯ä»¥ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>QA</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker å…¥é—¨ä¹‹å®‰è£…æ•™ç¨‹</title>
    <url>/post/Docker-%E5%85%A5%E9%97%A8%E4%B9%8B%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<p>æœ¬ç¯‡ä»‹ç»äº†åœ¨ Mac OS, Windows, Linux ä¸‹çš„ Docker å®‰è£…æ–¹æ³•ã€‚å¼€å§‹ä¹‹å‰æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹å¯¹ Docker çš„ä»‹ç»ï¼š</p>
<blockquote>
<p>Docker Engine is available for Linux (<a href="https://store.docker.com/editions/community/docker-ce-server-centos">CentOS</a>, <a href="https://store.docker.com/editions/community/docker-ce-server-debian">Debian</a>, <a href="https://store.docker.com/editions/community/docker-ce-server-fedora">Fedora</a>, <a href="https://store.docker.com/editions/enterprise/docker-ee-server-oraclelinux">Oracle Linux</a>, <a href="https://store.docker.com/editions/enterprise/docker-ee-server-rhel">RHEL</a>, <a href="https://store.docker.com/editions/enterprise/docker-ee-server-sles">SUSE</a>, and <a href="https://store.docker.com/editions/community/docker-ce-server-ubuntu">Ubuntu</a>) or <a href="https://store.docker.com/editions/enterprise/docker-ee-server-windows">Windows Server</a> operating systems and is based on containerd - the open source container runtime project that Docker donated to the Cloud Native Computing Foundation (CNCF) in 2017. It is available as both a free community-supported engine and as a commercially-supported enterprise engine (Docker Engine-Enterprise) that also forms the foundation for an enterprise container platform.</p>
</blockquote>
<p>é€šè¿‡å®˜æ–¹çš„ä»‹ç»æˆ‘ä»¬ä¸éš¾å‘ç°ï¼ŒDocker å·²ç»åŸºæœ¬ä¸Šè¦†ç›–äº†å…¨å¹³å°ï¼Œå¯¹äºè‹±æ–‡å¥½çš„æœ‹å‹ï¼Œç›´æ¥å»å®˜ç½‘æŒ‰ç…§æŒ‡å—ä¸€æ­¥ä¸€æ­¥å®‰è£…å³å¯ã€‚</p>
<p>è‹±æ–‡ä¸€èˆ¬çš„æœ‹å‹ï¼Œç»§ç»­å¾€ä¸‹çœ‹å§é‚£å°±ï½</p>
<span id="more"></span>

<h2 id="Mac-OS-ä¸Šçš„-Docker-å®‰è£…æ–¹æ³•"><a href="#Mac-OS-ä¸Šçš„-Docker-å®‰è£…æ–¹æ³•" class="headerlink" title="Mac OS ä¸Šçš„ Docker å®‰è£…æ–¹æ³•"></a>Mac OS ä¸Šçš„ Docker å®‰è£…æ–¹æ³•</h2><p>ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä¸‹è½½å®˜æ–¹çš„ <code>dmg</code> å®‰è£…åŒ…ï¼š</p>
<p><a href="https://hub.docker.com/editions/community/docker-ce-desktop-mac">Docker Descktop for Mac</a></p>
<p>å®‰è£…è¯¥è½¯ä»¶åŒ…å¯¹ç³»ç»Ÿçš„è¦æ±‚ï¼š</p>
<blockquote>
<p>Requires Apple Mac OS Sierra 10.12 or above. Download <a href="https://docs.docker.com/toolbox/overview/">Docker Toolbox</a> for previous OS versions.</p>
</blockquote>
<p>åªè¦ç³»ç»Ÿæ˜¯ Mac OS Sierra 10.12 ä»¥ä¸Šå³å¯ã€‚</p>
<p>ä¸‹è½½å®Œ <code>Docker.dmg</code> å®‰è£…åŒ…ä¹‹åï¼ŒåŒå‡»å³å¯ä»¥å®‰è£…ï¼Œå¯èƒ½éœ€è¦ç³»ç»Ÿç®¡ç†å‘˜æƒé™ï¼Œè¾“å…¥å¯†ç å³å¯ã€‚</p>
<p>å®‰è£…æˆåŠŸåï¼Œåœ¨ç³»ç»Ÿèœå•æ ä¸Šä¼šæœ‰ Docker çš„å°å›¾æ ‡ï¼š</p>
<p><img src="/images/2021/06/Xt0mTI.png" alt="Docker å°å›¾æ ‡"></p>
<p>å®‰è£…å®Œä¹‹åï¼Œåœ¨ç»ˆç«¯å·¥å…·ä¸­ï¼Œä½¿ç”¨ <code>docker version</code> æ¥æŸ¥çœ‹ Docker ç‰ˆæœ¬ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ docker version</span><br><span class="line">Client:</span><br><span class="line"> Cloud integration: 1.0.14</span><br><span class="line"> Version:           20.10.6</span><br><span class="line"> API version:       1.41</span><br><span class="line"> Go version:        go1.16.3</span><br><span class="line"> Git commit:        370c289</span><br><span class="line"> Built:             Fri Apr  9 22:46:57 2021</span><br><span class="line"> OS/Arch:           darwin/amd64</span><br><span class="line"> Context:           default</span><br><span class="line"> Experimental:      <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">Server: Docker Engine - Community</span><br><span class="line"> Engine:</span><br><span class="line">  Version:          20.10.6</span><br><span class="line">  API version:      1.41 (minimum version 1.12)</span><br><span class="line">  Go version:       go1.13.15</span><br><span class="line">  Git commit:       8728dd2</span><br><span class="line">  Built:            Fri Apr  9 22:44:56 2021</span><br><span class="line">  OS/Arch:          linux/amd64</span><br><span class="line">  Experimental:     <span class="literal">false</span></span><br><span class="line"> containerd:</span><br><span class="line">  Version:          1.4.4</span><br><span class="line">  GitCommit:        05f951a3781f4f2c1911b05e61c160e9c30eaa8e</span><br><span class="line"> runc:</span><br><span class="line">  Version:          1.0.0-rc93</span><br><span class="line">  GitCommit:        12644e614e25b05da6fd08a38ffa0cfe1903fdec</span><br><span class="line"> docker-init:</span><br><span class="line">  Version:          0.19.0</span><br><span class="line">  GitCommit:        de40ad0</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®ä¸­å›½åŒºåŠ é€Ÿåœ°å€ï¼š</p>
<p><img src="/images/2021/06/xaybI4.png" alt="è®¾ç½® Docker ä¸­å›½åŒºåŠ é€Ÿåœ°å€"></p>
<p>ä¸Šé¢æ‰“ç çš„åœ°å€æ˜¯é˜¿é‡Œäº‘æä¾›çš„ Docker é•œåƒåŠ é€Ÿåœ°å€ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥å»ç”³è¯·ä¸€ä¸ªä¸ªäººé•œåƒåœ°ä½¿ç”¨ã€‚</p>
<blockquote>
<p>é˜¿é‡Œäº‘ Docker é•œåƒåŠ é€Ÿï¼š<a href="https://yq.aliyun.com/articles/29941">Docker é•œåƒåŠ é€Ÿå™¨</a></p>
</blockquote>
<p>ç¬¬äºŒç§æ–¹æ³•æ˜¯é€šè¿‡ <code>brew cask</code> å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ brew update</span><br><span class="line">âœ  ~ brew cask install docker</span><br><span class="line">âœ  ~ brew cask uninstall docker <span class="comment"># åˆ é™¤çš„æ–¹æ³•, è¿˜éœ€è¦æ‰‹åŠ¨åˆ é™¤Docker.app</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å‘½ä»¤å°†ä¼šæŠŠ Docker å®‰è£…åœ¨ <code>Applications</code> ç›®å½•ä¸‹ã€‚</p>
<h2 id="Windows-ä¸Š-Docker-å®‰è£…"><a href="#Windows-ä¸Š-Docker-å®‰è£…" class="headerlink" title="Windows ä¸Š Docker å®‰è£…"></a>Windows ä¸Š Docker å®‰è£…</h2><p>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href="https://hub.docker.com/editions/community/docker-ce-desktop-windows">Docker Desktop for Windows</a></p>
<p>å¯¹ç³»ç»Ÿçš„è¦æ±‚ï¼š</p>
<blockquote>
<p>Requires Microsoft Windows 10 Professional or Enterprise 64-bit. For previous versions get <a href="https://docs.docker.com/toolbox/overview/">Docker Toolbox</a>.</p>
</blockquote>
<p>éœ€è¦ Windows 10 ä¸“ä¸šç‰ˆåŠä¼ä¸šçš„ 64 ä½ç‰ˆæœ¬ï¼Œåœ¨ Windows server 2016 ä»¥ä¸Šäº²æµ‹æ˜¯å¯ç”¨çš„ã€‚Windows 8&#x2F;7&#x2F;Vista&#x2F;Xp ä¹‹ç±»çš„ï¼Œå°±åˆ«æƒ³äº†ï¼Œè€å®å»è£… Windows 10 æˆ–è€…è™šæ‹Ÿæœºä¸­å»ä½¿ç”¨ã€‚</p>
<h2 id="Linux-ä¸Š-Docker-å®‰è£…"><a href="#Linux-ä¸Š-Docker-å®‰è£…" class="headerlink" title="Linux ä¸Š Docker å®‰è£…"></a>Linux ä¸Š Docker å®‰è£…</h2><p>ä¸‹é¢ä»‹ç»æœ€å¸¸è§çš„ Linux ç³»ç»Ÿä¸‹å®‰è£… Docker çš„æ–¹æ³•ã€‚</p>
<h3 id="Centos-ä¸­-Docker-å®‰è£…æ–¹æ³•"><a href="#Centos-ä¸­-Docker-å®‰è£…æ–¹æ³•" class="headerlink" title="Centos ä¸­ Docker å®‰è£…æ–¹æ³•"></a>Centos ä¸­ Docker å®‰è£…æ–¹æ³•</h3><ol>
<li><p>å…ˆåˆ é™¤æ—§çš„ç‰ˆæœ¬ï¼ˆå¦‚æœæ²¡æœ‰å¯ä»¥è·³è¿‡ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo yum remove docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…å¿…é¡»çš„ä¾èµ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ  <code>stable</code> çš„ Docker-ce çš„æºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£… <code>docker-ce</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€‰æ‹©æŒ‡å®šçš„å®‰è£…ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ yum list docker-ce --showduplicates | sort -r</span><br><span class="line">docker-ce.x86_64  3:18.09.1-3.el7                     docker-ce-stable</span><br><span class="line">docker-ce.x86_64  3:18.09.0-3.el7                     docker-ce-stable</span><br><span class="line">docker-ce.x86_64  18.06.1.ce-3.el7                    docker-ce-stable</span><br><span class="line">docker-ce.x86_64  18.06.0.ce-3.el7                    docker-ce-stable</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦å®‰è£… <code>3:18.09.1-3.el7</code> è¿™ä¸ªç‰ˆæœ¬ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç»“æ„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ sudo yum install docker-ce- docker-ce-cli- containerd.io</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€éƒ¨åˆ†æ˜¯ <code>docker-ce</code>ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ç‰ˆæœ¬å· <code>18.09.1</code>ï¼Œçœ‹æ˜ç™½äº†å—ï¼Ÿå°±æ˜¯è¿™æ ·å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo yum install -y docker-ce-18.09.1 docker-ce-cli-18.09.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡å¹¶æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl start docker <span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">$ sudo docker run hello-world <span class="comment"># æ¥ä¸€ä¸ª Hello World å§</span></span><br><span class="line">Unable to find image <span class="string">&#x27;hello-world:latest&#x27;</span> locally</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line">1b930d010525: Pull complete</span><br><span class="line">Digest: sha256:2557e3c07ed1e38f26e389462d03ed943586f744621577a99efb77324b0fe535</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line">1. The Docker client contacted the Docker daemon.</span><br><span class="line">2. The Docker daemon pulled the <span class="string">&quot;hello-world&quot;</span> image from the Docker Hub.</span><br><span class="line">(amd64)</span><br><span class="line">3. The Docker daemon created a new container from that image <span class="built_in">which</span> runs the</span><br><span class="line">executable that produces the output you are currently reading.</span><br><span class="line">4. The Docker daemon streamed that output to the Docker client, <span class="built_in">which</span> sent it</span><br><span class="line">to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line">$ docker run -it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line">https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line">https://docs.docker.com/get-started/</span><br></pre></td></tr></table></figure>

<p>å¦‚æœçœ‹åˆ°ä¸Šé¢çš„æç¤ºï¼Œè¯´æ˜ Docker å·²ç»æˆåŠŸå®‰è£…å¹¶è¿è¡Œäº†ã€‚</p>
</li>
<li><p>å…³äºå‡çº§&amp;åˆ é™¤ï¼š</p>
<p>å‡çº§ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ yum -y update <span class="comment"># æ›´æ–°æ‰€æœ‰</span></span><br><span class="line">$ yum -y update docker-ce docker-ce-cli containerd.io <span class="comment"># æ›´æ–°æŒ‡å®š</span></span><br></pre></td></tr></table></figure>

<p>åˆ é™¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo yum remove docker-ce</span><br><span class="line">$ sudo rm -rf /var/lib/docker <span class="comment"># åˆ é™¤æ–‡ä»¶ç³»ç»Ÿ</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Debian-ä¸­-Docker-çš„å®‰è£…æ–¹æ³•"><a href="#Debian-ä¸­-Docker-çš„å®‰è£…æ–¹æ³•" class="headerlink" title="Debian ä¸­ Docker çš„å®‰è£…æ–¹æ³•"></a>Debian ä¸­ Docker çš„å®‰è£…æ–¹æ³•</h3><ol>
<li><p>åˆ é™¤æ—§çš„ç‰ˆæœ¬(å¯è·³è¿‡)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install \</span><br><span class="line">apt-transport-https \</span><br><span class="line">ca-certificates \</span><br><span class="line">curl \</span><br><span class="line">gnupg \</span><br><span class="line">lsb-release</span><br><span class="line">$ curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ <code>stable</code> å®‰è£…æºï¼š</p>
<ul>
<li>x86_64 &#x2F; amd64</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/debian <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>armhf</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository <span class="string">&quot;deb [arch=armhf] https://download.docker.com/linux/debian <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>arm64</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/debian <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£… <code>docker-ce</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…æŒ‡å®šçš„ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ apt-cache madison docker-ce</span><br><span class="line">docker-ce | 5:18.09.1~3-0~debian-stretch | https://download.docker.com/linux/debian stretch/stable amd64 Packages</span><br><span class="line">docker-ce | 5:18.09.0~3-0~debian-stretch | https://download.docker.com/linux/debian stretch/stable amd64 Packages</span><br><span class="line">docker-ce | 18.06.1~ce~3-0~debian        | https://download.docker.com/linux/debian stretch/stable amd64 Packages</span><br><span class="line">docker-ce | 18.06.0~ce~3-0~debian        | https://download.docker.com/linux/debian stretch/stable amd64 Packages</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install docker-ce= docker-ce-cli= containerd.io</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹è¯´æ˜ï¼šæ¯”å¦‚è¦å®‰è£… <code>5:18.09.1~3-0~debian-stretch</code> ç‰ˆæœ¬çš„ docker çš„è¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install docker-ce=18.09.1 docker-ce-cli=18.09.1 containerd.io</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡å¹¶æµ‹è¯•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo service docker start</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Dockerè¿è¡ŒçŠ¶æ€</span></span><br><span class="line">$ sudo service docker status</span><br><span class="line">$ sudo docker run hello-world</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Ubuntu-ä¸­-Docker-å®‰è£…æ–¹æ³•"><a href="#Ubuntu-ä¸­-Docker-å®‰è£…æ–¹æ³•" class="headerlink" title="Ubuntu ä¸­ Docker å®‰è£…æ–¹æ³•"></a>Ubuntu ä¸­ Docker å®‰è£…æ–¹æ³•</h3><ol>
<li><p>åˆ é™¤æ—§çš„ç‰ˆæœ¬(å¯è·³è¿‡)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install</span><br><span class="line">apt-transport-https</span><br><span class="line">ca-certificates</span><br><span class="line">curl</span><br><span class="line">gnupg-agent</span><br><span class="line">software-properties-common</span><br><span class="line">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - <span class="comment"># æ·»åŠ GPG key</span></span><br><span class="line">$ sudo apt-key fingerprint 0EBFCD88</span><br><span class="line">pub   rsa4096 2017-02-22 [SCEA]</span><br><span class="line">9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88</span><br><span class="line">uid           [ unknown] Docker Release (CE deb)</span><br><span class="line">sub   rsa4096 2017-02-22 [S]</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ <code>stable</code> å®‰è£…æºï¼š</p>
<ul>
<li><p>x86_64&#x2F;amd64</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>[armhf]</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository <span class="string">&quot;deb [arch=armhf] https://download.docker.com/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>[arm64]</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository <span class="string">&quot;deb [arch=arm64] https://download.docker.com/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>[ppc64le (IBM Power)]</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository <span class="string">&quot;deb [arch=ppc64el] https://download.docker.com/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>s390x (IBM Z)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo add-apt-repository <span class="string">&quot;deb [arch=s390x] https://download.docker.com/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>å®‰è£… <code>docker-ce</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…æŒ‡å®šçš„ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ apt-cache madison docker-ce  docker-ce | 5:18.09.1~3-0~ubuntu-xenial | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages  docker-ce | 5:18.09.0~3-0~ubuntu-xenial | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages  docker-ce | 18.06.1~ce~3-0~ubuntu       | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages  docker-ce | 18.06.0~ce~3-0~ubuntu       | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages  ...</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install docker-ce= docker-ce-cli= containerd.io</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹è¯´æ˜ï¼šæ¯”å¦‚è¦å®‰è£… <code>5:18.09.1~3-0~ubuntu-xenial</code> ç‰ˆæœ¬çš„ docker çš„è¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install docker-ce=18.09.1 docker-ce-cli=18.09.1 containerd.io</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡å¹¶æµ‹è¯•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo service docker start</span><br><span class="line">$ sudo service docker status <span class="comment"># æŸ¥çœ‹ Docker è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">$ sudo docker run hello-world</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Docker-compose-é›†åˆå‘½ä»¤"><a href="#Docker-compose-é›†åˆå‘½ä»¤" class="headerlink" title="Docker-compose é›†åˆå‘½ä»¤"></a>Docker-compose é›†åˆå‘½ä»¤</h2><p>Compose å·¥å…·æ˜¯ä¸€ä¸ª <code>æ‰¹é‡</code> å·¥å…·ï¼Œç”¨äºè¿è¡Œä¸ç®¡ç†å¤šä¸ª <code>docker</code> å®¹å™¨ã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.docker.com/compose/install/">Install Docker Compose</a></p>
<ol>
<li><p>åœ¨ Mac&#x2F;Windows ä¸­ï¼Œå·²ç»é›†æˆäº† docker-compose å‘½ä»¤</p>
</li>
<li><p>åœ¨ WindowsServer ä¸­ å…ˆå¯åŠ¨ PowerShell</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Invoke-WebRequest <span class="string">&quot;https://github.com/docker/compose/releases/download/1.23.2/docker-compose-Windows-x86_64.exe&quot;</span> -UseBasicParsing -OutFile <span class="variable">$Env</span>:ProgramFilesDockerdocker-compose.exe</span><br></pre></td></tr></table></figure>

<p>ç„¶åæµ‹è¯•ä¸€ä¸‹ï¼š<code>docker-compose --version</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½docker-compose</span></span><br><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/1.23.2/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/<span class="built_in">local</span>/bin/docker-compose</span><br><span class="line"><span class="comment"># ç»™äºˆæ‰§è¡Œæƒé™</span></span><br><span class="line">sudo chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span><br><span class="line"><span class="comment"># æµ‹è¯•å‘½ä»¤</span></span><br><span class="line">$ docker-compose --version</span><br><span class="line">docker-compose version 1.23.2, build 1110ad01</span><br></pre></td></tr></table></figure></li>
</ol>
<p>ä»¥ä¸Šå°±æ˜¯åœ¨å„ä¸ªå¹³å°å®‰è£… Docker çš„æ­¥éª¤ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€äº¤æµã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>å‰ç«¯è¿›é˜¶</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - Exclude: TypeScript å®ç”¨ç±»å‹ - Exclude</title>
    <url>/post/TypeScript-Utility-Types-Exclude-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Exclude/</url>
    <content><![CDATA[<p><code>Exclude&lt;Type, ExcludeUnion&gt;</code> é€šè¿‡æ’é™¤è”åˆç±»å‹ä¸­çš„æŒ‡å®šæˆå‘˜æ¥æ„é€ æ–°ç±»å‹ã€‚</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Letter = <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="keyword">type</span> T0 = Exclude&lt;Letter, <span class="string">&#x27;a&#x27;</span>&gt;;</span><br></pre></td></tr></table></figure>

<p>ä¸Šä¾‹ä»£ç ä¸­çš„ç±»å‹ <code>T0</code> ç­‰ä»·äºä¸‹é¢çš„å†™æ³•ï¼š</p>
<span id="more"></span>

<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> T0 = <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>Exclude</code> å°†è”åˆç±»å‹ <code>Letter</code> ä¸­çš„æˆå‘˜ <code>a</code> æ’é™¤æ‰ï¼Œå¾—åˆ°äº†ä¸€ä¸ªå« <code>T0</code> çš„è”åˆç±»å‹ã€‚æœ€ç»ˆåœ¨è”åˆç±»å‹ <code>T0</code> ä¸­ï¼Œåªæœ‰æˆå‘˜ <code>b</code> å’Œ æˆå‘˜ <code>c</code>ã€‚</p>
<p>é‚£ä¹ˆï¼Œ<code>Exclude&lt;Type, ExcludeUnion&gt;</code> æ˜¯å¦‚ä½•æ’é™¤ç±»å‹æˆå‘˜çš„å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬é€šè¿‡å®ƒçš„ç±»å‹å®šä¹‰æ–‡ä»¶åˆ†æä¸€ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Exclude from T those types that are assignable to U</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> Exclude&lt;T, U&gt; = T <span class="keyword">extends</span> U ? <span class="built_in">never</span> : T;</span><br></pre></td></tr></table></figure>

<p><code>T extends U ? nver : T</code> ç±»ä¼¼äº JavaScript ä¸­çš„ä¸‰ç›®è¿ç®—ç¬¦ï¼Œè¿™æ˜¯ TypeScript 2.8 ä¸­å¼•å…¥çš„<strong>æ¡ä»¶ç±»å‹</strong><sup id="fnref:1"><a href="#fn:1" rel="footnote">[1]</a></sup>ï¼Œæ„æ€æ˜¯ï¼šå¦‚æœ <code>T</code> ç±»å‹æ˜¯ <code>U</code> ç±»å‹çš„å­ç±»å‹çš„è¯ï¼Œè¿”å› <code>never</code><sup id="fnref:2"><a href="#fn:2" rel="footnote">[2]</a></sup>ï¼Œå¦åˆ™è¿”å› <code>T</code> ç±»å‹ã€‚é€šè¿‡åˆšæ‰çš„ä¾‹å­æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œ<code>Exclude</code> å°±æ˜¯å°†å‰é¢çš„ç±»å‹ä¸åé¢çš„ç±»å‹å¯¹æ¯”ï¼Œè¿‡æ»¤å‡ºå‰é¢è”åˆç±»å‹ä¸­ç‹¬æœ‰çš„æˆå‘˜ã€‚</p>
<p><code>Exclude</code> é™¤äº†å¯ä»¥æ’é™¤è”åˆç±»å‹ä¸­çš„å­—ç¬¦ä¸²æˆå‘˜ï¼Œè¿˜å¯ä»¥è¿‡æ»¤å‡½æ•°æˆå‘˜ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> MyUnion = <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | (<span class="function">() =&gt;</span> <span class="built_in">void</span>);</span><br><span class="line"><span class="keyword">type</span> T2 = Exclude&lt;MyUnion, <span class="built_in">Function</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// `T2` ç±»å‹ç­‰ä»·äºä¸‹é¢çš„ `T3` ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> T3 = <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯ä¸¤ä¸ªè”åˆç±»å‹å‘¢ï¼Ÿ</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> U1 = <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="keyword">type</span> U2 = <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;5&#x27;</span> | <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="keyword">type</span> U3 = Exclude&lt;U1, U2&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// `U3` ç±»å‹ç­‰ä»·äºä¸‹é¢çš„ `U4` ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> U4 = <span class="string">&#x27;a&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><code>U3</code> ç±»å‹çš„ç»“æœå¯èƒ½è®©äººç–‘æƒ‘ï¼Œçœ‹ä¸Šå» <code>U1</code> ç±»å‹å¹¶ä¸æ˜¯ç»§æ‰¿è‡ª <code>U2</code> ç±»å‹ï¼Œæœ€åä¸ºä»€ä¹ˆå°†ç±»å‹ <code>U1</code> ä¸­çš„æˆå‘˜ <code>b</code> å’Œæˆå‘˜ <code>c</code> è¿‡æ»¤æ‰äº†å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬æ³¨æ„åˆ° <code>U1</code> å’Œ <code>U2</code> ç±»å‹éƒ½æ˜¯è”åˆç±»å‹ï¼Œæ¢å¥è¯è¯´ <code>U1</code> ç±»å‹æœ‰å¯èƒ½æ˜¯ <code>&#39;a&#39;</code>ï¼Œæœ‰å¯èƒ½æ˜¯ <code>&#39;b&#39;</code>ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ <code>&#39;c&#39;</code>ã€‚æ˜¾ç„¶æˆå‘˜ <code>&#39;a&#39;</code> æ²¡æœ‰ç»§æ‰¿è‡ª <code>U2</code> ç±»å‹ï¼Œè€Œæˆå‘˜ <code>&#39;b&#39;</code> å’Œæˆå‘˜ <code>&#39;c&#39;</code> åˆ†åˆ«ç»§æ‰¿è‡ªç±»å‹ <code>U2</code>ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆ <code>Exclude</code> å°† <code>U1</code> ç±»å‹ä¸­çš„æˆå‘˜ <code>&#39;b&#39;</code> å’Œæˆå‘˜ <code>&#39;c&#39;</code> æ’é™¤æ‰ï¼Œåªç•™ä¸‹äº†æˆå‘˜ <code>&#39;a&#39;</code>ã€‚</p>
<div id="footnotes"><div id="footnotelist"><div style="border-bottom: 1px solid #eee; font-size: 1.125em; margin-bottom: 10px; margin-top: 60px;">å‚è€ƒ</div><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;"><a href="https://www.typescriptlang.org/docs/handbook/2/conditional-types.html">TypeScript æ¡ä»¶ç±»å‹</a></span><a href="#fnref:1" rev="footnote"> â†©</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#the-never-type">TypeScript <code>never</code> ç±»å‹</a>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></span><a href="#fnref:2" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - Omit: TypeScript å®ç”¨ç±»å‹ - Omit</title>
    <url>/post/TypeScript-Utility-Types-Omit-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Omit/</url>
    <content><![CDATA[<p>æœ¬ç¯‡ä»‹ç» TypeScript å®ç”¨ç±»å‹ä¸­çš„ <code>Omit</code> ç±»å‹ã€‚<code>Omit&lt;Type, Keys&gt;</code> ä»ç±»å‹ä¸­é€‰å–æ‰€æœ‰å±æ€§ï¼Œç„¶åé€šè¿‡åˆ é™¤æŒ‡å®šé”®æ¥æ„é€ ç±»å‹ã€‚ä»¥ä¸‹é¢çš„ <code>User</code> ç±»å‹ä¸ºä¾‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>ç» <code>Omit</code> ç±»å‹è½¬æ¢åå¾—åˆ°ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ `User` ç±»å‹ä¸­çš„ `age` å’Œ `gender` å±æ€§</span></span><br><span class="line"><span class="comment">// åªå‰©ä¸‹äº† `name` å±æ€§</span></span><br><span class="line"><span class="keyword">type</span> OmitUser = Omit&lt;User, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> omitUser: OmitUser = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Olive&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è½¬æ¢åçš„ <code>OmitUser</code> ç±»å‹ä¸ä¸‹é¢çš„ç±»å‹æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> OmitUser = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆï¼Œ<code>Omit</code> æ˜¯å¦‚ä½•è½¬æ¢ç±»å‹çš„å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡å®ƒçš„ç±»å‹å®šä¹‰æ¥åˆ†æä¸€ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Construct a type with the properties of T except for those in type K.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> Omit&lt;T, K <span class="keyword">extends</span> keyof <span class="built_in">any</span>&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;</span><br></pre></td></tr></table></figure>

<p><code>Omit</code> æºç çš„ç±»å‹å®šä¹‰ä¸­æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li><code>K extends keyof any</code>ï¼šè¿™æ®µä»£ç è¡¨ç¤ºæ³›å‹ <code>K</code> ç»§æ‰¿è‡ªè”åˆç±»å‹ <code>keyof any</code>ï¼›</li>
<li><code>Pick</code> æ˜¯ TypeScript ä¸­ä½œç”¨äºå…¨å±€çš„å®ç”¨ç±»å‹ï¼Œç”¨äºä»ç±»å‹ä¸­é€‰å–ä¸€ç»„å±æ€§é”®æ¥æ„é€ ç±»å‹<sup id="fnref:1"><a href="#fn:1" rel="footnote">[1]</a></sup>;</li>
<li><code>Exclude</code> æ˜¯ TypeScript ä¸­å¦ä¸€ä¸ªä½œç”¨äºå…¨å±€çš„å®ç”¨ç±»å‹ï¼Œé€šè¿‡æ’é™¤è”åˆç±»å‹ä¸­çš„æŒ‡å®šæˆå‘˜æ¥æ„é€ æ–°ç±»å‹<sup id="fnref:2"><a href="#fn:2" rel="footnote">[2]</a></sup>ï¼›</li>
<li>é€šè¿‡ <code>Exclude</code> è½¬æ¢åçš„ç±»å‹ç»“æœå°±æ˜¯è¦æŒ‘é€‰å‡ºæ¥çš„æˆå‘˜ï¼Œå†ç»è¿‡ <code>Pick</code> å°†ä»–ä»¬ä»ç±»å‹ <code>T</code> ä¸­é€‰å–å‡ºæ¥ã€‚</li>
</ul>
<p>åœ¨ä¸äº†è§£ <code>Pick</code> å’Œ <code>Exclude</code> ç±»å‹ä½œç”¨çš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬éš¾ä»¥çœ‹æ‡‚ <code>Omit</code> ç±»å‹çš„æºç ã€‚ä¸‹é¢å‚è€ƒéƒ¨åˆ†æœ‰ç›¸å…³çš„ä¼ é€é—¨ï¼Œå½“ä½ ç†è§£äº† <code>Pick</code> å’Œ <code>Exclude</code> åå›å¤´å†çœ‹ <code>Omit</code> å°±èƒ½ç†è§£äº†ã€‚</p>
<p><a href="https://www.typescriptlang.org/zh/play#code/C4TwDgpgBAqgzhATlAvFA3gKClAdgQwFsIAuKOYRAS1wHMBubKfW0vAV0ICMlGdXcAEyRkK1OowC+jTKEhQA8oSrB4SVIuXAAPGsQAaKAHIWEI1AA+xgcMRGAfDIDGAe1wUoLrXrJKVejSwcAmIyIwUAGyoANzN9TGkgA">Playground Link</a></p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><div id="footnotes"><div id="footnotelist"><div style="border-bottom: 1px solid #eee; font-size: 1.125em; margin-bottom: 10px; margin-top: 60px;">å‚è€ƒ</div><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;"><a href="/post/bdb49a56/">TypeScript å®ç”¨ç±»å‹ï¼š<code>Pick</code></a></span><a href="#fnref:1" rev="footnote"> â†©</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a href="/post/fca5d737/">TypeScript å®ç”¨ç±»å‹ï¼š<code>Exclude</code></a></span><a href="#fnref:2" rev="footnote"> â†©</a></li></ol></div></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - Partial: TypeScript å®ç”¨ç±»å‹ - Partial</title>
    <url>/post/TypeScript-Utility-Types-Partial-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Partial/</url>
    <content><![CDATA[<p><code>Partial&lt;Type&gt;</code> å¯å°†ä¸€ä¸ªç±»å‹ä¸­æ‰€æœ‰å±æ€§è½¬æ¢ä¸ºå¯é€‰å±æ€§ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>user</code> çš„ç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç» <code>Partial&lt;Type&gt;</code> è½¬æ¢åå¾—åˆ°ï¼š</p>
<span id="more"></span>

<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> PartialUser = Partial&lt;User&gt;;</span><br><span class="line"><span class="keyword">const</span> partialUser: PartialUser = &#123;</span><br><span class="line">  <span class="comment">/** `name` å±æ€§æ˜¯å¯é€‰çš„ */</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>,</span><br><span class="line">  <span class="comment">/** `age` å±æ€§æ˜¯å¯é€‰çš„ */</span></span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="comment">/** `gender` å±æ€§æ˜¯å¯é€‰çš„ */</span></span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è½¬æ¢åçš„ <code>PartialUser</code> ç±»å‹ä¸ä¸‹é¢çš„ç±»å‹æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> PartialUser = &#123;</span><br><span class="line">  name?: <span class="built_in">string</span> | <span class="literal">undefined</span>;</span><br><span class="line">  age?: <span class="built_in">number</span> | <span class="literal">undefined</span>;</span><br><span class="line">  gender?: <span class="built_in">string</span> | <span class="literal">undefined</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆ <code>Partial&lt;Type&gt;</code> æ˜¯å¦‚ä½•è½¬æ¢ç±»å‹çš„å‘¢ï¼Ÿä¸‹é¢æ˜¯å®ƒçš„æºç ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Make all properties in T optional</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> Partial&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]?: T[P];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>éå†ç±»å‹ <code>T</code>ï¼Œå°†ç±»å‹ <code>T</code> ä¸­çš„å±æ€§ä½œä¸º keyï¼›</li>
<li>åœ¨å±æ€§åé¢åŠ  <code>?</code> ä½¿å…¶å˜ä¸ºå¯é€‰çš„å±æ€§ï¼›</li>
<li>å¯é€‰å±æ€§çš„å€¼ä¸º <code>T</code> ç±»å‹ä¸­å¯¹åº”å±æ€§çš„å€¼ï¼Œå³ <code>T[P]</code>ã€‚</li>
</ul>
<p><a href="https://www.typescriptlang.org/zh/play#code/C4TwDgpgBAqgzhATlAvFA3gKCjqA7AQwFsIAuKOYRASzwHMBubXAus-AVyICMkncobPABMk5SjXpMAvpkyhIUAAoFEwagQA28JKmWr1WgDw7EAPiaYAxgHs8lKGAMbtCRORVqXpvVgEB6ACpAqAADQhJQqEA9HUByA0B6M0B75UBIBMAQtyhA-2YcCPYAcgB5TWoANwg8gBpsqCCQ0NYIKLiktIysgQbyAEYADiqA4LChUUQmhJT0zOrhsSg8gDMIIi1yqukgA">Playground Link</a></p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - Pick: TypeScript å®ç”¨ç±»å‹ - Pick</title>
    <url>/post/TypeScript-Utility-Types-Pick-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Pick/</url>
    <content><![CDATA[<p><code>Pick&lt;Type, Keys&gt;</code> å¯ä»ç±»å‹ä¸­é€‰å–ä¸€ç»„å±æ€§é”®æ¥æ„é€ ç±»å‹ã€‚ä»¥ä¸‹é¢çš„ <code>User</code> ç±»å‹ä¸ºä¾‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>ç» <code>Pick&lt;Type, Keys&gt;</code> è½¬æ¢åå¾—åˆ°ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PickUser = Pick&lt;User, <span class="string">&#x27;name&#x27;</span> | <span class="string">&#x27;age&#x27;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// `PickUser` ç±»å‹ç›¸å¯¹äº `User` ç±»å‹å°‘äº† `gender` å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> pickUser: PickUser = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Olive&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è½¬æ¢åçš„ <code>PickUser</code> ç±»å‹ä¸ä¸‹é¢çš„ç±»å‹æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> PickUser = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆï¼Œ<code>Pick&lt;Type, Keys&gt;</code> æ˜¯å¦‚ä½•è½¬æ¢ç±»å‹çš„å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡å®ƒçš„ç±»å‹å®šä¹‰æ¥åˆ†æä¸€ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * From T, pick a set of properties whose keys are in the union K</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> Pick&lt;T, K <span class="keyword">extends</span> keyof T&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> K]: T[P];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç»“åˆä¸Šé¢çš„ç¤ºä¾‹ï¼Œ<code>Pick</code> ç±»å‹å®šä¹‰ä¸­çš„æ³›å‹ <code>T</code> å°±æ˜¯æˆ‘ä»¬åˆšæ‰å®šä¹‰çš„ç±»å‹ <code>User</code>ï¼Œåé¢çš„ <code>K extends keyof T</code> åˆ™è¡¨ç¤ºæ³›å‹ <code>K</code> ç»§æ‰¿è‡ªè”åˆç±»å‹ <code>keyof T</code>ï¼Œç”±æ­¤å¯ä»¥å¾—å‡ºæ³›å‹ <code>K</code> æ˜¯ä¸€ä¸ªè”åˆç±»å‹ã€‚</p>
<p>é€šè¿‡å…³é”®å­— <code>in</code> æ¥éå†è”åˆç±»å‹ <code>K</code>ï¼Œå°†è”åˆç±»å‹ä¸­çš„æ¯ä¸ªæˆå‘˜ä½œä¸º keyï¼Œé€šè¿‡æ–¹æ‹¬å·è¯­æ³•è®¿é—®ç±»å‹ <code>T</code> ä¸­è¯¥æˆå‘˜å¯¹åº”çš„å€¼ï¼Œå³ <code>T[P]</code>ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯ <code>Pick&lt;Type, Keys&gt;</code> çš„ç”¨æ³•å’Œç±»å‹å®šä¹‰çš„è§£æï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€äº¤æµã€‚</p>
<p><a href="https://www.typescriptlang.org/zh/play#code/C4TwDgpgBAqgzhATlAvFA3gKClAdgQwFsIAuKOYRAS1wHMBubKfW0vAV0ICMlGdXcAEyRkK1OowC+jTKEhQAClQDGAa3hJUilaoA8GxABooAcgLETUAD6mWEEwD4ZAemdQABkrUH3UQN4+gNHqgB9ugJ-agHFyHj7+AYCIOoBhch4Cwoi+gHo6gOQGmMoA9rgUUGA6BmRe6gjIaFg45mwmAPIANlQAbvaGTHZkAIwAHO3SmEA">Playground Link</a></p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - Readonly: TypeScript å®ç”¨ç±»å‹ - Readonly</title>
    <url>/post/TypeScript-Utility-Types-Readonly-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Readonly/</url>
    <content><![CDATA[<p><code>Readonly&lt;Type&gt;</code> å¯å°†ä¸€ä¸ªç±»å‹ä¸­æ‰€æœ‰å±æ€§è½¬æ¢ä¸º<strong>åªè¯»</strong>å±æ€§ã€‚ä»¥ <code>User</code> ç±»å‹ä¸ºä¾‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>ç» <code>Readonly&lt;Type&gt;</code> è½¬æ¢åå¾—åˆ°ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> ReadonlyUser = Readonly&lt;User&gt;;</span><br><span class="line"><span class="keyword">const</span> readonlyUser: ReadonlyUser = &#123;</span><br><span class="line">  <span class="comment">/** `name` å±æ€§æ˜¯åªè¯»çš„ */</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Olive&#x27;</span>,</span><br><span class="line">  <span class="comment">/** `age` å±æ€§æ˜¯åªè¯»çš„ */</span></span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="comment">/** `gender` å±æ€§æ˜¯åªè¯»çš„ */</span></span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&#x27;female&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è½¬æ¢åçš„ <code>ReadonlyUser</code> ç±»å‹ä¸ä¸‹é¢çš„ç±»å‹æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> ReadonlyUser = &#123;</span><br><span class="line">  <span class="keyword">readonly</span> name: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> age: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">readonly</span> gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>Readonly&lt;Type&gt;</code> æ˜¯å¦‚ä½•è½¬æ¢ç±»å‹çš„å‘¢ï¼Ÿ</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** * Make all properties in T readonly */</span></span><br><span class="line"><span class="keyword">type</span> Readonly&lt;T&gt; = &#123;</span><br><span class="line">  <span class="keyword">readonly</span> [P <span class="keyword">in</span> keyof T]: T[P];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>éå†ç±»å‹ <code>T</code>ï¼Œå°†ç±»å‹ <code>T</code> ä¸­çš„å±æ€§ä½œä¸º keyï¼›</li>
<li>åœ¨å±æ€§ key å‰é¢åŠ  <code>readonly</code> ä¿®é¥°ç¬¦ï¼Œä½¿å…¶è½¬æ¢ä¸ºåªè¯»å±æ€§ï¼›</li>
<li>åªè¯»å±æ€§çš„å€¼ä¸º <code>T</code> ç±»å‹ä¸­å¯¹åº”å±æ€§çš„å€¼ï¼Œå³ <code>T[P]</code>ã€‚</li>
</ul>
<p><a href="https://www.typescriptlang.org/zh/play#code/C4TwDgpgBAqgzhATlAvFA3gKCjqA7AQwFsIAuKOYRASzwHMBubXAus-AVyICMkncobPABMk5SjXpMAvpkyhIUAEoQCwgPZ4ANiHhJUy1Ru0gAPHsQA+JpgDGmylERHNOi+RVrXuhMjRYBAHoAKmCoAANCEnCoQD0dQHIDQHozQCvlQG-owBC3KGDA5hwo9gByAHktagA3CAKAGlyoELDw1ggYhJSMrJyBJvIARgAOGqDQiKFRRBaktMzs2tGxKAKAMwgiAi1KmtlMQMCoQFPowFmTQB15QFg5QGqIwEFFQA7owBh-wAO1QC45COcvEwsYwFo5bd3MyOJmuLxQBPumdADbxgCNjB6hNKhBKAIAZvs8XG9fJ90oABI0AkOYJQC-CW10giXsY3L4AHT5AwFABSBFsAGsCgwgA">Playground Link</a></p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - Record: TypeScript å®ç”¨ç±»å‹ - Record</title>
    <url>/post/TypeScript-Utility-Types-Record-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Record/</url>
    <content><![CDATA[<p><code>Record&lt;Keys, Type&gt;</code> å¯æ„é€ ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œå…¶å±æ€§ key æ˜¯ keyï¼Œå±æ€§å€¼æ˜¯ç±»å‹ã€‚è¯¥ç±»å‹å¯ç”¨äºå°†ä¸€ä¸ªç±»å‹çš„å±æ€§æ˜ å°„åˆ°å¦ä¸€ä¸ªç±»å‹ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>User</code> ç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p>
<span id="more"></span>

<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç» <code>Record&lt;Keys, Type&gt;</code> è½¬æ¢åå¾—åˆ°ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> NewUser = Record&lt;<span class="string">&quot;name&quot;</span> | <span class="string">&quot;age&quot;</span> | <span class="string">&quot;gender&quot;</span>, <span class="built_in">string</span>&gt;;</span><br><span class="line"><span class="keyword">const</span> newUser: NewUser = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="string">&quot;18&quot;</span>, <span class="comment">// æ³¨æ„è¿™é‡Œ</span></span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è½¬æ¢åçš„ <code>NewUser</code> ç±»å‹ä¸ä¸‹é¢çš„ç±»å‹æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">string</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€å¼€å§‹å®šä¹‰çš„ <code>User</code> ç±»å‹ä¸­ <code>age</code> å±æ€§ä¸º <code>number</code> ç±»å‹ï¼Œä¸ºä»€ä¹ˆç»è¿‡ <code>Record&lt;Keys, Type&gt;</code> è½¬æ¢å <code>age</code> å±æ€§å˜ä¸º <code>string</code> ç±»å‹äº†å‘¢ï¼Ÿä¸‹é¢æ ¹æ® <code>Record&lt;Keys, Type&gt;</code> çš„ç±»å‹å®šä¹‰æ¥åˆ†æä¸€ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Construct a type with a set of properties K of type T</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> Record&lt;K <span class="keyword">extends</span> keyof <span class="built_in">any</span>, T&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> K]: T;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç±»å‹å®šä¹‰ä¸­æœ‰ä¸€ä¸ªæ“ä½œç¬¦ <code>keyof</code> å’Œä¸€ä¸ªå…³é”®å­— <code>in</code>ï¼Œè¦ç†è§£ <code>Record&lt;Keys, Type&gt;</code> å¦‚ä½•å·¥ä½œï¼Œè¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹æ˜¯å¿…é¡»è¦çŸ¥é“çš„ã€‚</p>
<ul>
<li><p><code>keyof</code> æ“ä½œç¬¦å¯ä»¥è·å–ä¸€ä¸ªç±»å‹çš„æ‰€æœ‰é”®ï¼Œè¿”å›ä¸€ä¸ªè¿™äº›é”®çš„è”åˆç±»å‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">type</span> UserPropType = keyof User;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ <code>UserPropType</code> çš„ç±»å‹ç­‰ä»·äºä¸‹é¢çš„ç±»å‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> UserPropType = <span class="string">&#x27;name&#x27;</span> | <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ç”±ä¸Šé¢çš„ç¤ºä¾‹å¯çŸ¥ï¼š<code>keyof</code> æ“ä½œç¬¦è·å–ä¸€ä¸ªç±»å‹ä¸­æ‰€æœ‰ keyï¼Œå¹¶è¿”å›è¿™äº› key çš„è”åˆç±»å‹ã€‚æ‰€ä»¥ä¸Šé¢ <code>Record</code> çš„ç”¨æ³•è¿˜å¯ä»¥æ”¹å†™æˆè¿™æ ·ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> NewUser = Record&lt;keyof User, <span class="built_in">string</span>&gt;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>in</code> æ˜¯ä¸€ä¸ª <code>ç±»å‹å…³é”®å­—</code>ï¼Œå¯ä»¥å¯¹è”åˆç±»å‹è¿›è¡Œéå†ï¼Œåªå¯ç”¨åœ¨ <code>type</code> å…³é”®å­—ä¸‹ã€‚</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span>Â PersonÂ =Â &#123;</span><br><span class="line">Â Â [keyÂ <span class="keyword">in</span>Â <span class="string">&#x27;name&#x27;</span>Â |Â <span class="string">&#x27;age&#x27;</span>]:Â <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Person =&gt;Â &#123;Â name:Â number;Â age:Â number;Â &#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>çŸ¥é“äº† <code>keyof</code> æ“ä½œç¬¦å’Œ <code>in</code> å…³é”®å­—çš„ä½œç”¨ï¼Œ<code>Record&lt;Keys, Type&gt;</code> çš„ç±»å‹å®šä¹‰ä¹Ÿå°±æ¸…æ¥šäº†ï¼š</p>
<ul>
<li>ç±»å‹ <code>K</code> ç»§æ‰¿è‡ªè”åˆç±»å‹ <code>keyof any</code>ï¼›</li>
<li>é€šè¿‡å…³é”®å­— <code>in</code> éå†è”åˆç±»å‹ <code>K</code>ï¼Œå¹¶å°†éå†çš„ç»“æœä½œä¸º keyï¼›</li>
<li>key çš„å€¼æ˜¯ç±»å‹ <code>T</code>ã€‚</li>
</ul>
<p>ç°åœ¨å›å¤´çœ‹ <code>Record&lt;Keys, Type&gt;</code> çš„å®šä¹‰æ˜¯ä¸æ˜¯å°±ç†è§£äº†å‘¢ï¼Ÿæ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€äº¤æµã€‚</p>
<p><a href="https://www.typescriptlang.org/zh/play#code/C4TwDgpgBAqgzhATlAvFA3gKCjqA7AQwFsIAuKOYRASzwHMBubXAus-AVyICMkncobPABMk5SjXpMAvpjmhIUAHIQA7vCSooAJQgBjAPaJhAHgDWEEAYBmsBIgA0FKrToA+JpkN5K+NRsRyFXV7LSwcQhJyACIAeQAbagA3CGiHZlZ2aIBGAA40qAB6QqhAC5tAeENATfjAGcTmIVFAqGjrCCICeNT06QYgA">Playground Link</a></p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - Required: TypeScript å®ç”¨ç±»å‹ - Required</title>
    <url>/post/TypeScript-Utility-Types-Required-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Required/</url>
    <content><![CDATA[<p><code>Required&lt;Type&gt;</code> ç±»å‹ä¸ <code>[Partial&lt;Type&gt;](#Partial-lt-Type-gt)</code> ç±»å‹çš„ä½œç”¨ç›¸åï¼Œ<code>Required&lt;Type&gt;</code> å¯å°†ä¸€ä¸ªç±»å‹ä¸­çš„å¯é€‰å±æ€§è½¬æ¢ä¸ºå¿…é€‰å±æ€§ã€‚ä»¥ <code>User</code> ç±»å‹ä¸ºä¾‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p><code>User</code> ç±»å‹ä¸­çš„ <code>age</code> å±æ€§æ˜¯å¯é€‰å±æ€§ï¼Œå½“ç»è¿‡ <code>Required&lt;Type&gt;</code> è½¬æ¢åï¼Œè¯¥å±æ€§ä¼šè¢«è½¬æ¢æˆå¿…é€‰å±æ€§ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> RequiredUser = Required&lt;User&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> requiredUser: RequiredUser = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Olive&quot;</span>,</span><br><span class="line">  <span class="comment">/** `age` å±æ€§ç”±å¯é€‰è½¬æˆäº†å¿…é€‰ */</span></span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ <code>Required&lt;Type&gt;</code> çš„æºç ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Make all properties in T required</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> Required&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]-?: T[P];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„åˆ°å±æ€§åçš„ <code>-?</code> äº†å—ï¼Ÿæ„æ€æ˜¯ï¼šå»é™¤è¯¥å±æ€§çš„å¯é€‰å±æ€§ï¼Œä½¿å…¶è½¬æ¢ä¸ºå¿…é€‰çš„å±æ€§ã€‚</p>
<p><a href="https://www.typescriptlang.org/zh/play?ssl=16&ssc=3&pln=7&pc=1#code/C4TwDgpgBAqgzhATlAvFA3gKCjqA7AQwFsIAuKOYRASzwHMBubXAus-AVyICMkncobPABMk5SjXpMAvpkyhIUAEoQAjh2qIIw+ElTK1GrcIA8uxAD4mmAMYB7PJShb1m7efIrXx8-qwCAegAqIKgAA0ISMKhAPR1AcgNAejNAUf1ASATAELcoIIDmHEj2AHIAeQAbagA3CHyAGhyoYNCw1gho+OT0zOyBJvIARgAOGsCQ8KFRRBbE1Iys2tGxKHyAMwgiAmLKzGkGIA">Playground Link</a></p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - Extract: TypeScript å®ç”¨ç±»å‹ - Extract</title>
    <url>/post/TypeScript-Utility-Types-Extract-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Extract/</url>
    <content><![CDATA[<p>æœ¬ç¯‡ä»‹ç» TypeScript å®ç”¨ç±»å‹ä¸­çš„ <code>Extract</code> ç±»å‹ã€‚çœ‹å­—é¢æ„æ€ï¼Œ<code>Extract</code> æ˜¯æŒ‡<strong>å–å‡º</strong>ã€<strong>æŒ‘å‡º</strong>çš„æ„æ€ï¼Œ<code>Extract</code> ä¼šæŒ‘é€‰å‡ºä¼ å…¥çš„ä¸¤ä¸ªè”åˆç±»å‹ä¸­ç›¸åŒçš„æˆå‘˜ï¼Œå°†è¿™äº›ç›¸åŒçš„æˆå‘˜æ„é€ æˆä¸€ä¸ªæ–°ç±»å‹ï¼Œæ„é€ çš„æ–°ç±»å‹æœ‰å¯èƒ½æ˜¯è”åˆç±»å‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶ä»–ä»»ä½•ç±»å‹ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> U1 = <span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> U2 = <span class="string">&quot;a&quot;</span> | <span class="string">&quot;f&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> T0 = Extract&lt;U1, U2&gt;;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>ä¸Šé¢ä»£ç ä¸­å®šä¹‰äº†ä¸¤ä¸ªè”åˆç±»å‹ <code>U1</code> å’Œ <code>U2</code>ï¼Œè¿™ä¸¤ä¸ªè”åˆç±»å‹ä¸­æœ‰ä¸€ä¸ªç›¸åŒçš„æˆå‘˜ <code>&quot;a&quot;</code>ï¼Œ<code>Extract</code> ä¼šå°†è¯¥æˆå‘˜ <code>&quot;a&quot;</code> å–å‡ºæ¥æ„é€ ä¸€ä¸ªæ–°ç±»å‹ã€‚æ„é€ çš„æ–°ç±»å‹ <code>T0</code> ç­‰ä»·äºä¸‹é¢çš„ç±»å‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ `Extract` æ„é€ äº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ç±»å‹ `NewT0`</span></span><br><span class="line"><span class="keyword">type</span> NewT0 = <span class="string">&quot;a&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨ä¸¤ä¸ªè”åˆç±»å‹ä¸­ï¼Œå­˜åœ¨å¤šä¸ªç›¸åŒçš„æˆå‘˜ï¼ˆä¸¤ä¸ªåŠä»¥ä¸Šï¼‰æ—¶ï¼Œ<code>Extract</code> ä¼šå°†è¿™äº›æˆå‘˜æ„é€ æˆä¸€ä¸ªæ–°çš„<strong>è”åˆç±»å‹</strong>ï¼Œä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> U3 = <span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> U4 = <span class="string">&quot;a&quot;</span> | <span class="string">&quot;f&quot;</span> | <span class="string">&quot;c&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> T1 = Extract&lt;U3, U4&gt;;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¸¤ä¸ªè”åˆç±»å‹ <code>U3</code> å’Œ <code>U4</code> ä¸­å­˜åœ¨å¤šä¸ªç›¸åŒçš„æˆå‘˜ï¼š<code>&quot;a&quot;</code> å’Œ <code>&quot;c&quot;</code>ï¼Œ<code>Extract</code> ä¼šå°†ä»–ä»¬æ„é€ æˆä¸€ä¸ªæ–°çš„è”åˆç±»å‹ï¼Œè”åˆç±»å‹ <code>T1</code> ä¸ä¸‹é¢çš„ç±»å‹æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> NewT1 = <span class="string">&quot;a&quot;</span> | <span class="string">&quot;c&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>å¯¹åˆå­¦è€…æ¥è¯´ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µå®¹æ˜“å—åˆ°è¯¯å¯¼ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> U5 = <span class="built_in">string</span> | <span class="built_in">number</span> | (<span class="function">() =&gt;</span> <span class="built_in">void</span>);</span><br><span class="line"><span class="keyword">type</span> U6 = <span class="built_in">Function</span>;</span><br><span class="line"><span class="keyword">type</span> T2 = Extract&lt;U5, U6&gt;; <span class="comment">// type T2 = () =&gt; void;</span></span><br></pre></td></tr></table></figure>

<p>ä»å­—é¢é‡çš„è§’åº¦æ¥çœ‹ï¼Œ<code>U5</code> å’Œ <code>U6</code> ä¸¤ä¸ªè”åˆç±»å‹ä¸­å¹¶æ²¡æœ‰ç›¸åŒçš„æˆå‘˜ï¼Œä½†æ˜¯ä»ç±»å‹è§’åº¦æ¥è¯´ <code>() =&gt; void</code> è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„ç±»å‹ä¸ <code>Function</code> æ˜¯ç­‰ä»·çš„ï¼Œå› æ­¤æ„é€ å‡ºçš„æ–°ç±»å‹ <code>T</code> æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>
<p>äº†è§£äº† <code>Extract</code> çš„ç”¨æ³•ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹å®ƒçš„ç±»å‹å®šä¹‰æºç ï¼Œ<code>Extract</code> åœ¨å®ç°ä¸Šéå¸¸ç®€å•ï¼Œæºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Extract from T those types that are assignable to U</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> Extract&lt;T, U&gt; = T <span class="keyword">extends</span> U ? T : <span class="built_in">never</span>;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>Extract</code> çš„æºç æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œ<code>Extract</code> ä» <code>T</code> ç±»å‹ä¸­å–å‡º <code>T</code> å’Œ <code>U</code> ç±»å‹ä¸­å…±æœ‰çš„æˆå‘˜æ¥æ„é€ ä¸€ä¸ªæ–°ç±»å‹ï¼Œå¦‚æœå…¶ä¸­æ²¡æœ‰å…±æœ‰æˆå‘˜ï¼Œå°†è¿”å› <code>never</code> ç±»å‹ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript Utility Types - NonNullable: TypeScript å®ç”¨ç±»å‹ - NonNullable</title>
    <url>/post/TypeScript-Utility-Types-NonNullable-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-NonNullable/</url>
    <content><![CDATA[<p>æœ¬ç¯‡ä»‹ç» TypeScript å®ç”¨ç±»å‹ä¸­çš„ <code>NonNullable&lt;Type&gt;</code> ç±»å‹ã€‚<code>NonNullable</code> ä¼šä»ä¼ å…¥çš„ç±»å‹ä¸­å°† <code>null</code> å’Œ <code>undefined</code> æ’é™¤ï¼Œä¹‹åæŠŠå‰©ä¸‹çš„æˆå‘˜æ„é€ æˆä¸€ä¸ªæ–°ç±»å‹ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> U1 = <span class="built_in">string</span> | <span class="built_in">number</span> | <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">type</span> T0 = NonNullable&lt;U1&gt;;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>ä¸Šé¢çš„ä»£ç ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>U1</code> çš„è”åˆç±»å‹ï¼Œ<code>NonNullable</code> ä¼šå°†è¯¥ç±»å‹ä¸­çš„ <code>undefined</code> æ’é™¤ï¼Œå†å°†å‰©ä½™çš„æˆå‘˜æ„é€ æˆæ–°çš„ç±»å‹ <code>T0</code>ï¼Œç±»å‹ <code>T0</code> ç­‰ä»·äºä¸‹é¢çš„ç±»å‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> NewT0 = <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br></pre></td></tr></table></figure>

<p>å†çœ‹ä¸€ä¸ªåŒ…å«æˆå‘˜ <code>null</code> çš„ä¾‹å­ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> U2 = <span class="built_in">string</span>[] | <span class="literal">null</span> | <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">type</span> T1 = NonNullable&lt;U2&gt;;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ç±»å‹ <code>U2</code> ä¸­åŒ…å«æˆå‘˜ <code>null</code>ï¼Œå› æ­¤ <code>NonNullable</code> ä¼šæŠŠ <code>null</code> å’Œ <code>undefined</code> éƒ½æ’é™¤æ‰ï¼Œæ„é€ çš„æ–°ç±»å‹ä¾¿æ˜¯ <code>string[]</code>ã€‚ç±»å‹ <code>T1</code> ç­‰ä»·äºä¸‹é¢çš„ç±»å‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> NewT1 = <span class="built_in">string</span>[];</span><br></pre></td></tr></table></figure>

<p><code>NonNullable</code> çš„ç±»å‹å®šä¹‰æºç ä¸­é€šè¿‡ <code>extends</code> å®ç°ï¼Œæºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Exclude null and undefined from T</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> NonNullable&lt;T&gt; = T <span class="keyword">extends</span> <span class="literal">null</span> | <span class="literal">undefined</span> ? <span class="built_in">never</span> : T;</span><br></pre></td></tr></table></figure>

<p><code>never</code> è¡¨ç¤ºä»æ¥ä¸ä¼šå‡ºç°çš„å€¼çš„ç±»å‹ï¼Œå› æ­¤è”åˆç±»å‹çš„å½“æˆå‘˜ä¸º <code>null</code> æˆ– <code>undefined</code> æ—¶ï¼Œ<code>NonNullable</code> ä¼šå°†ä»–ä»¬æ’é™¤ï¼Œåªç•™ä¸‹è”åˆç±»å‹ä¸­çš„å…¶ä»–æˆå‘˜ï¼Œé€šè¿‡ä¿ç•™ä¸‹æ¥çš„æˆå‘˜æ„é€ æ–°çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æºç ä¸­çš„ <code>T</code> ç±»å‹ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>TypeScript:Utility Types</tag>
        <tag>TypeScript:å®ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Docker æ­å»º MediaWiki</title>
    <url>/post/%E4%BD%BF%E7%94%A8-Docker-%E6%90%AD%E5%BB%BA-MediaWiki/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†ä½¿ç”¨ Docker é•œåƒæ­å»º MediaWiki çš„æ­¥éª¤å’Œæ–¹æ³•ã€‚å€ŸåŠ© Docker èƒ½éå¸¸æ–¹ä¾¿çš„æ­å»ºä¸ªäººç»´åŸºç«™ç‚¹ï¼Œåœ¨æ•°æ®çš„å¤‡ä»½ç­‰ç»´æŠ¤æ“ä½œä¸ŠåŒæ ·ä¹Ÿå¾ˆä¾¿åˆ©ã€‚ä½¿ç”¨ Docker é•œåƒæ­å»ºçš„ç»´åŸºç«™ç‚¹ï¼Œä¸ä¼šåœ¨å®¿ä¸»æœºä¸Šå®‰è£… LNMP æˆ– LAMP ç¯å¢ƒï¼Œèƒ½å§‹ç»ˆä¿æŒå®¿ä¸»æœºçš„å¹²å‡€æ¸…çˆ½ã€‚</p>
<span id="more"></span>

<h3 id="å‡†å¤‡é•œåƒ"><a href="#å‡†å¤‡é•œåƒ" class="headerlink" title="å‡†å¤‡é•œåƒ"></a>å‡†å¤‡é•œåƒ</h3><ol>
<li>mediawiki é•œåƒï¼š<code>docker pull mediawiki</code>ï¼›</li>
<li>mariadb é•œåƒï¼š<code>docker pull mariadb</code>ï¼›</li>
<li>nginx é•œåƒï¼š<code>docker pull nginx</code>ã€‚</li>
</ol>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6487844781006261"
     data-ad-slot="3432081921"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


<h3 id="å¯åŠ¨-mariadb-æ•°æ®åº“å®¹å™¨"><a href="#å¯åŠ¨-mariadb-æ•°æ®åº“å®¹å™¨" class="headerlink" title="å¯åŠ¨ mariadb æ•°æ®åº“å®¹å™¨"></a>å¯åŠ¨ mariadb æ•°æ®åº“å®¹å™¨</h3><p>ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d --name mariadb -p 3306:3306 -e MARIADB_ROOT_PASSWORD=my-secret-pw mariadb</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>d</code>ï¼šé»˜è®¤ä¸ä¼šè¿›å…¥å®¹å™¨ã€‚</li>
<li><code>p</code>ï¼šå°†å®¹å™¨å†…éƒ¨ä½¿ç”¨çš„ç½‘ç»œç«¯å£ 3306 æ˜ å°„åˆ°ç‰©ç†æœº 3306 ç«¯å£ä¸Šï¼ˆæ³¨æ„ä¸å‚æ•° <code>P</code> çš„åŒºåˆ«ï¼šå°†å®¹å™¨å†…éƒ¨ä½¿ç”¨çš„ç½‘ç»œç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºä¸Šï¼‰ã€‚</li>
<li><code>e MARIADB_ROOT_PASSWORD</code>ï¼šé…ç½® <code>mariadb</code> æ•°æ®åº“ <code>root</code> å¯†ç ã€‚</li>
</ul>
<h3 id="å¯åŠ¨-mediawiki-å®¹å™¨"><a href="#å¯åŠ¨-mediawiki-å®¹å™¨" class="headerlink" title="å¯åŠ¨ mediawiki å®¹å™¨"></a>å¯åŠ¨ mediawiki å®¹å™¨</h3><p>ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d --name mediawiki -p 81:80 -p 444:443 --link mariadb:mariadb mediawiki</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼šå‚æ•° <code>--link mariadb:mariadb</code> è¡¨ç¤ºå°†å®¹å™¨ <code>mariadb</code> é“¾æ¥åˆ° <code>mediawiki</code> å®¹å™¨ä¸Šï¼Œå†’å·ï¼ˆ<code>:</code>ï¼‰å‰çš„ <code>mariadb</code> æ˜¯ä¸Šä¸€æ­¥è¿è¡Œçš„ <code>mariadb</code> å®¹å™¨çš„åç§°ï¼Œå†’å·åé¢çš„ <code>mariadb</code> æ˜¯è¯¥å®¹å™¨ï¼ˆ<code>mediawiki</code> å®¹å™¨ï¼‰ä¸‹çš„åˆ«åã€‚</p>
<h3 id="å¯åŠ¨-nginx-å®¹å™¨"><a href="#å¯åŠ¨-nginx-å®¹å™¨" class="headerlink" title="å¯åŠ¨ nginx å®¹å™¨"></a>å¯åŠ¨ nginx å®¹å™¨</h3><p>ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d --name nginx -p 80:80 -p 443:443 nginx</span><br></pre></td></tr></table></figure>


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6487844781006261"
     data-ad-slot="3432081921"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


<h3 id="ä¿®æ”¹-nginx-é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹-nginx-é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ nginx é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹ nginx é…ç½®æ–‡ä»¶</h3><p>é¦–å…ˆï¼Œè¿›å…¥ nginx å®¹å™¨ï¼Œcd åˆ° nginx çš„é…ç½®ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it nginx bash <span class="comment"># è¿›å…¥ nginx å®¹å™¨</span></span><br><span class="line"><span class="built_in">cd</span> /etc/nginx <span class="comment"># cd åˆ° nginx çš„é…ç½®ç›®å½•</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹æ˜¯è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[lighthouse@centos]~% docker exec -it nginx bash</span><br><span class="line">root@df21774abed5:/# cd /etc/nginx</span><br><span class="line">root@df21774abed5:/etc/nginx# ls -al</span><br><span class="line">drwxr-xr-x 1 root root 4096 Oct 16 15:18 .</span><br><span class="line">drwxr-xr-x 1 root root 4096 Oct 16 15:18 ..</span><br><span class="line">drwxr-xr-x 1 root root 4096 Oct 16 15:19 conf.d</span><br><span class="line">-rw-r--r-- 1 root root 1007 Sep  7 15:21 fastcgi_params</span><br><span class="line">-rw-r--r-- 1 root root 5290 Sep  7 15:21 mime.types</span><br><span class="line">lrwxrwxrwx 1 root root   22 Sep  7 15:38 modules -&gt; /usr/lib/nginx/modules</span><br><span class="line">-rw-r--r-- 1 root root  648 Sep  7 15:38 nginx.conf</span><br><span class="line">-rw-r--r-- 1 root root  636 Sep  7 15:21 scgi_params</span><br><span class="line">-rw-r--r-- 1 root root  664 Sep  7 15:21 uwsgi_params</span><br></pre></td></tr></table></figure>

<p>nginx çš„é»˜è®¤é…ç½®æ–‡ä»¶æ˜¯ conf.d æ–‡ä»¶å¤¹ä¸‹çš„ default.conf æ–‡ä»¶ï¼Œé€€å‡ºå®¹å™¨å¹¶å°† default.conf æ–‡ä»¶ä»å®¹å™¨ä¸­å¤åˆ¶åˆ°å®¿ä¸»æœºä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@df21774abed5:/etc/nginx# cp default.conf default.conf.bak # å¤‡ä»½è¯¥é…ç½®æ–‡ä»¶</span><br><span class="line">root@df21774abed5:/etc/nginx# exit; # é€€å‡º nginx å®¹å™¨</span><br><span class="line">exit</span><br><span class="line">[lighthouse@centos]~% docker cp nginx:/etc/nginx/conf.d/default.conf . # å°†å®¹å™¨ä¸­çš„ default.conf æ–‡ä»¶å¤åˆ¶åˆ°å®¿ä¸»æœº</span><br><span class="line">[lighthouse@centos]~% ls -al</span><br><span class="line">drwx------  9 lighthouse lighthouse 4096 Oct 17 00:15 .</span><br><span class="line">drwxr-xr-x. 3 root       root       4096 Nov 23  2020 ..</span><br><span class="line">-rw-r--r--  1 lighthouse lighthouse 1181 Oct 16 23:20 default.conf</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ <code>default.conf</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    listen  [::]:80;</span><br><span class="line">    server_name  _; # æ¢æˆä½ è‡ªå·±çš„åŸŸå</span><br><span class="line">    # return 301 https://$host$request_uri; # è¯¥è¡Œå…ˆæ³¨é‡Šæ‰ï¼Œå› ä¸ºè¿˜æ²¡æœ‰è¯ä¹¦å‘¢ï¼Œç¨åç”³è¯·ä¸‹è¯ä¹¦åå†å–æ¶ˆæ³¨é‡Š</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_set_header Host $host:$server_port;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_pass &lt;http://172.17.0.1:81/;&gt; # ä¿®æ”¹ç«¯å£å·ã€‚è¿™ä¸ª 81 çš„ç«¯å£å·æ˜¯ä¸Šé¢è¿è¡Œ mediawiki å®¹å™¨æ—¶åˆ¶å®šçš„ 81 ç«¯å£</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen       443 ssl http2;</span><br><span class="line">    listen  [::]:443 ssl http2;</span><br><span class="line">    server_name  _; # æ¢æˆä½ è‡ªå·±çš„åŸŸå</span><br><span class="line"></span><br><span class="line">    # ssl on; #å¦‚æœå¼ºåˆ¶HTTPsè®¿é—®ï¼Œè¿™è¡Œè¦æ‰“å¼€</span><br><span class="line">    # ssl_certificate /etc/nginx/certs/ruofei.wiki.crt;</span><br><span class="line">    # ssl_certificate_key /etc/nginx/certs/ruofei.wiki.key;</span><br><span class="line">    ssl_certificate    /www/server/panel/vhost/cert/wiki.hi-ruofei.com/fullchain.pem;</span><br><span class="line">    ssl_certificate_key    /www/server/panel/vhost/cert/wiki.hi-ruofei.com/privkey.pem;</span><br><span class="line">    # ssl_session_timeout 5m;</span><br><span class="line">    # ssl_protocols SSLv2 SSLv3 TLSv1.2; # æŒ‡å®šå¯†ç ä¸ºopensslæ”¯æŒçš„æ ¼å¼</span><br><span class="line">    # ssl_ciphers HIGH:!aNULL:!MD5; # å¯†ç åŠ å¯†æ–¹å¼</span><br><span class="line">    # ssl_prefer_server_ciphers on; # ä¾èµ–SSLv3å’ŒTLSv1åè®®çš„æœåŠ¡å™¨å¯†ç å°†ä¼˜å…ˆäºå®¢æˆ·ç«¯å¯†ç </span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_set_header Host $host:$server_port;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_pass &lt;http://172.17.0.1:81/;&gt; # ä¿®æ”¹ç«¯å£å·ã€‚è¿™ä¸ª 81 çš„ç«¯å£å·æ˜¯ä¸Šé¢è¿è¡Œ mediawiki å®¹å™¨æ—¶åˆ¶å®šçš„ 81 ç«¯å£</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹åå†å°†å…¶å¤åˆ¶åˆ° <code>nginx</code> å®¹å™¨ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker cp ./default.conf nginx:/etc/nginx/conf.d</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œåˆ«å¿˜äº†é‡å¯å®¹å™¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker restart nginx</span><br></pre></td></tr></table></figure>

<p>ç­‰å¾… <code>nginx</code> å®¹å™¨é‡å¯ï¼Œä¹‹ååœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>http://your_domain</code> å³å¯çœ‹åˆ° MediaWiki çš„å®‰è£…ç•Œé¢ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>MediaWiki</category>
      </categories>
  </entry>
  <entry>
    <title>æ¨èä¸€æ¬¾è‡ªç”¨çš„æ¢¯å­</title>
    <url>/post/%E6%8E%A8%E8%8D%90%E4%B8%80%E6%AC%BE%E8%87%AA%E7%94%A8%E7%9A%84%E6%A2%AF%E5%AD%90/</url>
    <content><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨ Google æœç´¢èµ„æ–™ï¼Œæ¯•ç«Ÿç™¾åº¦çš„æœç´¢ç»“æœä¸­æœ‰å¤ªå¤šä¸ç›¸å…³çš„ç»“æœã€‚ä½†æ˜¯ Google æœç´¢åœ¨å¤§é™†åœ°åŒºè¢«å¢™äº†ï¼Œæ‰¾äº†å¥½å¤šæ¢¯å­ç”¨éƒ½ä¸å¤ªç†æƒ³ï¼Œæœ€åå‘ç°äº†è¿™ä¸ª <a href="https://portal.shadowsocks.nz/aff.php?aff=51884">Shadowsocks</a>ï¼Œæ•ˆæœå¾ˆä¸é”™ï¼Œæ¨èç»™å¤§å®¶ã€‚</p>
<p><img src="/images/2021/11/shadowsocks.png" alt="Shadowsocks"></p>
<p>ä»·æ ¼ä¹Ÿéå¸¸ä¸é”™ï¼Œä¸€å¹´æ‰ä¸€ç™¾æ¥å—é’±ï¼Œæ¯ä¸ªæœˆæœ‰ 100G çš„æµé‡æ ¹æœ¬ç”¨ä¸å®Œï¼Œæœ‰å…´è¶£çš„å¤§å®¶è‡ªè¡Œå»çœ‹çœ‹ -&gt; <a href="https://portal.shadowsocks.nz/aff.php?aff=51884">Shadowsocks</a>ã€‚</p>
<span id="more"></span>

<p>è¿™æ˜¯æˆ‘åŠä¸ªæœˆçš„ç”¨é‡ï¼Œæ¯å¤©éƒ½ç”¨çš„æƒ…å†µä¸‹ï¼š</p>
<p><img src="/images/2021/11/shadowsocks-used.png" alt="Shadowsocks Used"></p>
<p>è¿˜æœ‰ä»–çš„äº§å“åˆ†ç±»ï¼Œä¸€ä¸ªæ˜¯åŸºç¡€ç‰ˆï¼Œè¿˜æœ‰ä¸€ä¸ªé«˜çº§ç‰ˆï¼š</p>
<p><img src="/images/2021/11/shadowsocks-cart.png" alt="Shadowsocks Cart"></p>
<p>æ˜¯ä¸æ˜¯æŒºåˆ’ç®—çš„ ;D</p>
<p>å®˜æ–¹ç½‘ç«™ï¼š<a href="https://portal.shadowsocks.nz/aff.php?aff=51884">Shadowsocks</a>ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å®ç”¨å·¥å…·</category>
      </categories>
      <tags>
        <tag>shadowsocks</tag>
      </tags>
  </entry>
  <entry>
    <title>MediaWiki è®¾ç½®çŸ­é“¾æ¥ï¼ˆshort urlï¼‰</title>
    <url>/post/MediaWiki-%E8%AE%BE%E7%BD%AE%E7%9F%AD%E9%93%BE%E6%8E%A5%EF%BC%88short-url%EF%BC%89/</url>
    <content><![CDATA[<p>æœ¬æ–¹æ³•é€‚ç”¨äº Apache æœåŠ¡å™¨ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¯¥æ–¹æ³•ä¸éœ€è¦ä¿®æ”¹ Apache æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨ MediaWiki å®‰è£…ç›®å½•ä¸‹é…ç½® .htaccess æ–‡ä»¶å³å¯ã€‚</p>
<span id="more"></span>

<h2 id="htaccess-é…ç½®æ–‡ä»¶"><a href="#htaccess-é…ç½®æ–‡ä»¶" class="headerlink" title=".htaccess é…ç½®æ–‡ä»¶"></a>.htaccess é…ç½®æ–‡ä»¶</h2><p>åœ¨ MediaWiki æ ¹ç›®å½•ä¸‹åˆ›å»º .htaccess é…ç½®æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä¸€ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Enable the rewrite engine</span><br><span class="line">RewriteEngine On</span><br><span class="line"></span><br><span class="line"># Short URL for wiki pages</span><br><span class="line">RewriteRule ^/?w(/.*)?$ %&#123;DOCUMENT_ROOT&#125;/index.php [L]</span><br><span class="line"></span><br><span class="line"># Redirect / to Main Page</span><br><span class="line">RewriteRule ^/*$ %&#123;DOCUMENT_ROOT&#125;/index.php [L]</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒè¡Œä»£ç è¡¨ç¤ºå¼€å¯ Apache çš„é‡å†™å¼•æ“ã€‚</p>
<p>ç¬¬å››è¡Œä»£ç ä¸­çš„ <code>%&#123;DOCUMENT_ROOT&#125;/index.php</code> è¡¨ç¤º MediaWiki æ ¹ç›®å½•ä¸‹çš„ index.php æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è®¿é—® MediaWiki ç½‘ç«™æ—¶çš„å…¥å£æ–‡ä»¶ï¼Œè¿™è¡Œä»£ç çš„æ„æ€æ˜¯å½“è®¿é—® MediaWiki ç½‘ç«™å…¥å£æ—¶ï¼Œå°†å…¶åœ°å€é‡å†™ä¸º &#x2F;w&#x2F;ã€‚æ¯”å¦‚ï¼Œå½“è®¿é—®è¿™ä¸ªé“¾æ¥ <a href="https://domain.com/index.php?title=%E9%A6%96%E9%A1%B5">https://domain.com/index.php?title=é¦–é¡µ</a> æ—¶ï¼Œè¿™æ¡è§„åˆ™ä¼šå°†åœ°å€é‡å†™ä¸º <a href="https://domain.com/%E9%A6%96%E9%A1%B5%E3%80%82%E8%BF%99%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%98%AF%E6%88%91%E4%BB%AC%E5%AE%9E%E7%8E%B0">https://domain.com/é¦–é¡µã€‚è¿™è¡Œä»£ç æ˜¯æˆ‘ä»¬å®ç°</a> MediaWiki çŸ­é“¾æ¥çš„å…³é”®ã€‚</p>
<p>æœ€åä¸€è¡Œä»£ç ï¼Œä¹Ÿå°±æ˜¯ç¬¬å…­è¡Œä»£ç è¡¨ç¤ºå½“è®¿é—®é¦–é¡µä½†åœ°å€æ æ²¡æœ‰ä»»ä½•å‚æ•°æ—¶ä¼šå°†é¡µé¢é‡å®šå‘åˆ° MediaWiki é¦–é¡µã€‚æ¯”å¦‚è®¿é—® <a href="https://domain.com/">https://domain.com/</a> æ—¶ä¼šé‡å®šå‘åˆ° <a href="https://domain.com/index.php%E3%80%82%E8%A2%AB%E9%87%8D%E5%AE%9A%E5%90%91%E7%9A%84%E5%9C%B0%E5%9D%80%E5%8F%88%E4%BC%9A%E8%A2%AB%E5%BA%94%E7%94%A8%E5%88%B0%E7%AC%AC%E5%9B%9B%E8%A1%8C%E4%BB%A3%E7%A0%81%E7%9A%84%E8%A7%84%E5%88%99%EF%BC%8C%E5%B0%86%E9%95%BF%E9%93%BE%E6%8E%A5%E9%87%8D%E5%86%99%E4%B8%BA%E7%9F%AD%E9%93%BE%E6%8E%A5%EF%BC%8C%E4%B9%9F%E5%B0%B1%E4%BC%9A%E8%A2%AB%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0">https://domain.com/index.phpã€‚è¢«é‡å®šå‘çš„åœ°å€åˆä¼šè¢«åº”ç”¨åˆ°ç¬¬å››è¡Œä»£ç çš„è§„åˆ™ï¼Œå°†é•¿é“¾æ¥é‡å†™ä¸ºçŸ­é“¾æ¥ï¼Œä¹Ÿå°±ä¼šè¢«é‡å®šå‘åˆ°</a> <a href="https://domain.com/%E9%A6%96%E9%A1%B5%E3%80%82">https://domain.com/é¦–é¡µã€‚</a></p>
<p>é™¤äº†ä¿®æ”¹ .htaccess é…ç½®æ–‡ä»¶ï¼Œè¿˜éœ€è¦ä¿®æ”¹ MediaWIki çš„é…ç½®æ–‡ä»¶ LocalSettings.phpã€‚</p>
<h2 id="LocalSettings-php-é…ç½®æ–‡ä»¶"><a href="#LocalSettings-php-é…ç½®æ–‡ä»¶" class="headerlink" title="LocalSettings.php é…ç½®æ–‡ä»¶"></a>LocalSettings.php é…ç½®æ–‡ä»¶</h2><p>LocalSettings.php æ–‡ä»¶ä½äº MediaWiki å®‰è£…ç›®å½•çš„æ ¹ç›®å½•ä¸‹ï¼Œåœ¨è¯¥æ–‡ä»¶æœ€åçš„ä½ç½®æ·»åŠ æ–°å¢ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$wgScriptPath</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="variable">$wgArticlePath</span> = <span class="string">&quot;/w/<span class="subst">$1</span>&quot;</span>;</span><br><span class="line"><span class="variable">$wgUsePathInfo</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="variable">$wgScriptExtension</span> = <span class="string">&quot;.php&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>å…³äºè¿™å››è¡Œä»£ç ä»£è¡¨çš„æ„æ€å¯åœ¨ <a href="https://www.mediawiki.org/wiki/Manual:Contents">MediaWiki ç½‘ç«™æ‰‹å†Œ</a>ä¸­æŸ¥çœ‹ã€‚</p>
<p>è‡³æ­¤ï¼Œå³å¯å®ç°é€šè¿‡çŸ­é“¾æ¥è®¿é—® MediaWikiã€‚</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://wiki.hi-ruofei.com/">è‹¥éçš„ç»´åŸº</a></li>
<li><a href="https://www.mediawiki.org/wiki/Manual:Short_URL/zh">MediaWiki çŸ­é“¾æ¥</a><div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></li>
</ul>
]]></content>
      <categories>
        <category>MediaWiki</category>
      </categories>
  </entry>
  <entry>
    <title>JavaScript æ ¹æ® url è½¬æ¢å›¾åƒï¼ˆbase64ï¼‰</title>
    <url>/post/JavaScript%20%E6%A0%B9%E6%8D%AE%20url%20%E8%BD%AC%E6%8D%A2%E5%9B%BE%E5%83%8F%EF%BC%88base64%EF%BC%89/</url>
    <content><![CDATA[<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å›¾ç‰‡çš„åœ°å€å°†å›¾ç‰‡è½¬åŒ–ä¸º base64 å½¢å¼çš„å­—ç¬¦ä¸²ï¼Œç„¶åå°†è½¬æ¢åçš„ base64 æäº¤åˆ°åå°ã€‚ä¸‹é¢ä»£ç æ¼”ç¤ºäº†å¦‚ä½•æ ¹æ®å›¾ç‰‡çš„ url æ¥å°†å…¶è½¬æ¢æˆ base64ã€‚</p>
<span id="more"></span>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">url2base64</span>(<span class="params">url, callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">  img.src = <span class="string">`<span class="subst">$&#123;url&#125;</span>?v=<span class="subst">$&#123;<span class="built_in">Math</span>.random()&#125;</span>`</span>;</span><br><span class="line">  img.setAttribute(<span class="string">&#x27;crossOrigin&#x27;</span>, <span class="string">&#x27;Anonymous&#x27;</span>);</span><br><span class="line">  img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">&#x27;canvas&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> width = img.width;</span><br><span class="line">    <span class="keyword">const</span> height = img.height;</span><br><span class="line">    canvas.width = width;</span><br><span class="line">    canvas.height = height;</span><br><span class="line">    canvas.getContext(<span class="string">&#x27;2d&#x27;</span>).drawImage(img, <span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    <span class="keyword">const</span> dataURL = canvas.toDataURL(<span class="string">&#x27;image/jpeg&#x27;</span>);</span><br><span class="line">    <span class="keyword">typeof</span> callback === <span class="string">&#x27;function&#x27;</span> &amp;&amp; callback(dataURL);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> url = <span class="string">&#x27;https://www.baidu.com/img/bd_logo1.png&#x27;</span>;</span><br><span class="line">url2base64(url, <span class="function"><span class="params">base64</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(base64);</span><br><span class="line">  <span class="comment">// expected output: å›¾åƒçš„ base64 ç¼–ç </span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript Canvas</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript ä¸­çš„ this</title>
    <url>/post/JavaScript-%E4%B8%AD%E7%9A%84-this/</url>
    <content><![CDATA[<p><code>this</code> ä¸èƒ½åœ¨æ‰§è¡ŒæœŸé—´è¢«èµ‹å€¼ï¼Œå¹¶ä¸”åœ¨æ¯æ¬¡å‡½æ•°è¢«è°ƒç”¨æ—¶ <code>this</code> çš„å€¼ä¹Ÿæœ‰å¯èƒ½ä¸åŒã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„è°ƒç”¨æ–¹å¼å†³å®šäº† <code>this</code> çš„å€¼ã€‚</p>
<p>åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ<code>this</code> å€¼æ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼›åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ<code>this</code> å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚</p>
<p>ES5 å¼•å…¥äº† bind æ–¹æ³•æ¥è®¾ç½® <code>this</code> å€¼ï¼Œè€Œä¸ç”¨è€ƒè™‘å‡½æ•°æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„ã€‚</p>
<p>ES2015 å¼•å…¥äº† ç®­å¤´å‡½æ•°ï¼Œè€Œç®­å¤´å‡½æ•°åˆ™ä¸æä¾›è‡ªèº«çš„ this ç»‘å®šã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Expressions - this</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Randal&#x27;</span>,</span><br><span class="line">  <span class="attr">getName</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.getName());</span><br><span class="line"><span class="comment">// expected output: Randal</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="å…¨å±€ä¸Šä¸‹æ–‡ä¸­çš„-this"><a href="#å…¨å±€ä¸Šä¸‹æ–‡ä¸­çš„-this" class="headerlink" title="å…¨å±€ä¸Šä¸‹æ–‡ä¸­çš„ this"></a>å…¨å±€ä¸Šä¸‹æ–‡ä¸­çš„ <code>this</code></h2><p>æ— è®ºæ˜¯å¦åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå…¨å±€ç¯å¢ƒä¸­çš„ <code>this</code> éƒ½æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æµè§ˆå™¨ä¸­çš„ this å€¼æ˜¯ window å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span> === <span class="built_in">window</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">name = <span class="string">&#x27;Randal&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.name); <span class="comment">// Randal</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span>.age = <span class="number">18</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.age); <span class="comment">// 18</span></span><br><span class="line"><span class="built_in">console</span>.log(age); <span class="comment">// 18</span></span><br></pre></td></tr></table></figure>

<p>è¿˜å¯ä»¥ä½¿ç”¨ globalThis è·å–å…¨å±€å¯¹è±¡ã€‚æ— è®ºæˆ‘ä»¬çš„ä»£ç æ˜¯å¦åœ¨å½“å‰ä¸Šä¸‹æ–‡æ‰§è¡Œï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç”¨ globalThis è·å–å…¨å±€å¯¹è±¡ã€‚</p>
<h2 id="å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„-this"><a href="#å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„-this" class="headerlink" title="å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„ this"></a>å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„ <code>this</code></h2><p>å‡½æ•°å†…éƒ¨çš„ <code>this</code> å€¼å–å†³äºå‡½æ•°è¢«è°ƒç”¨çš„æ–¹å¼ã€‚</p>
<h3 id="éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°è°ƒç”¨çš„-this-å€¼"><a href="#éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°è°ƒç”¨çš„-this-å€¼" class="headerlink" title="éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°è°ƒç”¨çš„ this å€¼"></a>éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°è°ƒç”¨çš„ <code>this</code> å€¼</h3><p>éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè‹¥å‡½æ•°è°ƒç”¨æœªè®¾ç½® <code>this</code> å€¼ï¼Œåˆ™ <code>this</code> å€¼é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚æµè§ˆå™¨ä¸­çš„å…¨å±€å¯¹è±¡æ˜¯ window å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨æµè§ˆå™¨ä¸­</span></span><br><span class="line">func() === <span class="built_in">window</span>; <span class="comment">// åœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å‰§å¯¹è±¡æ˜¯ window </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ Node ä¸­</span></span><br><span class="line">func() === globalThis;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°è°ƒç”¨çš„-this-å€¼"><a href="#ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°è°ƒç”¨çš„-this-å€¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°è°ƒç”¨çš„ this å€¼"></a>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°è°ƒç”¨çš„ <code>this</code> å€¼</h3><p>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè‹¥è¿›å…¥å‡½æ•°å†…éƒ¨çš„æ‰§è¡Œç¯å¢ƒæ—¶æ²¡æœ‰è®¾ç½® <code>this</code> å€¼ï¼Œåˆ™ <code>this</code> å€¼ä¸º <code>undefined</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  &#x27;use strict&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func() === <span class="literal">undefined</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦æŠŠ <code>this</code> å€¼ä»ä¸€ä¸ªç¯å¢ƒä¼ åˆ°å¦ä¸€ä¸ªç¯å¢ƒï¼Œå°±è¦ç”¨ <a href="app://obsidian.md/JavaScript/æ ‡å‡†å†…ç½®å¯¹è±¡/Function/call()">call</a> æˆ– <a href="app://obsidian.md/apply()">apply</a> æ–¹æ³•ã€‚</p>
<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="string">&#x27;Custom&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¹¶å°†è¯¥å˜é‡ä½œä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Global&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">whatsThis</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.a; <span class="comment">// this çš„å€¼å–å†³äºå‡½æ•°è¢«è°ƒç”¨çš„æ–¹å¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">whtasThis();  <span class="comment">// 1</span></span><br><span class="line"><span class="comment">// expected output: &quot;Global&quot;</span></span><br><span class="line"></span><br><span class="line">whtasThis.call(obj); <span class="comment">// 2</span></span><br><span class="line"><span class="comment">// expected output: &quot;Custom&quot;</span></span><br><span class="line"></span><br><span class="line">whtasThis.apply(obj); <span class="comment">// 3</span></span><br><span class="line"><span class="comment">// expected output: &quot;Custom&quot;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè‹¥å‡½æ•°è°ƒç”¨æœªè®¾ç½® <code>this</code> å€¼ï¼Œåˆ™ <code>this</code> å€¼é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å±€å¯¹è±¡ä¸º <code>Window</code>ï¼›åœ¨ Node ä¸­ï¼Œå…¨å±€å¯¹è±¡ä¸º <code>globalThis</code>ã€‚åœ¨ <code>whatsThis</code> å‡½æ•°ä½“å¤–å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å˜é‡ <code>a</code>ï¼Œæ‰€ä»¥å‡½æ•° <code>whatsThis</code> å†…éƒ¨ <code>this.a</code> çš„å€¼å°±æ˜¯å…¨å±€å˜é‡ <code>a</code> çš„å€¼ã€‚å› æ­¤ï¼Œç›´æ¥è°ƒç”¨ <code>whatsThis()</code> å¾—åˆ°çš„è¿”å›å€¼æ˜¯ <code>Global</code>ã€‚</li>
<li>é€šè¿‡è°ƒç”¨ <code>whatsThis</code> å‡½æ•°å®ä¾‹ä¸Šçš„ <a href="app://obsidian.md/call()">call()</a> æ–¹æ³•ï¼Œä½¿ <code>whatsThis</code> çš„ <code>this</code> æŒ‡å‘ objã€‚æ­¤æ—¶ï¼Œå‡½æ•° <code>whatsThis</code> å†…éƒ¨çš„ <code>this.a</code> æŒ‡å‘çš„å°±æ˜¯å¯¹è±¡ <code>obj</code> çš„å±æ€§ <code>a</code>ï¼Œå› æ­¤å‡½æ•°çš„è¿”å›å€¼æ˜¯ <code>Custom</code>ã€‚</li>
<li>è°ƒç”¨ <code>whatsThis</code> å‡½æ•°å®ä¾‹ä¸Šçš„ <a href="app://obsidian.md/apply()">apply()</a> æ–¹æ³•ï¼Œå°†å¯¹è±¡ <code>obj</code> æŒ‡å®šä¸ºå‡½æ•°çš„ <code>this</code> å€¼ã€‚è¿™æ ·ï¼Œåœ¨å‡½æ•°å†…éƒ¨è®¿é—® <code>this</code> ä¸Šçš„æˆå‘˜ <code>a</code> æ—¶ï¼Œå®é™…è®¿é—®çš„å°±æ˜¯å¯¹è±¡ <code>obj</code> ä¸­çš„ <code>a</code> å±æ€§ã€‚å› æ­¤ï¼Œå‡½æ•°è¿”å›å€¼ä¸º <code>Custom</code>ã€‚</li>
</ol>
<h2 id="ç±»ä¸Šä¸‹æ–‡ä¸­çš„-this"><a href="#ç±»ä¸Šä¸‹æ–‡ä¸­çš„-this" class="headerlink" title="ç±»ä¸Šä¸‹æ–‡ä¸­çš„ this"></a>ç±»ä¸Šä¸‹æ–‡ä¸­çš„ <code>this</code></h2><p><code>this</code> åœ¨[ç±»](app:&#x2F;&#x2F;obsidian.md&#x2F;JavaScript ä¸­çš„ç±»)ä¸­çš„è¡¨ç°ä¸åœ¨å‡½æ•°ä¸­ç±»ä¼¼ï¼Œå› ä¸ºç±»çš„æœ¬è´¨ä¹Ÿæ˜¯å‡½æ•°ã€‚</p>
<p>åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œ<code>this</code> æ˜¯ä¸€ä¸ªå¸¸è§„å¯¹è±¡ã€‚ç±»ä¸­æ‰€æœ‰éé™æ€æ–¹æ³•éƒ½ä¼šè¢«æ·»åŠ åˆ° <code>this</code> çš„åŸå‹ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> proto = <span class="built_in">Object</span>.getPrototypeOf(<span class="built_in">this</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPrototypeNames(proto));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">  <span class="function"><span class="title">getAge</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">getGender</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Person(); <span class="comment">// [&#x27;constructor&#x27;, &#x27;getName&#x27;, &#x27;getAge&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œé™æ€æ–¹æ³•ä¸æ˜¯ <code>this</code> çš„å±æ€§ï¼Œå®ƒä»¬åªæ˜¯ç±»è‡ªèº«çš„å±æ€§ã€‚</p>
<p>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­æ²¡æœ‰åˆå§‹çš„ <code>this</code> ç»‘å®šï¼Œå¯åœ¨åŸºç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨ <a href="app://obsidian.md/super">super()</a> æ–¹æ³•ç”Ÿæˆä¸€ä¸ª <code>this</code> ç»‘å®šã€‚è°ƒç”¨ <a href="app://obsidian.md/super">super()</a> æ–¹æ³•ç›¸å½“äºæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">this</span> = <span class="keyword">new</span> Base(); <span class="comment">// Base ä¸ºåŸºç±»</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œåœ¨è°ƒç”¨ <code>super()</code> ä¹‹å‰å¼•ç”¨ <code>this</code> ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><h3 id="this-å’Œå¯¹è±¡è½¬æ¢"><a href="#this-å’Œå¯¹è±¡è½¬æ¢" class="headerlink" title="this å’Œå¯¹è±¡è½¬æ¢"></a><code>this</code> å’Œå¯¹è±¡è½¬æ¢</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">c, d</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.a + <span class="built_in">this</span>.b + c +d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add.call(obj, <span class="number">5</span>, <span class="number">7</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="comment">// expected output: 16</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add.apply(obj, [<span class="number">10</span>, <span class="number">20</span>])); <span class="comment">// 2</span></span><br><span class="line"><span class="comment">// expected output: 34</span></span><br></pre></td></tr></table></figure>

<ol>
<li><code>call()</code> æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°ç”¨ä½œ <code>this</code> çš„å¯¹è±¡ï¼Œè¡¨ç¤ºå°†å‡½æ•° <code>add()</code> æ–¹æ³•çš„ <code>this</code> ç»‘å®šåˆ°å¯¹è±¡ <code>obj</code> ä¸Šã€‚è¿™æ ·ï¼Œå½“åœ¨å‡½æ•° <code>add()</code> å†…éƒ¨è®¿é—® <code>this</code> æ—¶ï¼Œå®ƒä¼šæŒ‡å‘åˆ° <code>obj</code> å¯¹è±¡ä¸Šã€‚å…¶ä½™å‚æ•°ç”¨ä½œå‡½æ•° <code>add()</code> çš„å‚æ•°ã€‚</li>
<li><code>apply()</code> æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ç”¨ä½œ <code>this</code> çš„å¯¹è±¡ï¼Œè¡¨ç¤ºå°†å‡½æ•° <code>add()</code> çš„ <code>this</code> ç»‘å®šåˆ°å¯¹è±¡ <code>obj</code> ä¸Šã€‚è¿™æ ·ï¼Œå½“åœ¨å‡½æ•° <code>add()</code> å†…éƒ¨è®¿é—® <code>this</code> æ—¶ï¼Œå®ƒä¼šæŒ‡å‘åˆ° <code>obj</code> å¯¹è±¡ä¸Šã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æˆå‘˜ç”¨ä½œ <code>add()</code> æ–¹æ³•çš„å‡½æ•°å‚æ•°ã€‚</li>
</ol>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this#%E7%B1%BB%E4%B8%8A%E4%B8%8B%E6%96%87">MDN Web Docs: ç±»ä¸Šä¸‹æ–‡ä¸­çš„ this</a><div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦ä¹‹ this</tag>
      </tags>
  </entry>
  <entry>
    <title>NextJS å…¥é—¨æŒ‡å—</title>
    <url>/post/NextJS-%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<p>ç³»ç»Ÿè¦æ±‚ï¼š</p>
<ol>
<li>æ“ä½œç³»ç»Ÿï¼šMacOS&#x2F;Windows (æ”¯æŒ WSL)&#x2F;Linux</li>
<li>Node.jsï¼š&gt;&#x3D; 12.22.0</li>
</ol>
<span id="more"></span>

<h2 id="è‡ªåŠ¨è®¾ç½®"><a href="#è‡ªåŠ¨è®¾ç½®" class="headerlink" title="è‡ªåŠ¨è®¾ç½®"></a>è‡ªåŠ¨è®¾ç½®</h2><p>æ¨èä½¿ç”¨ <code>create-next-app</code> æ¥è‡ªåŠ¨è®¾ç½® NextJS åº”ç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx create-next-app@latest</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">yarn create next-app</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">pnpm create next-app</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³åœ¨åˆ›å»ºé¡¹ç›®æ—¶åŠ å…¥å¯¹ TypeScript çš„æ”¯æŒï¼Œå¯åœ¨å‘½ä»¤åé¢åŠ ä¸Š <code>--typescript</code> å‚æ•°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx create-next-app@latest --typescript</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">yarn create next-app --typescript</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">pnpm create next-app --typescript</span><br></pre></td></tr></table></figure>

<p>é¡¹ç›®åˆ›å»ºæˆåŠŸåï¼š</p>
<ol>
<li>è¿è¡Œ <code>npm run dev</code> æˆ– <code>yarn dev</code> æˆ– <code>pnpm dev</code> å¯åŠ¨é¡¹ç›®ï¼›</li>
<li>åœ¨æµè§ˆå™¨ä¸­è®¿é—® <a href="http://localhost:3000ï¼›">http://localhost:3000ï¼›</a></li>
<li>ç¼–è¾‘ <code>pages/index.js</code> æ–‡ä»¶åï¼Œåœ¨æµè§ˆå™¨ä¸­å®æ—¶æŸ¥çœ‹ç¼–è¯‘ç»“æœï¼ˆæ”¯æŒçƒ­æ›´æ–°ï¼‰ã€‚</li>
</ol>
<h2 id="æ‰‹åŠ¨è®¾ç½®"><a href="#æ‰‹åŠ¨è®¾ç½®" class="headerlink" title="æ‰‹åŠ¨è®¾ç½®"></a>æ‰‹åŠ¨è®¾ç½®</h2><p>åœ¨é¡¹ç›®ä¸­å®‰è£… <code>next</code>ï¼Œ<code>react</code> å’Œ <code>react-dom</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install next react react-dom</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">yarn add next react react-dom</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">pnpm add next react react-dom</span><br></pre></td></tr></table></figure>

<p>åœ¨çš„ <code>package.json</code> æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢çš„è„šæœ¬å‘½ä»¤ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;dev&quot;</span>: <span class="string">&quot;next dev&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;next build&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;start&quot;</span>: <span class="string">&quot;next start&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;next lint&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸åŒçš„è„šæœ¬å‘½ä»¤å¯¹åº”ä¸åŒçš„å¼€å‘é˜¶æ®µï¼š</p>
<ul>
<li><code>dev</code> - å¼€å‘ç¯å¢ƒä¸‹å¯åŠ¨ Next.js</li>
<li><code>build</code> - ç”Ÿäº§ç¯å¢ƒæ‰“åŒ… Next.js</li>
<li><code>start</code> - ç”Ÿäº§ç¯å¢ƒä¸‹å¯åŠ¨ Next.js</li>
<li><code>lint</code> - è®¾ç½® Next.js å†…ç½®çš„ ESLint é…ç½®</li>
</ul>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ <code>pages</code> å’Œ <code>public</code>ï¼š</p>
<ul>
<li><code>pages</code> - Next.js ä¼šå°† <code>pages</code> æ–‡ä»¶å¤¹ä¸‹çš„æ¯ä¸ªæ–‡ä»¶å½“åšä¸€ä¸ªè·¯ç”±æ¥å¤„ç†ï¼Œè·¯ç”±åå¯¹åº”æ–‡ä»¶åã€‚ä¾‹å¦‚ï¼š <code>pages/about.js</code> å°†æ˜ å°„ä¸º <code>/about</code></li>
<li><code>public</code> - å­˜å‚¨é™æ€èµ„æºï¼Œå¦‚å›¾åƒã€å­—ä½“ç­‰ã€‚<code>public</code> ç›®å½•ä¸‹çš„æ–‡ä»¶å¯ä»¥åœ¨é¡¹ç›®ä¸­è¢«å¼•ç”¨ï¼Œå¼•ç”¨åœ°å€ä¸ºæ ¹è·¯å¾„ï¼ˆ&#x2F;ï¼‰</li>
</ul>
<p>Next.js ä¸­ï¼Œæ¯ä¸ªé¡µé¢ï¼ˆpages ç›®å½•ä¸‹ï¼‰éƒ½æ˜¯ä¸€ä¸ª React ç»„ä»¶ï¼Œæ–‡ä»¶ä»¥ <code>.js</code>ã€<code>.ts</code>ã€<code>.jsx</code> æˆ– <code>.tsx</code> åç¼€ç»“å°¾ã€‚é€šè¿‡ç‰¹å®šçš„æ–‡ä»¶åå‘½åæ ¼å¼ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥å®ç°åŠ¨æ€è·¯ç”±çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š<code>[pid].tsx</code>ã€‚</p>
<p>ä»¥ä¸Šï¼Œå°±æ˜¯ Next.js æœ€åŸºæœ¬çš„å…¥é—¨æŒ‡å—äº†ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title>NextJS æ·»åŠ  TypeScript</title>
    <url>/post/NextJS-%E6%B7%BB%E5%8A%A0-TypeScript/</url>
    <content><![CDATA[<p>åœ¨ NextJS é¡¹ç›®ä¸­è¦æ·»åŠ å¯¹ TypeScript çš„æ”¯æŒï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>å®˜æ–¹è„šæ‰‹æ¶ï¼›</li>
<li>æ‰‹åŠ¨å®‰è£…ã€‚</li>
</ol>
<span id="more"></span>

<h2 id="å®˜æ–¹è„šæ‰‹æ¶"><a href="#å®˜æ–¹è„šæ‰‹æ¶" class="headerlink" title="å®˜æ–¹è„šæ‰‹æ¶"></a>å®˜æ–¹è„šæ‰‹æ¶</h2><p>åœ¨åˆ›å»ºæ–°çš„ NextJS é¡¹ç›®æ—¶ï¼Œå¯æ–¹ä¾¿çš„é€šè¿‡å®˜æ–¹è„šæ‰‹æ¶æ¥è·å¾—å¯¹ TypeScript çš„æ”¯æŒã€‚åªéœ€åœ¨è„šæ‰‹æ¶å‘½ä»¤ååŠ ä¸€ä¸ª <code>--ts</code> æˆ– <code>--typescript</code> å‚æ•°å³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx create-next-app@latest --ts</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">yarn create next-app --typescript</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">pnpm create next-app --ts</span><br></pre></td></tr></table></figure>

<p>åœ¨åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼Œè¿™ç§æ–¹å¼æ˜¯æœ€ç®€å•ã€‚</p>
<p>è‹¥æ˜¯åœ¨ç°æœ‰çš„ NextJS é¡¹ç›®ä¸­æ·»åŠ  TypeScriptï¼Œå°±åªèƒ½æ‰‹åŠ¨å®‰è£…äº†ã€‚</p>
<h2 id="æ‰‹åŠ¨å®‰è£…"><a href="#æ‰‹åŠ¨å®‰è£…" class="headerlink" title="æ‰‹åŠ¨å®‰è£…"></a>æ‰‹åŠ¨å®‰è£…</h2><p>é¦–å…ˆï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º TypeScript çš„é…ç½®æ–‡ä»¶ <code>tsconfig.json</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ touch tsconfig.json</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæ‰§è¡Œ <code>npm run dev</code> æˆ– <code>yarn dev</code>ï¼ŒNextJS å°†è‡ªåŠ¨é…ç½® TypeScript çš„é»˜è®¤å€¼åˆ° <code>tsconfig.json</code> æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ yarn dev</span><br><span class="line">yarn run v1.22.17</span><br><span class="line">$ next dev</span><br><span class="line">ready - started server on 0.0.0.0:3000, url: http://localhost:3000</span><br><span class="line">It looks like you<span class="string">&#x27;re trying to use TypeScript but do not have the required package(s) installed.</span></span><br><span class="line"><span class="string">Installing dependencies</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">If you are not trying to use TypeScript, please remove the tsconfig.json file from your package root (and any TypeScript files in your pages directory).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Installing devDependencies (yarn):</span></span><br><span class="line"><span class="string">- typescript</span></span><br><span class="line"><span class="string">- @types/react</span></span><br><span class="line"><span class="string">- @types/node</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string">wait  - compiling / (client and server)...</span></span><br><span class="line"><span class="string">event - compiled client and server successfully in 119 ms (207 modules)</span></span><br></pre></td></tr></table></figure>

<p>é™¤æ­¤ä¹‹å¤–ï¼ŒNextJS è¿˜ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•é¢å¤–åˆ›å»ºä¸€ä¸ª <code>next-env.d.ts</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶é»˜è®¤å¿½ç•¥æäº¤å¹¶ä¸”ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶åœ¨é¡¹ç›®ç¼–è¯‘æ—¶å¯èƒ½éšæ—¶è¢«æ›´æ”¹ã€‚è€Œè‹¥è¦æä¾›å…¨å±€ç±»å‹ï¼Œå¯ä»¥æ–°å¢ä¸€ä¸ª <code>additional.d.ts</code> æ–‡ä»¶ç”¨æ¥æä¾›é¡¹ç›®å…¨å±€ç±»å‹ã€‚ä¸è¦å¿˜è®°å°† <code>additional.d.ts</code> æ–‡ä»¶æ·»åŠ åˆ° <code>tsconfig.json</code> é…ç½®æ–‡ä»¶ä¸­ï¼Œé€šå¸¸æ˜¯æ·»åŠ åˆ° <code>include</code> æ•°ç»„ä¸­å³å¯ã€‚</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;include&quot;</span>: [<span class="string">&quot;next-env.d.ts&quot;</span>, <span class="string">&quot;additional.d.ts&quot;</span>, <span class="string">&quot;**/*.ts&quot;</span>, <span class="string">&quot;**/*.tsx&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šï¼Œæ˜¯åœ¨ NextJS é¡¹ç›®ä¸­æ·»åŠ  TypeScript çš„ä¸¤ç§æ–¹å¼ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
  </entry>
  <entry>
    <title>prefers-color-scheme è®¾ç½®ã€æ£€æµ‹ç³»ç»Ÿä¸»é¢˜è‰²</title>
    <url>/post/prefers-color-scheme-%E8%AE%BE%E7%BD%AE%E3%80%81%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F%E4%B8%BB%E9%A2%98%E8%89%B2/</url>
    <content><![CDATA[<p>æˆ‘ä»¬åœ¨è®¿é—®æŸä¸ªç«™ç‚¹æ—¶ï¼Œæœ‰æ—¶å¯èƒ½ä¼šå‘ç°è¿™æ ·ä¸€ç§åœºæ™¯ï¼šè¯¥ç«™ç‚¹åœ¨ç™½å¤©è®¿é—®æ—¶ï¼Œå®ƒæ˜¯äº®è‰²ä¸»é¢˜ï¼›å½“æ™šä¸Šè®¿é—®æ—¶ï¼Œå®ƒå°±å˜æˆæš—è‰²ä¸»é¢˜äº†ã€‚è€Œä¸”è¿™ç§ä¸»é¢˜çš„åˆ‡æ¢æ˜¯è‡ªåŠ¨çš„ï¼Œä»–ä¼šéšç³»ç»Ÿä¸»é¢˜å˜åŒ–è€Œæ”¹å˜ã€‚å¦‚æœæˆ‘ä»¬è¦å°†è¿™ç§åŠŸèƒ½åº”ç”¨åœ¨è‡ªå·±ç«™ç‚¹ä¸Šï¼Œè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p>
<p>æœ¬æ–‡æ¶‰åŠä¸‰ä¸ªç›¸å…³çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>è®¾ç½®ä¸»é¢˜è‰²</li>
<li>æ£€æŸ¥ä¸»é¢˜è‰²</li>
<li>ç›‘å¬ä¸»é¢˜è‰²å˜åŒ–</li>
</ol>
<span id="more"></span>

<h2 id="è®¾ç½®ä¸»é¢˜è‰²"><a href="#è®¾ç½®ä¸»é¢˜è‰²" class="headerlink" title="è®¾ç½®ä¸»é¢˜è‰²"></a>è®¾ç½®ä¸»é¢˜è‰²</h2><p>åœ¨ CSS ä¸­ï¼Œæä¾›äº†ä¸€ç§è®¾ç½®ç³»ç»Ÿä¸»é¢˜è‰²çš„åª’ä½“ç‰¹æ€§ <code>prefers-color-scheme</code>ï¼Œè¯¥ç‰¹æ€§é€šå¸¸æä¾›ä¸¤ä¸ªå€¼ <code>light</code> å’Œ <code>dark</code>ã€‚é¡¾åæ€ä¹‰ï¼Œè¿™ä¸¤ä¸ªå€¼ä¸€ä¸ªä»£è¡¨ <code>æ—¥é—´æ¨¡å¼</code>ï¼Œä¸€ä¸ªè¡¨ç¤º <code>å¤œé—´æ¨¡å¼</code>ã€‚å¹¶ä¸”ä»–ä»¬çš„å…¼å®¹æ€§ä¹Ÿæ˜¯æœ€å¥½çš„ã€‚</p>
<p><img src="https://www.hi-ruofei.com/usr/uploads/2022/09/4286262697.png" alt="prefers-color-scheme å…¼å®¹æ€§"></p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„é€šè¿‡ CSS å®ç°ç³»ç»Ÿä¸»é¢˜è‰²ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.day</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.night</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">  <span class="selector-class">.day</span><span class="selector-class">.dark-scheme</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.night</span><span class="selector-class">.dark-scheme</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: black;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ddd</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: light) &#123;</span><br><span class="line">  <span class="selector-class">.day</span><span class="selector-class">.light-scheme</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: white;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#555</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.night</span><span class="selector-class">.light-scheme</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“ç³»ç»Ÿä¸»é¢˜ä¸ºæ—¥é—´æ¨¡å¼æ—¶ï¼Œä¼šåº”ç”¨ä¸Šé¢çš„ light ä¸»é¢˜æ ·å¼ï¼›å½“ç³»ç»Ÿä¸»é¢˜ä¸ºå¤œé—´æ¨¡å¼æ—¶ï¼Œä¼šåº”ç”¨ä¸Šé¢çš„ dark ä¸»é¢˜æ ·å¼ã€‚</p>
<p>å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šå°†é¡¹ç›®ç”¨åˆ°çš„è‰²å€¼æŠ½ç¦»å‡ºæ¥ä½œä¸ºå…¨å±€çš„å…¬å…±å˜é‡ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹é¡¹ç›®æ•´ä½“çš„è‰²å€¼ç®¡ç†ã€‚å¦‚ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  // Light Theme</span><br><span class="line">  --PrimaryBackgroundColorLight: <span class="number">#f9f9f9</span>;</span><br><span class="line">  --PageBackgroundColorLight: <span class="number">#efefef</span>;</span><br><span class="line">  --PrimaryColorLight: <span class="number">#34495e</span>;</span><br><span class="line">  --PrimaryActivedColorLight: <span class="number">#1890ff</span>;</span><br><span class="line"></span><br><span class="line">  // Dark Theme</span><br><span class="line">  --PrimaryBackgroundColorDark: <span class="number">#293042</span>;</span><br><span class="line">  --PageBackgroundColorDark: <span class="number">#202634</span>;</span><br><span class="line">  --PrimaryColorDark: <span class="number">#c6cfd8</span>;</span><br><span class="line">  --PrimaryActivedColorDark: <span class="number">#1890ff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å®šä¹‰å¥½å…¨å±€ CSS å˜é‡åï¼Œåœ¨éœ€è¦çš„åœ°æ–¹ç›´æ¥å¼•ç”¨å³å¯ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.day</span><span class="selector-class">.light</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--PrimaryBackgroundColorLight);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ£€æµ‹ä¸»é¢˜è‰²"><a href="#æ£€æµ‹ä¸»é¢˜è‰²" class="headerlink" title="æ£€æµ‹ä¸»é¢˜è‰²"></a>æ£€æµ‹ä¸»é¢˜è‰²</h2><p>æ—¢ç„¶èƒ½é€šè¿‡ CSS è®¾ç½®ç³»ç»Ÿä¸»é¢˜è‰²ï¼Œé‚£ JS è‚¯å®šä¹Ÿæœ‰èƒ½åŠ›æ¥æ£€æµ‹ç³»ç»Ÿä¸»é¢˜è‰²ã€‚JS æä¾›äº†ä¸€ä¸ªç”¨äºæ£€æŸ¥åª’ä½“æŸ¥è¯¢çš„å‡½æ•° <code>matchMedia</code>ï¼Œåˆ©ç”¨è¯¥å‡½æ•°èƒ½æ–¹ä¾¿åœ°æ£€æŸ¥å½“å‰ç³»ç»Ÿä¸»é¢˜è‰²ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> themeMedia = <span class="built_in">window</span>.matchMedia(<span class="string">&quot;(prefers-color-scheme: light)&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (themeMedia.matches) &#123;</span><br><span class="line">  <span class="comment">// æ—¥é—´æ¨¡å¼</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// å¤œé—´æ¨¡å¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç›‘å¬ä¸»é¢˜è‰²å˜åŒ–"><a href="#ç›‘å¬ä¸»é¢˜è‰²å˜åŒ–" class="headerlink" title="ç›‘å¬ä¸»é¢˜è‰²å˜åŒ–"></a>ç›‘å¬ä¸»é¢˜è‰²å˜åŒ–</h2><p>é™¤äº†è·å–å½“å‰ç³»ç»Ÿä¸»é¢˜è‰²ï¼Œæˆ‘ä»¬è¿˜èƒ½ç›‘å¬ä¸»é¢˜è‰²çš„å˜åŒ–ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> themeMedia = <span class="built_in">window</span>.matchMedia(<span class="string">&quot;(prefers-color-scheme: light)&quot;</span>);</span><br><span class="line">themeMedia.addListener(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (e.matches) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;light&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;dark&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šé¢æåˆ°çš„ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼Œåœ¨è‡ªå·±ç«™ç‚¹å®ç°ä¸»é¢˜è‰²åŠŸèƒ½æ˜¯ç»°ç»°æœ‰ä½™çš„ã€‚åƒä¸€äº›æ›´ä¸°å¯Œçš„å¤šä¸»é¢˜åˆ‡æ¢ï¼Œè™½ç„¶å®ç°çš„æ–¹æ³•ä¸åŒï¼Œä½†æ€è·¯åŸºæœ¬éƒ½æ˜¯ç±»ä¼¼çš„ã€‚æ€»ç»“èµ·æ¥å°±æ˜¯å¼€ç¯‡çš„ä¸‰å¥è¯ï¼šå¦‚ä½•è®¾ç½®ä¸»é¢˜ã€è·å–å½“å‰è¢«åº”ç”¨çš„ä¸»é¢˜ä»¥åŠç›‘å¬ä¸»é¢˜çš„å˜æ›´ã€‚</p>
<p>ä»¥ä¸Šï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
      <categories>
        <category>CSS</category>
      </categories>
  </entry>
  <entry>
    <title>404</title>
    <url>//404.html</url>
    <content><![CDATA[<p>å“‡å“¦ï¼Œé¡µé¢ä¸è§äº†ï½ è¿”å›<a href="/">é¦–é¡µ</a></p>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
  </entry>
  <entry>
    <title>Webpack</title>
    <url>/Webpack/index.html</url>
    <content><![CDATA[<h2 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h2><ul>
<li><a href="/post/6409f2be/">HtmlWebpackPlugin</a><div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>å…³äºåšä¸»</title>
    <url>/about/index.html</url>
    <content><![CDATA[<h2 id="åŸºæœ¬ä¿¡æ¯"><a href="#åŸºæœ¬ä¿¡æ¯" class="headerlink" title="åŸºæœ¬ä¿¡æ¯"></a>åŸºæœ¬ä¿¡æ¯</h2><p>å§“åï¼šè‹¥é<br>æè¿°ï¼šçˆ±ç¼–ç ï¼Œçˆ±ç”Ÿæ´»ï¼Œçˆ±åˆ†äº«<br>æŠ€æœ¯æ ˆï¼šHexoã€NexTã€GitHub Action</p>
<p>è¯´æ¥æƒ­æ„§ï¼Œåšä¸»ä» 2017 å¹´å¼€å§‹å°±æ–­æ–­ç»­ç»­åœ°å†™åšå®¢ï¼Œä¸è¿‡ä¸­é—´ä¸€ç›´æ²¡æœ‰åšæŒä¸‹æ¥ã€‚ 2020 å¹´åº•å†³å®šã€Œä»å¤´å†æ¥ã€ã€‚ç›®å‰åšä¸»åªè¿è¥äº†è¿™ä¸€ä¸ªåšå®¢ç«™ï¼Œä¸»è¦å†…å®¹ä»¥å‰ç«¯å¼€å‘ä¸ºä¸»ï¼Œä¹Ÿä¼šæœ‰ä¸€äº›å‘¨è¾¹å·¥å…·çš„ä»‹ç»å’Œç¼–ç æŠ€å·§çš„æ€»ç»“ï¼Œå¸Œæœ›æˆ‘å†™çš„æ–‡å­—èƒ½å¸®åŠ©åˆ°æœ‰ç¼˜æ¥åˆ°æœ¬ç«™çš„æœ‹å‹ï¼Œæœ‰ä»»ä½•æƒ³æ³•æ¬¢è¿ç•™è¨€è®¨è®ºã€‚</p>
<p>æœ¬ç«™é‡‡ç”¨ Hexo + NexT æ­å»ºï¼Œæœ‰æƒ³è‡ªå·±è¿è¥ä¸€ä¸ªç±»ä¼¼çš„åšå®¢çš„æœ‹å‹ä¹Ÿæ¬¢è¿æ¥å’¨è¯¢ã€‚</p>
<h2 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a><a href="/links">å‹æƒ…é“¾æ¥</a></h2><p>ä»¥ä¸‹ä¸ºæœ¬ç«™å®šæœŸè®¿é—®çš„å‹é“¾ç½‘ç«™ï¼Œå¦‚æœä½ å¸Œæœ›åŠ å…¥åšä¸»å®šæœŸè®¿é—®çš„é¡¹ç›®é‡Œï¼Œè¯·ä½ ä¿æŒå®šæœŸæ›´æ–°ç½‘ç«™ï¼å¸Œæœ›æ·»åŠ å‹æƒ…é“¾æ¥çš„è¯·å…ˆæ·»åŠ æœ¬ç«™é“¾æ¥å†ç•™è¨€ï¼Œè¿™æ˜¯çº¦å®šæˆä¿—çš„è§„çŸ©ï¼Œå¦‚æœè´µç«™ä¸é€‚åˆæœ¬ç«™é“¾æ¥ï¼Œæˆ‘ä¼šåœ¨ä½ åšå®¢å‹é“¾é¡µè¯´æ˜ã€‚æ³¨ï¼šé‡‡é›†ç«™ï¼Œéæ³•ç«™ä¸€å¾‹ä¸æ¥å—é“¾æ¥ï¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://hi-ruofei.com/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;è‹¥éçš„æ—¥å¿—&quot;</span>&gt;</span>è‹¥éçš„æ—¥å¿—<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‹é“¾ç•™è¨€æ ¼å¼ä¸ºï¼š<br>ç«™åï¼šè‹¥éçš„æ—¥å¿—<br>ç½‘å€ï¼š<a href="https://hi-ruofei.com/">https://hi-ruofei.com</a><br>æè¿°ï¼šçˆ±ç¼–ç ï¼Œçˆ±ç”Ÿæ´»ï¼Œçˆ±åˆ†äº«</p>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6487844781006261"
     data-ad-slot="3432081921"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
  </entry>
  <entry>
    <title>books</title>
    <url>/books/index.html</url>
    <content><![CDATA[<ul>
<li><a href="https://books.hi-ruofei.com/54m0dfqx">JavaScript é«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬ 4 ç‰ˆï¼‰</a><ul>
<li><a href="https://books.hi-ruofei.com/54m0dfqx">åœ¨çº¿é˜…è¯»</a></li>
<li><a href="http://gofile.me/6gkca/aeWRSr9Pe">ä¸‹è½½</a> - å…³æ³¨å¾®ä¿¡å…¬ä¼—å·<strong>è‹¥éçš„æ—¥å¿—</strong>ï¼Œå‘é€<strong>æˆ‘çˆ±é˜…è¯»</strong>è·å–ä¸‹è½½å¯†ç <div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></li>
</ul>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>åˆ†ç±»</title>
    <url>/categories/index.html</url>
    <content><![CDATA[<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
  </entry>
  <entry>
    <title>ç•™è¨€åé¦ˆ</title>
    <url>/feedback/index.html</url>
    <content><![CDATA[<p>ä½ å¯ä»¥ï¼š</p>
<ul>
<li>æå»ºè®®ï¼›</li>
<li>éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼›<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>å‹æƒ…é“¾æ¥</title>
    <url>/links/index.html</url>
    <content><![CDATA[<h2 id="å¼€å‘ç›¸å…³"><a href="#å¼€å‘ç›¸å…³" class="headerlink" title="å¼€å‘ç›¸å…³"></a>å¼€å‘ç›¸å…³</h2><ul>
<li><a href="https://console.cloud.tencent.com/tcb/env/overview">äº‘å¼€å‘ CloudBase</a></li>
<li><a href="https://iwzo4eq4.mirror.aliyuncs.com/">Docker é•œåƒåŠ é€Ÿå™¨</a></li>
<li><a href="https://docs.docker.com/">Docker Docs</a></li>
</ul>
<h2 id="ç«™é•¿å·¥å…·"><a href="#ç«™é•¿å·¥å…·" class="headerlink" title="ç«™é•¿å·¥å…·"></a>ç«™é•¿å·¥å…·</h2><ul>
<li><a href="https://ziyuan.baidu.com/dashboard/index?site=https://hi-ruofei.com">ç™¾åº¦ç«™é•¿</a></li>
<li><a href="https://tongji.baidu.com/web/10000139264/homepage">ç™¾åº¦ç»Ÿè®¡</a></li>
<li><a href="https://search.google.com/search-console?resource_id=sc-domain:hi-ruofei.com">Google Search Console</a><div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>æ ‡ç­¾</title>
    <url>/tags/index.html</url>
    <content><![CDATA[<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
  </entry>
  <entry>
    <title>TypeScript</title>
    <url>/typescript/index.html</url>
    <content><![CDATA[<h2 id="Utility-Types-å®ç”¨ç±»å‹"><a href="#Utility-Types-å®ç”¨ç±»å‹" class="headerlink" title="Utility Types å®ç”¨ç±»å‹"></a>Utility Types å®ç”¨ç±»å‹</h2><p>è¯¥ç³»åˆ—æ–‡ç« æ•´ç†äº† TypeScript ä½œç”¨äºå…¨å±€çš„å†…ç½®å®ç”¨ç±»å‹ï¼Œè¿™äº›å®ç”¨ç±»å‹éƒ½æ˜¯ç”±æœ€åŸºç¡€çš„ TypeScript è¯­æ³•ç¼–å†™è€Œæˆã€‚åœ¨å¼€å‘ TypeScript åº”ç”¨ç¨‹åºè¿‡ç¨‹ä¸­ï¼Œç”¨å¥½è¿™äº›å†…ç½®çš„å®ç”¨ç±»å‹å¯å¸®åŠ©æˆ‘ä»¬å‡å°‘ä¸šåŠ¡ä»£ç é‡ï¼Œè¿˜èƒ½è®©æˆ‘ä»¬æ›´å®¹æ˜“åœ°å†™å‡ºé€»è¾‘å¤æ‚çš„ä¸šåŠ¡ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¤¯å® TypeScript åŸºç¡€ã€‚å­¦å¥½ TypeScript å†…ç½®çš„å®ç”¨ç±»å‹æ˜¯å‘ä¸Šè¿›é˜¶çš„å¿…ç»ä¹‹è·¯ã€‚</p>
<ul>
<li><a href="/post/TypeScript-Utility-Types-Partial-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Partial"><code>Partial&lt;Type&gt;</code></a>ï¼šå°†ä¸€ä¸ªå¤åˆç±»å‹ä¸­çš„æˆå‘˜è®¾ä¸ºå¯é€‰ã€‚</li>
<li><a href="/post/TypeScript-Utility-Types-Required-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Required"><code>Required&lt;Type&gt;</code></a>ï¼šå°†ä¸€ä¸ªå¤åˆç±»å‹ä¸­çš„æˆå‘˜è®¾ä¸ºå¿…é€‰ã€‚</li>
<li><a href="/post/TypeScript-Utility-Types-Readonly-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Readonly"><code>Readonly&lt;Type&gt;</code></a>ï¼šå°†ä¸€ä¸ªå¤åˆç±»å‹ä¸­çš„æˆå‘˜è®¾ä¸ºåªè¯»ã€‚</li>
<li><a href="/post/TypeScript-Utility-Types-Record-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Record"><code>Record&lt;Keys, Type&gt;</code></a>ï¼šå°†ä¸€ä¸ªå¤åˆç±»å‹ä¸­çš„æˆå‘˜æ˜ å°„åˆ°å¦ä¸€ä¸ªå¤åˆç±»å‹ä»¥æ„é€ æ–°ç±»å‹ã€‚</li>
<li><a href="/post/TypeScript-Utility-Types-Pick-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Pick"><code>Pick&lt;Type, Keys&gt;</code></a>ï¼šä»ä¸€ä¸ªå¤åˆç±»å‹ä¸­æŒ‘é€‰è‹¥å¹²å±æ€§é”®æ¥æ„é€ æ–°ç±»å‹ã€‚</li>
<li><a href="/post/TypeScript-Utility-Types-Omit-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Omit"><code>Omit&lt;Type, Keys&gt;</code></a>ï¼šä»ä¸€ä¸ªå¤åˆç±»å‹ä¸­é€‰å–æ‰€æœ‰å±æ€§å¹¶é€šè¿‡åˆ é™¤æŒ‡å®šçš„æˆå‘˜æ¥æ„é€ æ–°ç±»å‹ã€‚</li>
<li><a href="/post/TypeScript-Utility-Types-Exclude-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Exclude"><code>Exclude&lt;Type, ExcludeUnion&gt;</code></a>ï¼šæ’é™¤è”åˆç±»å‹ä¸­çš„åˆ¶å®šæˆå‘˜æ¥æ„é€ æ–°ç±»å‹ã€‚</li>
<li><a href="/post/TypeScript-Utility-Types-Extract-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-Extract"><code>Extract&lt;T, U&gt;</code></a>ï¼šæŒ‘é€‰å‡ºä¼ å…¥çš„ä¸¤ä¸ªè”åˆç±»å‹ä¸­ç›¸åŒçš„æˆå‘˜ï¼Œå°†è¿™äº›ç›¸åŒçš„æˆå‘˜æ„é€ æˆä¸€ä¸ªæ–°ç±»å‹ã€‚</li>
<li><a href="/post/TypeScript-Utility-Types-NonNullable-TypeScript-%E5%AE%9E%E7%94%A8%E7%B1%BB%E5%9E%8B-NonNullable"><code>NonNullable&lt;Type&gt;</code></a>ï¼šæ’é™¤è”åˆç±»å‹ä¸­ä¸º <code>null</code> æˆ– <code>undefined</code> çš„æˆå‘˜ï¼Œå°†å‰©ä¸‹çš„æˆå‘˜æ„é€ æˆæ–°ç±»å‹ã€‚</li>
</ul>
<hr>
<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>]]></content>
  </entry>
  <entry>
    <title>æ›´æ–°æ—¥å¿—</title>
    <url>/update-log/index.html</url>
    <content><![CDATA[<h2 id="2022-05-05"><a href="#2022-05-05" class="headerlink" title="2022.05.05"></a>2022.05.05</h2><ul>
<li>Update dependency hexo-generator-sitemap to v3.0.1</li>
<li>Update dependency hexo-theme-next to 8.11.1</li>
<li>Update dependency markdown-it to 13.0.1</li>
<li>Update dependency npm-check-updates to 12.5.11</li>
</ul>
<h2 id="2022-04-01"><a href="#2022-04-01" class="headerlink" title="2022.04.01"></a>2022.04.01</h2><ul>
<li>å¸¸è§„æ›´æ–°</li>
<li>Bing ç½‘ç«™éªŒè¯</li>
</ul>
<h2 id="2022-03-10"><a href="#2022-03-10" class="headerlink" title="2022.03.10"></a>2022.03.10</h2><ul>
<li>Update dependency hexo-theme-next to v8.10.1</li>
<li>Update dependency node-gyp to v9.0.0</li>
<li>Update dependency npm-check-updates v12.5.2</li>
</ul>
<h2 id="2022-01-30"><a href="#2022-01-30" class="headerlink" title="2022.01.30"></a>2022.01.30</h2><ul>
<li>Update dependency hexo to v6.0.0</li>
<li>Update dependency hexo-renderer-marked to v5.0.0</li>
<li>Update dependency hexo-theme-next to v8.10.0</li>
<li>Update dependency npc-check-updates to v12.4.0</li>
</ul>
<h2 id="2022-01-30-1"><a href="#2022-01-30-1" class="headerlink" title="2022.01.30"></a>2022.01.30</h2><ul>
<li>å°è¯•ä¿®å¤ç§»åŠ¨è®¾å¤‡æ˜“ç”¨æ€§é—®é¢˜</li>
</ul>
<h2 id="2022-01-27"><a href="#2022-01-27" class="headerlink" title="2022.01.27"></a>2022.01.27</h2><ul>
<li>Update dependency markdown-it to v12.3.2</li>
<li>Update dependency node-gyp to v8.4.1</li>
<li>Update dependency npm-check-updates to v12.2.1</li>
<li>Update dependency hexo to v6.0.0</li>
<li>Update dependency hexo-generator-sitemap to v2.2.0</li>
<li>Update dependency hexo-renderer-ejs to v2.0.0</li>
<li>Update dependency hexo-server to v3.0.0</li>
<li>Update dependency hexo-theme-next to v8.9.0</li>
</ul>
<h2 id="2021-10-17"><a href="#2021-10-17" class="headerlink" title="2021.10.17"></a>2021.10.17</h2><ul>
<li><code>hexo-theme-next</code>: ^8.7.1 â†’ ^8.8.0</li>
</ul>
<h2 id="2021-09-27"><a href="#2021-09-27" class="headerlink" title="2021.09.27"></a>2021.09.27</h2><ul>
<li><code>npm-check-updates</code>: ^11.8.3 â†’ ^11.8.5</li>
<li><code>hexo-generator-searchdb</code>: ^1.3.4 â†’ ^1.4.0</li>
</ul>
<h2 id="2021-09-02"><a href="#2021-09-02" class="headerlink" title="2021.09.02"></a>2021.09.02</h2><ul>
<li>æ›´æ–°å¤–éƒ¨ä¾èµ–ï¼š<br><code>hexo-theme-next</code>: ^8.7.0 -&gt; ^8.7.1<br><code>node-gyp</code>: ^8.1.0 -&gt; ^8.2.0</li>
<li>æ›´æ–°ç«™ç‚¹é…ç½®æ–‡ä»¶</li>
</ul>
<h2 id="2021-08-16"><a href="#2021-08-16" class="headerlink" title="2021.08.16"></a>2021.08.16</h2><ul>
<li><code>markdown-it</code>: ^12.0.6 â†’ ^12.2.0</li>
<li><code>npm-check-updates</code>: ^11.8.0 â†’ ^11.8.3</li>
<li><code>hexo-renderer-marked</code>: ^4.0.0 â†’ ^4.1.0</li>
<li><code>hexo-theme-next</code>: ^8.6.1 â†’ ^8.7.0</li>
</ul>
<h2 id="2021-07-02"><a href="#2021-07-02" class="headerlink" title="2021.07.02"></a>2021.07.02</h2><ul>
<li>æ›´æ–°å¤–éƒ¨ä¾èµ–ï¼š<br><code>npm-check-updates@11.7.1</code> &#x3D;&gt; <code>npm-check-updates@11.8.0</code>. <a href="https://github.com/raineorshine/npm-check-updates/tree/v11.8.0">æ–‡æ¡£</a><br><code>hexo-theme-next@8.5.0</code> &#x3D;&gt; <code>hexo-theme-next@8.6.1</code>. <a href="https://theme-next.js.org/next-8-6-1-released/">æ–‡æ¡£</a></li>
</ul>
<h2 id="2021-06-26"><a href="#2021-06-26" class="headerlink" title="2021.06.26"></a>2021.06.26</h2><ul>
<li>æ–‡ç« æ¸²æŸ“å‰è‡ªåŠ¨åœ¨ post é¡µé¢åº•éƒ¨ï¼ˆç›¸å…³æ–‡ç« éƒ¨åˆ†å‰é¢ï¼‰æ’å…¥è°·æ­Œå¹¿å‘Š</li>
<li>é€šè¿‡ <a href="https://www.npmjs.com/package/markdown-it"><code>markdown-it</code></a> ä¾èµ–åœ¨æ–‡ç« ä¸­å®ç° Markdown è„šæ³¨åŠŸèƒ½</li>
</ul>
<h2 id="2021-06-19"><a href="#2021-06-19" class="headerlink" title="2021.06.19"></a>2021.06.19</h2><ul>
<li>æ›´æ–°å¤–éƒ¨ä¾èµ–ï¼š<code>npm-check-updates@11.6.0</code> &#x3D;&gt; <code>npm-check-updates@11.7.1</code>ï¼Œ<a href="https://github.com/raineorshine/npm-check-updates/tree/v11.7.1">æ–‡æ¡£</a></li>
<li>æ›´æ–°ç«™ç‚¹æè¿°</li>
</ul>
<h2 id="2021-06-12"><a href="#2021-06-12" class="headerlink" title="2021.06.12"></a>2021.06.12</h2><ul>
<li>æ›´æ–°å¤–éƒ¨ä¾èµ–</li>
<li>æ›´æ–°é…ç½®æ–‡ä»¶</li>
</ul>
<h2 id="2021-05-18"><a href="#2021-05-18" class="headerlink" title="2021.05.18"></a>2021.05.18</h2><ul>
<li>åˆ©ç”¨ jsDelivr æå¤§åŠ é€Ÿè®¿é—®é€Ÿåº¦</li>
</ul>
<h2 id="2021-03-29"><a href="#2021-03-29" class="headerlink" title="2021.03.29"></a>2021.03.29</h2><ul>
<li>è‡ªå®šä¹‰ Tagï¼šcodepen</li>
<li>è‡ªåŠ¨åŒ–å‘å¸ƒ - ä½¿ç”¨ vercel æ‰˜ç®¡é™æ€ç«™ç‚¹ï¼Œæå¤§æé«˜ç«™ç‚¹è®¿é—®é€Ÿåº¦</li>
</ul>
<h2 id="2021-03-28"><a href="#2021-03-28" class="headerlink" title="2021.03.28"></a>2021.03.28</h2><ul>
<li>æ›´æ–°è¯„è®ºç³»ç»Ÿ</li>
<li>æ·»åŠ ã€Œåé¦ˆã€å…¥å£</li>
</ul>
<h2 id="2021-03-25"><a href="#2021-03-25" class="headerlink" title="2021.03.25"></a>2021.03.25</h2><ul>
<li>æ·»åŠ çœ‹æ¿å¨˜</li>
<li>sidebar æ·»åŠ  Netlify é“¾æ¥</li>
<li>é…ç½®ç¬¬ä¸‰æ–¹å·¥å…·ï¼š<a href="https://widgetpack.com/">Widgetpack</a></li>
<li>å®‰è£… ShareButton</li>
</ul>
<h2 id="2021-03-19"><a href="#2021-03-19" class="headerlink" title="2021.03.19"></a>2021.03.19</h2><ul>
<li>æ›´æ–°å¤–éƒ¨ä¾èµ–ï¼š<code>npm-check-updates@11.1.9</code> &#x3D;&gt; <code>npm-check-updates@11.3.0</code></li>
<li>æ›´æ–°ç«™ç‚¹é…ç½®æ–‡ä»¶</li>
</ul>
<h2 id="2021-03-01"><a href="#2021-03-01" class="headerlink" title="2021.03.01"></a>2021.03.01</h2><ul>
<li>æ›´æ–°å¤–éƒ¨ä¾èµ–ï¼š<br><code>hexo@5.3.0</code> &#x3D;&gt; <code>hexo@5.4.0</code><br><code>hexo-lazyload-image@1.0.9</code> &#x3D;&gt; <code>hexo-lazyload-image@1.0.10</code><br><code>hexo-theme-next@8.2.1</code> &#x3D;&gt; <code>hexo-theme-next@8.2.2</code><br><code>npm-check-updates@11.1.4</code> &#x3D;&gt; <code>npm-check-updates@11.1.9</code></li>
<li>æ›´æ–°ç«™ç‚¹é…ç½®æ–‡ä»¶</li>
</ul>
<h2 id="2021-02-20"><a href="#2021-02-20" class="headerlink" title="2021.02.20"></a>2021.02.20</h2><ul>
<li>æ·»åŠ  360 ç«™ç‚¹éªŒè¯ä»£ç </li>
<li>æ·»åŠ  360 è‡ªåŠ¨æ”¶å½•ä»£ç </li>
</ul>
<h2 id="2021-02-18"><a href="#2021-02-18" class="headerlink" title="2021.02.18"></a>2021.02.18</h2><ul>
<li>æ›´æ–°ç¬¬ä¸‰æ–¹ä¾èµ–ï¼š<br><code>hexo-deployer-git@2.1.0</code> &#x3D;&gt; <code>hexo-deployer-git@3.0.0</code><br><code>hexo-renderer-marked@3.3.0</code> &#x3D;&gt; <code>hexo-renderer-marked@4.0.0</code><br><code>hexo-theme-next@8.2.0</code> &#x3D;&gt; <code>hexo-theme-next@8.2.1</code><br><code>npm-check-updates@11.1.0</code> &#x3D;&gt; <code>npm-check-updates@11.1.4</code></li>
</ul>
<h2 id="2021-01-27"><a href="#2021-01-27" class="headerlink" title="2021.01.27"></a>2021.01.27</h2><ul>
<li>æ›´æ–°ç«™ç‚¹é…ç½®æ–‡ä»¶</li>
</ul>
<h2 id="2021-01-26"><a href="#2021-01-26" class="headerlink" title="2021.01.26"></a>2021.01.26</h2><ul>
<li>æ›´æ–°ç¬¬ä¸‰æ–¹ä¾èµ–ï¼š<code>npm-check-updates@11.0.2</code> &#x3D;&gt; <code>npm-check-updates@11.1.0</code></li>
</ul>
<h2 id="2021-01-24"><a href="#2021-01-24" class="headerlink" title="2021.01.24"></a>2021.01.24</h2><ul>
<li>æ›´æ–°ç¬¬ä¸‰æ–¹ä¾èµ–ï¼š<code>npm-check-updates@10.2.5</code> &#x3D;&gt; <code>npm-check-updates@11.0.2</code></li>
</ul>
<h2 id="2021-01-17"><a href="#2021-01-17" class="headerlink" title="2021.01.17"></a>2021.01.17</h2><ul>
<li>ä¿®æ”¹ hexo æ¨¡æ¿æ–‡ä»¶</li>
</ul>
<h2 id="2021-01-14"><a href="#2021-01-14" class="headerlink" title="2021.01.14"></a>2021.01.14</h2><ul>
<li>ç§»é™¤ç¬¬ä¸‰æ–¹ä¾èµ–ï¼š<br><code>hexo-baidu-url-submit@0.0.6</code><br><code>xmlhttprequest@1.8.0</code></li>
<li>ç¼–å†™ hexo æ’ä»¶ï¼Œå®ç° hexo-baidu-url-submit ç±»ä¼¼çš„åŠŸèƒ½</li>
</ul>
<h2 id="2021-01-09"><a href="#2021-01-09" class="headerlink" title="2021.01.09"></a>2021.01.09</h2><ul>
<li>æ›´æ–°ç«™ç‚¹é…ç½®æ–‡ä»¶</li>
<li>æ–°å¢ robots.txt æ–‡ä»¶</li>
</ul>
<h2 id="2021-01-05"><a href="#2021-01-05" class="headerlink" title="2021.01.05"></a>2021.01.05</h2><ul>
<li>ä¿®æ”¹ã€Œç»Ÿè®¡ã€åœ°å€</li>
</ul>
<h2 id="2021-01-04"><a href="#2021-01-04" class="headerlink" title="2021.01.04"></a>2021.01.04</h2><ul>
<li>æ›´æ–°å¤–éƒ¨ä¾èµ–ï¼š<code>hexo-theme-next@8.1.0</code> &#x3D;&gt; <code>hexo-theme-next@8.2.0</code></li>
</ul>
<h2 id="2021-01-03"><a href="#2021-01-03" class="headerlink" title="2021.01.03"></a>2021.01.03</h2><ul>
<li>æ›´æ–°ç«™ç‚¹é…ç½®æ–‡ä»¶</li>
</ul>
<h2 id="2021-01-02"><a href="#2021-01-02" class="headerlink" title="2021.01.02"></a>2021.01.02</h2><ul>
<li>Yandex éªŒè¯ç½‘ç«™æ‰€æœ‰è€…</li>
</ul>
<h2 id="2020-11-31"><a href="#2020-11-31" class="headerlink" title="2020.11.31"></a>2020.11.31</h2><ul>
<li>å¡«å†™å¤‡æ¡ˆå·</li>
<li>æ›´æ–°ç™¾åº¦ç»Ÿè®¡éªŒè¯ä»£ç </li>
</ul>
<h2 id="2020-11-29"><a href="#2020-11-29" class="headerlink" title="2020.11.29"></a>2020.11.29</h2><ul>
<li>æ·»åŠ ç™¾åº¦ç»Ÿè®¡ä»£ç </li>
<li>æ·»åŠ ç½‘å€å¯¼èˆª</li>
<li>æ›´æ–°é‚®ä»¶åœ°å€</li>
<li>é…ç½®é‡å®šå‘</li>
<li>å®‰è£…ç™¾åº¦ç»Ÿè®¡ä»£ç </li>
<li>æ·»åŠ ç™¾åº¦è”ç›ŸéªŒè¯ä¿¡æ¯</li>
</ul>
<h2 id="2020-11-23"><a href="#2020-11-23" class="headerlink" title="2020.11.23"></a>2020.11.23</h2><ul>
<li>å¤–éƒ¨ä¾èµ–æ›´æ–°ï¼š<code>hexo@5.2.0</code> &#x3D;&gt; <code>hexo@5.3.0</code></li>
</ul>
<h2 id="2020-11-19"><a href="#2020-11-19" class="headerlink" title="2020.11.19"></a>2020.11.19</h2><ul>
<li>æ›´æ–°ç™¾åº¦æœç´¢éªŒè¯æ–‡ä»¶</li>
</ul>
<h2 id="2020-11-18"><a href="#2020-11-18" class="headerlink" title="2020.11.18"></a>2020.11.18</h2><ul>
<li>æ·»åŠ ç™¾åº¦æœç´¢éªŒè¯æ–‡ä»¶</li>
</ul>
<h2 id="2020-11-17"><a href="#2020-11-17" class="headerlink" title="2020.11.17"></a>2020.11.17</h2><ul>
<li>æ·»åŠ å¤–éƒ¨ä¾èµ–ï¼š<a href="https://www.npmjs.com/package/hexo-baidu-url-submit"><code>hexo-baidu-url-submit</code></a></li>
<li>æ·»åŠ æœç‹—æœç´¢éªŒè¯æ–‡ä»¶</li>
</ul>
<h2 id="2020-11-16"><a href="#2020-11-16" class="headerlink" title="2020.11.16"></a>2020.11.16</h2><ul>
<li>å€ŸåŠ© GitHub Actions å®ç°åšå®¢çš„è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œå‘å¸ƒ<div class="post-ggad"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6487844781006261" data-ad-slot="3432081921"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></li>
</ul>
]]></content>
  </entry>
</search>
